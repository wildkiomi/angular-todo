(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.notifier=t}call(t,e){const n=new s(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class s extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return function(e){const n=new o(t),r=e.lift(n);return n.caught=r}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const o=Object(r.c)(n,i);o!==i&&this.add(o)}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.1","app")},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("D0XW");function o(t,e=i.a){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var o=n("SeVD"),s=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(o.a)(e)(a)}},agSv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("l7P3"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");function DevToolsFeatureOptions(){}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}};let n="function"==typeof t?t():t;const r=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(r.maxAge&&r.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got "+r.maxAge);return r}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a{}return t.\u0275fac=function(e){return \u0275DevtoolsDispatcher_BaseFactory(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb({token:t,factory:t.\u0275fac}),t})();const \u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob(DevtoolsDispatcher);function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:r}=e[n];return r}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,r)=>{const i=Number(r);return n[i]=sanitizeAction(t,e[i],i),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,r){const i=[],o={},s=[];return t.stagedActionIds.forEach((a,u)=>{const c=t.actionsById[a];c&&(u&&isActionFiltered(t.computedStates[u],c,e,n,r)||(o[a]=c,i.push(a),s.push(t.computedStates[u])))}),Object.assign(Object.assign({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function isActionFiltered(t,e,n,r,i){const o=n&&!n(t,e.action),s=r&&!e.action.type.match(r.map(t=>escapeRegExp(t)).join("|")),a=i&&e.action.type.match(i.map(t=>escapeRegExp(t)).join("|"));return o||s||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Redux Devtools Extension");function ReduxDevtoolsExtensionConnection(){}function ReduxDevtoolsExtensionConfig(){}function ReduxDevtoolsExtension(){}let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.b)()}createActionStreams(){const t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),e=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.STOP)),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>t),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t))),i=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),o=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n));this.start$=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>i)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>o))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){const e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function ComputedState(){}function LiftedAction(){}function LiftedActions(){}function LiftedState(){}function computeNextEntry(t,e,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};let o,s=n;try{s=t(n,e)}catch(a){o=a.toString(),i.handleError(a.stack||a)}return{state:s,error:o}}function recomputeStates(t,e,n,r,i,o,s,a,u){if(e>=t.length&&t.length===o.length)return t;const c=t.slice(0,e),l=o.length-(u?1:0);for(let h=e;h<l;h++){const t=o[h],e=i[t].action,u=c[h-1],l=u?u.state:r,f=u?u.error:void 0,d=s.indexOf(t)>-1?u:computeNextEntry(n,e,l,f,a);c.push(d)}return u&&c.push(t[t.length-1]),c}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,r,i={}){return o=>(s,a)=>{let{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:y,isPaused:b}=s||e;function v(t){let e=t,n=h.slice(1,e+1);for(let r=0;r<n.length;r++){if(g[r+1].error){e=r,n=h.slice(1,e+1);break}delete c[n[r]]}f=f.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],d=g[e].state,g=g.slice(e),p=p>e?p-e:0}function m(){c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=g[p].state,p=0,g=[]}s||(c=Object.create(c));let _=0;switch(a.type){case LOCK_CHANGES:y=a.status,_=1/0;break;case PAUSE_RECORDING:b=a.status,b?(h=[...h,l],c[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,_=h.length-1,g=g.concat(g[g.length-1]),p===h.length-2&&p++,_=1/0):m();break;case RESET:c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=t,p=0,g=[];break;case COMMIT:m();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],p=0,g=[];break;case TOGGLE_ACTION:{const{id:t}=a,e=f.indexOf(t);f=-1===e?[t,...f]:f.filter(e=>e!==t),_=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,r=[];for(let i=t;i<e;i++)r.push(i);f=n?difference(f,r):[...f,...r],_=h.indexOf(t);break}case JUMP_TO_STATE:p=a.index,_=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(p=t),_=1/0;break}case SWEEP:h=difference(h,f),f=[],p=Math.min(p,h.length-1);break;case PERFORM_ACTION:{if(y)return s||e;if(b||s&&isActionFiltered(s.computedStates[p],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const t=g[g.length-1];g=[...g.slice(0,-1),computeNextEntry(o,a.action,t.state,t.error,n)],_=1/0;break}i.maxAge&&h.length===i.maxAge&&v(1),p===h.length-1&&p++;const t=l++;c[t]=a,h=[...h,t],_=h.length-1;break}case IMPORT_STATE:({monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:y,isPaused:b}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:_=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,_,o,d,c,h,f,n,b),v(h.length-i.maxAge),_=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l:if(g.filter(t=>t.error).length>0)_=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,_,o,d,c,h,f,n,b),v(h.length-i.maxAge),_=1/0);else{if(!b&&!y){p===h.length-1&&p++;const t=l++;c[t]=new PerformAction(a,+Date.now()),h=[...h,t],_=h.length-1,g=recomputeStates(g,_,o,d,c,h,f,n,b)}g=g.map(t=>Object.assign(Object.assign({},t),{state:o(t.state,RECOMPUTE_ACTION)})),p=h.length-1,i.maxAge&&h.length>i.maxAge&&v(h.length-i.maxAge),_=1/0}break;default:_=1/0}return g=recomputeStates(g,_,o,d,c,h,f,n,b),u=r(u,a),{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:y,isPaused:b}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,r,i,o,s,a){const u=liftInitialState(s,a.monitor),c=liftReducerWith(s,u,o,a.monitor,a),l=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(e.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),r.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,r.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.b)),h=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(c)),f=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),d=l.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:t},[e,n])=>{let i=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(i=filterLiftedState(i,a.predicate,a.actionsSafelist,a.actionsBlocklist)),r.notify(e,i),{state:i,action:e}},{state:u,action:null})).subscribe(({state:t,action:e})=>{f.next(t),e.type===PERFORM_ACTION&&i.next(e.action)}),p=r.start$.subscribe(()=>{this.refresh()}),g=f.asObservable(),y=g.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=p,this.stateSubscription=d,this.dispatcher=t,this.liftedState=g,this.state=y}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){const t="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[t]?window[t]:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}return t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hb({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb({factory:function(e){return new(e||t)}}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Xe}),n.d(e,"b",function(){return Qa}),n.d(e,"c",function(){return Ba}),n.d(e,"d",function(){return qa}),n.d(e,"e",function(){return za}),n.d(e,"f",function(){return Lu}),n.d(e,"g",function(){return xu}),n.d(e,"h",function(){return Qs}),n.d(e,"i",function(){return ou}),n.d(e,"j",function(){return ws}),n.d(e,"k",function(){return Ya}),n.d(e,"l",function(){return Ts}),n.d(e,"m",function(){return gr}),n.d(e,"n",function(){return Ca}),n.d(e,"o",function(){return Qi}),n.d(e,"p",function(){return un}),n.d(e,"q",function(){return Ye}),n.d(e,"r",function(){return lo}),n.d(e,"s",function(){return zs}),n.d(e,"t",function(){return Bs}),n.d(e,"u",function(){return Ja}),n.d(e,"v",function(){return oa}),n.d(e,"w",function(){return ju}),n.d(e,"x",function(){return ia}),n.d(e,"y",function(){return Ou}),n.d(e,"z",function(){return uu}),n.d(e,"A",function(){return cn}),n.d(e,"B",function(){return $a}),n.d(e,"C",function(){return Ga}),n.d(e,"D",function(){return xs}),n.d(e,"E",function(){return Is}),n.d(e,"F",function(){return mr}),n.d(e,"G",function(){return js}),n.d(e,"H",function(){return lr}),n.d(e,"I",function(){return ln}),n.d(e,"J",function(){return hn}),n.d(e,"K",function(){return Pu}),n.d(e,"L",function(){return ta}),n.d(e,"M",function(){return gu}),n.d(e,"N",function(){return Ze}),n.d(e,"O",function(){return ks}),n.d(e,"P",function(){return As}),n.d(e,"Q",function(){return aa}),n.d(e,"R",function(){return k}),n.d(e,"S",function(){return Eu}),n.d(e,"T",function(){return Fn}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return Un}),n.d(e,"W",function(){return Nu}),n.d(e,"X",function(){return vu}),n.d(e,"Y",function(){return Ka}),n.d(e,"Z",function(){return Ji}),n.d(e,"ab",function(){return as}),n.d(e,"bb",function(){return ur}),n.d(e,"cb",function(){return Wn}),n.d(e,"db",function(){return An}),n.d(e,"eb",function(){return Pn}),n.d(e,"fb",function(){return Mn}),n.d(e,"gb",function(){return Rn}),n.d(e,"hb",function(){return Dn}),n.d(e,"ib",function(){return Nn}),n.d(e,"jb",function(){return rs}),n.d(e,"kb",function(){return Ru}),n.d(e,"lb",function(){return is}),n.d(e,"mb",function(){return os}),n.d(e,"nb",function(){return kn}),n.d(e,"ob",function(){return M}),n.d(e,"pb",function(){return wo}),n.d(e,"qb",function(){return Ro}),n.d(e,"rb",function(){return Do}),n.d(e,"sb",function(){return ns}),n.d(e,"tb",function(){return Ct}),n.d(e,"ub",function(){return l}),n.d(e,"vb",function(){return jn}),n.d(e,"wb",function(){return fo}),n.d(e,"xb",function(){return vt}),n.d(e,"yb",function(){return vs}),n.d(e,"zb",function(){return ei}),n.d(e,"Ab",function(){return Co}),n.d(e,"Bb",function(){return Bo}),n.d(e,"Cb",function(){return La}),n.d(e,"Db",function(){return $}),n.d(e,"Eb",function(){return tt}),n.d(e,"Fb",function(){return y}),n.d(e,"Gb",function(){return b}),n.d(e,"Hb",function(){return Y}),n.d(e,"Ib",function(){return et}),n.d(e,"Jb",function(){return Io}),n.d(e,"Kb",function(){return ko}),n.d(e,"Lb",function(){return Ao}),n.d(e,"Mb",function(){return jo}),n.d(e,"Nb",function(){return Po}),n.d(e,"Ob",function(){return $e}),n.d(e,"Pb",function(){return Xo}),n.d(e,"Qb",function(){return _n}),n.d(e,"Rb",function(){return Qe}),n.d(e,"Sb",function(){return Fa}),n.d(e,"Tb",function(){return No}),n.d(e,"Ub",function(){return Va}),n.d(e,"Vb",function(){return Vo}),n.d(e,"Wb",function(){return Oa}),n.d(e,"Xb",function(){return Ea}),n.d(e,"Yb",function(){return xo}),n.d(e,"Zb",function(){return Ma}),n.d(e,"ac",function(){return zt}),n.d(e,"bc",function(){return hr}),n.d(e,"cc",function(){return X}),n.d(e,"dc",function(){return zo}),n.d(e,"ec",function(){return To}),n.d(e,"fc",function(){return Ko}),n.d(e,"gc",function(){return Jo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return m(t,w)||m(t,E)}function m(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(C))?t[O]:null}const w=u({"\u0275prov":u}),O=u({"\u0275inj":u}),E=u({ngInjectableDef:u}),C=u({ngInjectorDef:u});var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let I;function x(t){const e=I;return I=t,e}function S(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&T.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function j(t){return{toString:t}.toString()}var A=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),k=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const P="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N="undefined"!=typeof global&&global,M=P||N||D||R,L={},V=[],U=u({"\u0275cmp":u}),F=u({"\u0275dir":u}),q=u({"\u0275pipe":u}),z=u({"\u0275mod":u}),B=u({"\u0275loc":u}),H=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let G=0;function $(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||V,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||k.Emulated,id:"c",styles:t.styles||V,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=G++,n.inputs=Z(t.inputs,e),n.outputs=Z(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Q):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(K):null,n})}function Q(t){return nt(t)||function(t){return t[F]||null}(t)}function K(t){return function(t){return t[q]||null}(t)}const J={};function Y(t){const e={type:t.type,bootstrap:t.bootstrap||V,declarations:t.declarations||V,imports:t.imports||V,exports:t.exports||V,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{J[t.id]=t.type}),e}function X(t,e){return j(()=>{const n=rt(t,!0);n.declarations=e.declarations||V,n.imports=e.imports||V,n.exports=e.exports||V})}function Z(t,e){if(null==t)return L;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const tt=$;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[U]||null}function rt(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const it=20,ot=10;function st(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ut(t){return 0!=(8&t.flags)}function ct(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function ft(t,e){return t.hasOwnProperty(H)?t[H]:null}class dt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function yt(t,e){const n=e?" in "+e:"";throw new dt("201",`No provider for ${gt(t)} found${n}`)}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return mt}function mt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===L)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:L,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===L),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;let Et=void 0;function Ct(t){Et=t}function Tt(t){return!!t.listen}const It={createRenderer:(t,e)=>void 0!==Et?Et:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function St(t,e){return xt(e[t])}function jt(t,e){return xt(e[t.index])}function At(t,e){return t.data[e]}function kt(t,e){const n=e[t];return st(n)?n:n[0]}function Pt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Dt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Nt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:ie(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Vt.bindingsEnabled}function Ft(){return Vt.lFrame.lView}function qt(){return Vt.lFrame.tView}function zt(t){Vt.lFrame.contextLView=t}function Bt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return Vt.lFrame.currentTNode}function Wt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Vt.lFrame.isParent}function $t(){return Vt.isInCheckNoChangesMode}function Qt(t){Vt.isInCheckNoChangesMode=t}function Kt(){return Vt.lFrame.bindingIndex++}function Jt(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yt(e)}function Yt(t){Vt.lFrame.currentDirectiveIndex=t}function Xt(){return Vt.lFrame.currentQueryIndex}function Zt(t){Vt.lFrame.currentQueryIndex=t}function te(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ee(t,e,n){if(n&T.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&T.Host||(r=te(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=re();return r.currentTNode=e,r.lView=t,!0}function ne(t){const e=re(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function re(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?ie(t):e}function ie(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function oe(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const se=oe;function ae(){const t=oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ue(){return Vt.lFrame.selectedIndex}function ce(t){Vt.lFrame.selectedIndex=t}function le(){const t=Vt.lFrame;return At(t.tView,t.selectedIndex)}function he(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function fe(t,e,n){ge(t,e,3,n)}function de(t,e,n,r){(3&t[2])===n&&ge(t,e,n,r)}function pe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ge(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(ye(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const be=-1;class ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function me(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];we(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function _e(t){return 3===t||4===t||6===t}function we(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ee(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ee(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ce(t){return t!==be}function Te(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let xe=!0;function Se(t){const e=xe;return xe=t,e}let je=0;function Ae(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ke(r.data,t),ke(e,null),ke(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(Ce(i)){const t=Te(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ke(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return be;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return be}function Re(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=je++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ne(t,e,n){if(n&T.Optional)return t;yt(e,"NodeInjector")}function Me(t,e,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const i=t[9],o=x(void 0);try{return i?i.get(e,r,n&T.Optional):S(e,r,n&T.Optional)}finally{x(o)}}return Ne(r,e,n)}function Le(t,e,n,r=T.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Ue:e}(n);if("function"==typeof o){if(!ee(e,t,r))return r&T.Host?Ne(i,n,r):Me(e,n,r,i);try{const t=o();if(null!=t||r&T.Optional)return t;yt(n)}finally{se()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=be,u=r&T.Host?e[16][6]:null;for((-1===s||r&T.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==be&&He(r,!1)?(i=e[1],s=Te(a),e=Ie(a,e)):s=-1);-1!==s;){const t=e[1];if(Be(o,s,t.data)){const t=Fe(s,e,n,i,r,u);if(t!==Ve)return t}a=e[s+8],a!==be&&He(r,e[1].data[s+8]===u)&&Be(o,s,e)?(i=t,s=Te(a),e=Ie(a,e)):s=-1}}}return Me(e,n,r,i)}const Ve={};function Ue(){return new We(Bt(),Ft())}function Fe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=qe(a,s,n,null==r?ct(a)&&xe:r!=s&&0!=(3&a.type),i&T.Host&&o===a);return null!==u?ze(e,s,u,a):Ve}function qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ht(t)&&t.type===n)return u}return null}function ze(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ve){const s=i;s.resolving&&function(t,e){throw new dt("200","Circular dependency in DI detected for "+t)}(gt(o[n]));const a=Se(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?x(s.injectImpl):null;ee(t,r,T.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=mt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&x(u),Se(a),s.resolving=!1,se()}}return i}function Be(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function He(t,e){return!(t&T.Self||t&T.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Le(this._tNode,this._lView,t,void 0,e)}}function Ge(t){const e=t;if(g(t))return()=>{const t=Ge(p(e));return t?t():null};let n=ft(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function $e(t){return j(()=>{const e=t.prototype.constructor,n=e[H]||Ge(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[H]||Ge(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Qe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(_e(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Bt(),t)}const Ke="__parameters__";function Je(t,e,n){return j(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ke)?t[Ke]:Object.defineProperty(t,Ke,{value:[]})[Ke];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Xe=new Ye("AnalyzeForEntryComponents"),Ze=Function;function tn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),tn(r,e)):e!==t&&e.push(r)}return e}function en(t,e){t.forEach(t=>Array.isArray(t)?en(t,e):e(t))}function nn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function on(t,e,n){let r=an(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sn(t,e){const n=an(t,e);if(n>=0)return t[1|n]}function an(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const un=Je("Inject",t=>({token:t})),cn=Je("Optional"),ln=Je("Self"),hn=Je("SkipSelf"),fn={},dn=/\n/gm,pn="__source",gn=u({provide:String,useValue:u});let yn,bn=void 0;function vn(t){const e=bn;return bn=t,e}function mn(t,e=T.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?S(t,void 0,e):bn.get(t,e&T.Optional?null:void 0,e)}function _n(t,e=T.Default){return(I||mn)(p(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=T.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof cn||"Optional"===i.ngMetadataName||i===cn?n|=T.Optional:i instanceof hn||"SkipSelf"===i.ngMetadataName||i===hn?n|=T.SkipSelf:i instanceof ln||"Self"===i.ngMetadataName||i===ln?n|=T.Self:t=i instanceof un||i===un?i.token:i}e.push(_n(t,n))}else e.push(_n(r))}return e}function On(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,M.trustedTypes))try{yn=M.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Cn extends En{getTypeName(){return"HTML"}}class Tn extends En{getTypeName(){return"Style"}}class In extends En{getTypeName(){return"Script"}}class xn extends En{getTypeName(){return"URL"}}class Sn extends En{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function kn(t){return t instanceof En&&t.getTypeName()||null}function Pn(t){return new Cn(t)}function Dn(t){return new Tn(t)}function Rn(t){return new In(t)}function Nn(t){return new xn(t)}function Mn(t){return new Sn(t)}let Ln=!0,Vn=!1;function Un(){return Vn=!0,Ln}function Fn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}class qn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Bn)||t.match(Hn)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=Gn("area,br,col,hr,img,wbr"),Kn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Gn("rp,rt"),Yn=$n(Jn,Kn),Xn=$n(Qn,$n(Kn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Jn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Zn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Gn("srcset"),er=$n(Zn,tr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Gn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!er.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Zn[o]&&(s=Wn(s)),tr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function ur(t,e){let n=null;try{ar=ar||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new qn:new zn(t)}(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==o);const s=new rr,a=s.sanitizeChildren(cr(n)||n);return Un()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=Ft();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":An(t,"URL")?jn(t):Wn(pt(t))}function fr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class gr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function vr(t){return t instanceof Function?t():t}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _r(t,e){return(void 0)(t,e)}function wr(t){const e=t[3];return at(e)?e[3]:e}function Or(t){return Cr(t[13])}function Er(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:st(r)&&(s=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Pr(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Rr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&Tr(e,t,r,o,i);for(let s=ot;s<n.length;s++){const i=n[s];Ur(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ir(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function Sr(t,e){if(t.length<=ot)return;const n=ot+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&xr(o,r),e>0&&(t[n-1][4]=r[4]);const s=rn(t,ot+e);Ur(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function jr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Ur(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(st(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)st(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),st(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):xt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function kr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Pr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):Pr(t,e,n)}function Rr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===k.None||e===k.Emulated)return null}return jt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?jt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(o,i,n[a],s,!1);else Dr(o,i,n,s,!1)}function Mr(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return Lr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Mr(t,n);{const n=t[e.index];return at(n)?Lr(-1,n):xt(n)}}if(32&n)return _r(e,t)()||xt(t[e.index]);{const n=t[16],r=n[6],i=wr(n),o=r.projection[e.projection];return null!=o?Mr(i,o):Mr(t,e.next)}}return null}function Lr(t,e){const n=ot+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Mr(t,r)}return e[7]}function Vr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&yr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Vr(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(32&u){const s=_r(n,r);let u;for(;u=s();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else 16&u?Fr(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ur(t,e,n,r,i,o){Vr(n,r,t.firstChild,e,i,o,!1)}function Fr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],o);else Vr(t,e,a,s[3],i,o,!0)}function qr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Br(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Hr="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Br(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Gr(t){return 4===t.type&&t.value!==Hr}function $r(t,e,n){return e===(4!==t.type||n?t.value:Hr)}function Qr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(_e(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!$r(t,u,n)||""===u&&1===e.length){if(Kr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Kr(r))return!1;s=!0}continue}const l=Jr(8&r?"class":u,i,Gr(t),n);if(-1===l){if(Kr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Br(e,c,0)||2&r&&c!==t){if(Kr(r))return!1;s=!0}}}}else{if(!s&&!Kr(r)&&!Kr(u))return!1;if(s&&Kr(u))continue;s=!1,r=u|1&r}}return Kr(r)||s}function Kr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Yr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function Xr(t,e){return t?":not("+e.trim()+")":e}function Zr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Kr(s)||(e+=Xr(o,i),i=""),r=s,o=o||!Kr(r);n++}return""!==i&&(e+=Xr(o,i)),e}const ti={};function ei(t){ni(qt(),Ft(),ue()+t,$t())}function ni(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&de(e,r,0,n)}ce(n)}function ri(t,e){return t<<17|e<<2}function ii(t){return t>>17&32767}function oi(t){return 2|t}function si(t){return(131068&t)>>2}function ai(t,e){return-131069&t|e<<2}function ui(t){return 1|t}function ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Zt(i),n.contentQueries(2,e[o],o)}}}function li(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function hi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Ht(),s=Gt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function di(t,e,n){ne(e);try{const r=t.viewQuery;null!==r&&zi(1,r,n);const i=t.template;null!==i&&yi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ci(t,e),t.staticViewQueries&&zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ae()}}function pi(t,e,n,r){const i=e[2];if(256==(256&i))return;ne(e);const o=$t();try{Mt(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&yi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&de(e,n,0,null),pe(e,0)}if(function(t){for(let e=Or(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Or(t);null!==e;e=Er(e))for(let t=ot;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&pi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ci(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&de(e,n,1),pe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ce(~r);else{const i=r,o=n[++t],s=n[++t];Jt(o,i),s(2,e[i])}}}finally{ce(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ni(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&de(e,n,2),pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{ae()}}function gi(t,e,n,r){const i=e[10],o=!$t(),s=Dt(e);try{o&&!s&&i.begin&&i.begin(),s&&di(t,e,r),pi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function yi(t,e,n,r,i){const o=ue();try{ce(-1),2&r&&e.length>it&&ni(t,e,it,$t()),n(r,i)}finally{ce(o)}}function bi(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ae(n,e),yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ht(r);o&&ki(e,n,r);const u=ze(e,t,a,n);yr(u,e),null!==s&&Pi(0,a-i,u,r,0,s),o&&(kt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{ce(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Yt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ii(r,i)}}finally{ce(-1),Yt(s)}}(t,e,n))}function vi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=_i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function _i(t,e,n,r,i,o,s,a,u,c){const l=it+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ti);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function wi(t,e,n,r){const i=Hi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Oi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ei(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Gi(t,n,c,r,i),ct(e)&&function(t,e){const n=kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):we(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ci(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Yr(n,s.selectors,!1)&&(i||(i=[]),Re(Ae(n,e),t,s.type),ht(s)?(xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=fi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),Ai(t,n,e,u,c),Si(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Gr(e)?null:Di(n,i);o.push(c),s=Oi(n,u,s),a=Oi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new dt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function Ti(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ai(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ft(i.type)),s=new ve(o,ht(i),null);t.blueprint[r]=s,n[r]=s,Ti(t,e,0,r,fi(t,n,i.hostVars,ti),i)}function ki(t,e,n){const r=jt(e,t),i=mi(n),o=t[10],s=Vi(t,li(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Di(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ri(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ni(t,e){const n=kt(e,t);if(Rt(n)){const t=n[1];80&n[2]?pi(t,n,t.template,n[8]):n[5]>0&&Mi(n)}}function Mi(t){for(let n=Or(t);null!==n;n=Er(n))for(let t=ot;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];pi(t,e,t.template,e[8])}else e[5]>0&&Mi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=kt(e[n],t);Rt(r)&&r[5]>0&&Mi(r)}}function Li(t,e){const n=kt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ui(t){for(;t;){t[2]|=64;const e=wr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Fi(t,e,n){const r=e[10];r.begin&&r.begin();try{pi(t,e,t.template,n)}catch(i){throw Wi(e,i),i}finally{r.end&&r.end()}}function qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Pt(n),i=r[1];gi(i,r,i.template,n)}}(t[8])}function zi(t,e,n){Zt(0),e(t,n)}const Bi=(()=>Promise.resolve(null))();function Hi(t){return t[7]||(t[7]=[])}function Wi(t,e){const n=t[9],r=n?n.get(gr,null):null;r&&r.handleError(e)}function Gi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function $i(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Qi=new Ye("INJECTOR",-1);class Ki{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new Ye("Set Injector scope."),Yi={},Xi={},Zi=[];let to=void 0;function eo(){return void 0===to&&(to=new Ki),to}function no(t,e=null,n=null,r){return new ro(t,n,e||eo(),r)}class ro{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&en(e,n=>this.processProvider(n,t,e)),en([t],t=>this.processInjectorType(t,[],i)),this.records.set(Qi,so(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=T.Default){this.assertNotDestroyed();const r=vn(this);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&v(t);e=n&&this.injectableDefInScope(n)?so(io(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?eo():this.parent).get(t,e=n&T.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{vn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{en(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];en(r,t=>this.processProvider(t,n,r||Zi))}}this.injectorDefTypes.add(o),this.records.set(o,so(r.factory,Yi));const a=r.providers;if(null!=a&&!s){const e=t;en(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=uo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ao(t)?so(void 0,t.useValue):so(oo(t),Yi)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=so(void 0,Yi,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Yi&&(e.value=Xi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function io(t){const e=v(t),n=null!==e?e.factory:ft(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof Ye)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[E]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function oo(t,e,n){let r=void 0;if(uo(t)){const e=p(t);return ft(e)||io(e)}if(ao(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ft(e)||io(e);r=()=>new e(...wn(t.deps))}var i;return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ao(t){return null!==t&&"object"==typeof t&&gn in t}function uo(t){return"function"==typeof t}const co=function(t,e,n){return function(t,e=null,n=null,r){const i=no(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let lo=(()=>{class t{static create(t,e){return Array.isArray(t)?co(t,e,""):co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Ki,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>_n(Qi)}),t.__NG_ELEMENT_ID__=-1,t})();function ho(t,e){he(Pt(t)[1],Bt())}function fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=po(t.inputs),e.declaredInputs=po(t.declaredInputs),e.outputs=po(t.outputs);const n=i.hostBindings;n&&bo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&go(t,o),s&&yo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function po(t){return t===L?{}:t===V?[]:t}function go(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function yo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let vo=null;function mo(){if(!vo){const t=M.Symbol;if(t&&t.iterator)vo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vo=n)}}}return vo}class _o{constructor(t){this.wrapped=t}static wrap(t){return new _o(t)}static unwrap(t){return _o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof _o}}function wo(t){return!!Oo(t)&&(Array.isArray(t)||!(t instanceof Map)&&mo()in t)}function Oo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Eo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,r){const i=Ft();return Eo(i,Kt(),e)&&(qt(),function(t,e,n,r,i,o){const s=jt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?pt(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(le(),i,t,e,n,r)),Co}function To(t,e,n,r,i,o,s,a){const u=Ft(),c=qt(),l=t+it,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=hi(e,t,4,s||null,Nt(c,a));Ci(e,n,l,Nt(c,u)),he(e,l);const h=l.tViews=_i(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=u[11].createComment("");Nr(c,u,f,h),yr(f,u),Vi(u,u[l]=Ri(f,u,f,h)),lt(h)&&bi(c,u,h),null!=s&&vi(u,h,a)}function Io(t,e=T.Default){const n=Ft();return null===n?_n(t,e):Le(Bt(),n,p(t),e)}function xo(t,e,n){const r=Ft();return Eo(r,Kt(),e)&&Ei(qt(),le(),r,t,e,r[11],n,!1),xo}function So(t,e,n,r,i){const o=i?"class":"style";Gi(t,n,e.inputs[o],o,r)}function jo(t,e,n,r){const i=Ft(),o=qt(),s=it+t,a=i[11],u=i[s]=Ir(a,e,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=hi(e,t,2,i,Nt(a,o));return Ci(e,n,u,Nt(a,s)),null!==u.attrs&&$i(u,u.attrs,!1),null!==u.mergedAttrs&&$i(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&me(a,u,l);const h=c.classes;null!==h&&zr(a,u,h);const f=c.styles;null!==f&&qr(a,u,f),64!=(64&c.flags)&&Nr(o,i,u,c),0===Vt.lFrame.elementDepthCount&&yr(u,i),Vt.lFrame.elementDepthCount++,lt(c)&&(bi(o,i,c),function(t,e,n){if(ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&vi(i,c)}function Ao(){let t=Bt();Gt()?Vt.lFrame.isParent=!1:(t=t.parent,Wt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(he(n,t),ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&So(n,e,Ft(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&So(n,e,Ft(),e.stylesWithoutHost,!1)}function ko(t,e,n,r){jo(t,e,n,r),Ao()}function Po(){return Ft()}function Do(t){return!!t&&"function"==typeof t.then}function Ro(t){return!!t&&"function"==typeof t.subscribe}function No(t,e,n=!1,r){const i=Ft(),o=qt(),s=Bt();return function(t,e,n,r,i,o,s=!1,a){const u=lt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Hi(e);let h=!0;if(3&r.type){const f=jt(r,e),d=a?a(f):L,p=d.target||f,g=l.length,y=a?t=>a(xt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Lo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Lo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=Lo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),No}function Mo(t,e,n){try{return!1!==e(n)}catch(r){return Wi(t,r),!1}}function Lo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?kt(t.index,e):e;0==(32&e[2])&&Ui(s);let a=Mo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Mo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vo(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}const Uo=[];function Fo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ii(o):si(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];qo(t[a],e)&&(u=!0,t[a+1]=r?ui(n):oi(n)),a=r?ii(n):si(n)}u&&(t[n+1]=r?oi(o):ui(o))}function qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&an(t,e)>=0}function zo(t,e,n){return Ho(t,e,n,!1),zo}function Bo(t,e){return Ho(t,e,null,!0),Bo}function Ho(t,e,n,r){const i=Ft(),o=qt(),s=function(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ue()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Go(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==si(r))return t[ii(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=Go(n,e.attrs,r),function(t,e,n,r){t[ii(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Go(r,t[o].hostAttrs,n);return Go(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ii(s),u=si(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||an(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ii(t[a+1]);t[r+1]=ri(e,a),0!==e&&(t[e+1]=ai(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ri(a,0),0!==a&&(t[a+1]=ai(t[a+1],r)),a=r;else t[r+1]=ri(u,0),0===a?a=r:t[u+1]=ai(t[u+1],r),u=r;l&&(t[r+1]=oi(t[r+1])),Fo(t,c,r,!0),Fo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&an(o,e)>=0&&(n[r+1]=ui(n[r+1]))}(e,c,t,r,o),s=ri(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ti&&Eo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Qo(1==(1&c)?$o(u,e,n,i,si(c),s):void 0)||(Qo(o)||function(t){return 2==(2&t)}(c)&&(o=$o(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:mr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=mr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,St(ue(),n),i,o))}(o,o.data[ue()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(jn(t)))),t}(e,n),r,s)}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Go(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),on(t,s,!!n||e[++o]))}return void 0===t?null:t}function $o(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ti&&(l=c?Uo:void 0);let h=c?sn(l,r):u===r?l:void 0;if(o&&!Qo(h)&&(h=sn(e,r)),Qo(h)&&(a=h,s))return a;const f=t[i+1];i=s?ii(f):si(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=sn(t,r))}return a}function Qo(t){return void 0!==t}function Ko(t,e=""){const n=Ft(),r=qt(),i=t+it,o=r.firstCreatePass?hi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Wt(o,!1)}function Jo(t){return Yo("",t,""),Jo}function Yo(t,e,n){const r=Ft(),i=function(t,e,n,r){return Eo(t,Kt(),n)?e+pt(n)+r:ti}(r,t,e,n);return i!==ti&&function(t,e,n){const r=St(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ue(),i),Yo}function Xo(t,e,n){const r=Ft();return Eo(r,Kt(),e)&&Ei(qt(),le(),r,t,e,r[11],n,!0),Xo}const Zo=void 0;var ts=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let es={};function ns(t,e,n){"string"!=typeof e&&(n=e,e=t[as.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),es[e]=t,n&&(es[e][as.ExtraData]=n)}function rs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ss(e);if(n)return n;const r=e.split("-")[0];if(n=ss(r),n)return n;if("en"===r)return ts;throw new Error(`Missing locale data for the locale "${t}".`)}function is(t){return rs(t)[as.CurrencyCode]||null}function os(t){return rs(t)[as.PluralCase]}function ss(t){return t in es||(es[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),es[t]}var as=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const us="en-US";let cs=us;function ls(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(cs=t.toLowerCase().replace(/_/g,"-"))}function hs(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)hs(t[o],e,n,r,i);else{const o=qt(),s=Ft();let a=uo(t)?t:p(t.provide),u=oo(t);const c=Bt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(uo(t)||!t.multi){const r=new ve(u,i,Io),d=ps(a,e,i?l:l+f,h);-1===d?(Re(Ae(c,s),o,a),fs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ps(a,e,l+f,h),p=ps(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){Re(Ae(c,s),o,a);const l=function(t,e,n,r,i){const o=new ve(t,n,Io);return o.multi=[],o.index=e,o.componentProviders=0,ds(o,i,r&&!n),o}(i?ys:gs,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),fs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else fs(o,t,d>-1?d:p,ds(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function fs(t,e,n,r){const i=uo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ds(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ps(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gs(t,e,n,r){return bs(this.multi,[])}function ys(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),bs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],bs(i,o);return o}function bs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function vs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=qt();if(r.firstCreatePass){const i=ht(t);hs(n,r.data,r.blueprint,i,!0),hs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ms{}class _s{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ws=(()=>{class t{}return t.NULL=new _s,t})();function Os(...t){}function Es(t,e){return new Ts(jt(t,e))}const Cs=function(){return Es(Bt(),Ft())};let Ts=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Cs,t})();class Is{}let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ss(),t})();const Ss=function(){const t=Ft(),e=kt(Bt().index,t);return function(t){return t[11]}(st(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class As{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ks=new As("11.0.3");class Ps{constructor(){}supports(t){return wo(t)}create(t){return new Rs(t)}}const Ds=(t,e)=>e;class Rs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ds}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Vs(n,r,i)?e:n,s=Vs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[mo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ns(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ls),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ls),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ns{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ms{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ls{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ms,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Us{constructor(){}supports(t){return t instanceof Map||Oo(t)}create(){return new Fs}}class Fs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Oo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Ps])}),t})(),Bs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Us])}),t})();function Hs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),at(o))for(let t=ot;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Hs(e[1],e,n,r)}const s=n.type;if(8&s)Hs(t,e,n.child,r);else if(32&s){const t=_r(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=wr(t);Hs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ws{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Hs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}jr(this._lView[1],this._lView)}onDestroy(t){wi(this._lView[1],this._lView,null,t)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Fi(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ur(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gs extends Ws{constructor(t){super(t),this._view=t}detectChanges(){qi(this._view)}checkNoChanges(){!function(t){Qt(!0);try{qi(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const $s=Ks;let Qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=$s,t.__ChangeDetectorRef__=!0,t})();function Ks(t=!1){return function(t,e,n){if(!n&&ct(t)){const n=kt(t.index,e);return new Ws(n,n)}return 47&t.type?new Ws(e[16],e):null}(Bt(),Ft(),t)}const Js=[new Us],Ys=new zs([new Ps]),Xs=new Bs(Js),Zs=function(){return ra(Bt(),Ft())};let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zs,t})();const ea=ta,na=class extends ea{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),di(e,n,t),new Ws(n)}};function ra(t,e){return 4&t.type?new na(e,t,Es(t,e)):null}class ia{}class oa{}const sa=function(){return fa(Bt(),Ft())};let aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=sa,t})();const ua=aa,ca=class extends ua{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(Ce(t)){const e=Ie(t,this._hostLView),n=Te(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=la(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ia,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ca(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ot+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ot?(e[4]=n[i],nn(n,ot+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Lr(i,o),a=n[11],u=Rr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ur(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),nn(ha(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=la(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&(rn(ha(this._lContainer),e),jr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=rn(ha(this._lContainer),e)?new Ws(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function la(t){return t[8]}function ha(t){return t[8]||(t[8]=[])}function fa(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);kr(n,Rr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ri(r,e,i,t),Vi(e,n)}return new ca(n,t,e)}const da={};class pa extends ws{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new ba(e,this.ngModule)}}function ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ya=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class ba extends ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Zr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ga(this.componentDef.inputs)}get outputs(){return ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,da,i);return o!==da||r===da?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Is,It),s=i.get(js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===k.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Bi,playerHandler:null,flags:0},f=_i(0,null,null,1,0,null,null,null,null,null),d=li(null,f,h,l,null,null,o,a,s,i);let p,g;ne(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=hi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&($i(a,u,!0),null!==t&&(me(i,t,u),null!==a.classes&&zr(i,t,a.classes),null!==a.styles&&qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=li(n,mi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Re(Ae(a,n),s,e.type),xi(s,a),ji(a,n.length,1)),Vi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)me(a,c,["ng-version",ks.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&me(a,c,t),e&&e.length>0&&zr(a,c,e.join(" "))}if(g=At(f,it),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Bt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ai(t,r,e,fi(t,e,1,null),n));const i=ze(e,t,r.directiveStart,r);yr(i,e);const o=jt(r,e);return o&&yr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Bt();e.contentQueries(1,s,t.directiveStart)}const a=Bt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ce(a.index),Ti(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ii(e,s)),s}(t,this.componentDef,d,h,[ho]),di(f,d,null)}finally{ae()}return new va(this.componentType,p,Es(g,d),d,g)}}class va extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gs(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ma=new Map;class _a extends ia{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pa(this);const n=rt(t),r=t[B]||null;r&&ls(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=no(t,e,[{provide:ia,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=lo.THROW_IF_NOT_FOUND,n=T.Default){return t===lo||t===ia||t===Qi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wa extends oa{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,ma.get(i),n),ma.set(i,n));const o=vr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new _a(this.moduleType,t)}}function Oa(t,e){const n=qt();let r;const i=t+it;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new dt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ft(r.type)),s=x(Io);try{const t=Se(!1),e=o();return Se(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ft(),i,e),e}finally{x(s)}}function Ea(t,e,n){const r=t+it,i=Ft(),o=function(t,e){return t[e]}(i,r);return function(t,e){return _o.isWrapped(e)&&(e=_o.unwrap(e),t[Vt.lFrame.bindingIndex]=ti),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,o){const s=e+n;return Eo(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ti?void 0:n}(t,s+1)}(i,function(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n))}const Ca=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ta(){return this._results[mo()]()}class Ia{constructor(){this.dirty=!0,this._results=[],this.changes=new Ca,this.length=0;const t=mo(),e=Ia.prototype;e[t]||(e[t]=Ta)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=tn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Sa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ua(t,e).matches&&this.queries[e].setDirty()}}class ja{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Aa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Aa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ka{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ka(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pa(e,i)),this.matchTNodeWithReadOption(t,e,qe(e,t,i,!1,!1))}else n===ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ts||r===aa||r===ta&&4&e.type)this.addMatch(e.index,-2);else{const n=qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Da(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Es(t,e):4&t.type?ra(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ts?Es(e,t):n===ta?ra(e,t):n===aa?fa(e,t):void 0}(t,e,r):ze(t,t[1],n,e)}function Ra(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Da(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Na(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ra(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ot;t<s.length;t++){const e=s[t];e[17]===e[3]&&Na(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Na(n[1],n,i,r)}}}}}return r}function Ma(t){const e=Ft(),n=qt(),r=Xt();Zt(r+1);const i=Ua(n,r);if(t.dirty&&Dt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Na(n,e,r,[]):Ra(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function La(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Aa),t.queries.track(new ka(e,n))}(t,new ja(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ia;wi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Sa),e[19].queries.push(new xa(n))}(t,e)}(qt(),Ft(),e,n,r,0,Bt(),t)}function Va(){return t=Ft(),e=Xt(),t[19].queries[e].queryList;var t,e}function Ua(t,e){return t.queries.getByIndex(e)}function Fa(t=T.Default){const e=Ks(!0);if(null!=e||t&T.Optional)return e;yt("ChangeDetectorRef")}const qa=new Ye("Application Initializer");let za=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Os,this.reject=Os,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Do(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(qa,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Ba=new Ye("AppId"),Ha={provide:Ba,useFactory:function(){return`${Wa()}${Wa()}${Wa()}`},deps:[]};function Wa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ga=new Ye("Platform Initializer"),$a=new Ye("Platform ID"),Qa=new Ye("appBootstrapListener");let Ka=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Ja=new Ye("LocaleId"),Ya=new Ye("DefaultCurrencyCode");class Xa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Za=function(t){return new wa(t)},tu=Za,eu=function(t){return Promise.resolve(Za(t))},nu=function(t){const e=Za(t),n=vr(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new ba(n)),t},[]);return new Xa(e,n)},ru=nu,iu=function(t){return Promise.resolve(nu(t))};let ou=(()=>{class t{constructor(){this.compileModuleSync=tu,this.compileModuleAsync=eu,this.compileModuleAndAllComponentsSync=ru,this.compileModuleAndAllComponentsAsync=iu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const su=(()=>Promise.resolve(0))();function au(t){"undefined"==typeof Zone?su.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class uu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hu(t),lu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),du(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return fu(t),e.invoke(r,i,o,s,a)}finally{du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hu(t),lu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(uu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cu,Os,Os);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const cu={};function lu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function du(t){t._nesting--,lu(t)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uu.assertNotInAngularZone(),au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(uu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),yu=(()=>{class t{constructor(){this._applications=new Map,_u.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return _u.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class bu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function vu(t){_u=t}let mu,_u=new bu;const wu=new Ye("AllowMultipleToken");class Ou{constructor(t,e){this.name=t,this.token=e}}function Eu(t,e,n=[]){const r="Platform: "+e,i=new Ye(r);return(e=[])=>{let o=Cu();if(!o||o.injector.get(wu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(mu&&!mu.destroyed&&!mu.injector.get(wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mu=t.get(Tu);const e=t.get(Ga,null);e&&e.forEach(t=>t())}(lo.create({providers:t,name:r}))}return function(t){const e=Cu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Cu(){return mu&&!mu.destroyed?mu:null}let Tu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new pu:("zone.js"===t?void 0:t)||new uu({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:uu,useValue:n}];return n.run(()=>{const e=lo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(gr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Su(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Do(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(za);return t.runInitializers(),t.donePromise.then(()=>(ls(i.injector.get(Ja,us)||us),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Iu({},e);return function(t,e,n){const r=new wa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(lo))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Iu(t,e){return Array.isArray(e)?e.reduce(Iu,t):Object.assign(Object.assign({},t),e)}let xu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{uu.assertNotInAngularZone(),au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ia),i=n.create(lo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gu,null);return o&&i.injector.get(yu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Un()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Su(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Su(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(uu),_n(Ka),_n(lo),_n(gr),_n(ws),_n(za))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Su(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ju{}class Au{}const ku={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ku}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Du(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Du(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(ou),_n(Au,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function Du(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ru=function(t){return null},Nu=Eu(null,"core",[{provide:$a,useValue:"unknown"},{provide:Tu,deps:[lo]},{provide:yu,deps:[]},{provide:Ka,deps:[]}]),Mu=[{provide:xu,useClass:xu,deps:[uu,Ka,lo,gr,ws,za]},{provide:ya,deps:[uu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:za,useClass:za,deps:[[new cn,qa]]},{provide:ou,useClass:ou,deps:[]},Ha,{provide:zs,useFactory:function(){return Ys},deps:[]},{provide:Bs,useFactory:function(){return Xs},deps:[]},{provide:Ja,useFactory:function(t){return ls(t=t||"undefined"!=typeof $localize&&$localize.locale||us),t},deps:[[new un(Ja),new cn,new hn]]},{provide:Ya,useValue:"USD"}];let Lu=(()=>{class t{constructor(t){}}return t.\u0275mod=Y({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(_n(xu))},providers:Mu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=o.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new s.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},l7P3:function(t,e,n){"use strict";n.d(e,"a",function(){return v}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return W}),n.d(e,"e",function(){return H}),n.d(e,"f",function(){return K}),n.d(e,"g",function(){return X}),n.d(e,"h",function(){return nt}),n.d(e,"i",function(){return St}),n.d(e,"j",function(){return jt}),n.d(e,"k",function(){return xt}),n.d(e,"l",function(){return G}),n.d(e,"m",function(){return z}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return Lt}),n.d(e,"p",function(){return ut}),n.d(e,"q",function(){return Mt}),n.d(e,"r",function(){return g});var r=n("fXoL"),i=n("2Vo4"),o=n("HDdC"),s=n("XNiG"),a=n("qgXg"),u=n("pxpQ"),c=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt");const d={};function p(t,e){if(d[t]=(d[t]||0)+1,"function"==typeof e)return y(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return y(t,()=>({type:t}));case"props":return y(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function y(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const b="@ngrx/store/init";let v=(()=>{class t extends i.a{constructor(){super({type:b})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const m=[v],_=new r.q("@ngrx/store Internal Root Guard"),w=new r.q("@ngrx/store Internal Initial State"),O=new r.q("@ngrx/store Initial State"),E=new r.q("@ngrx/store Reducer Factory"),C=new r.q("@ngrx/store Internal Reducer Factory Provider"),T=new r.q("@ngrx/store Initial Reducers"),I=new r.q("@ngrx/store Internal Initial Reducers"),x=new r.q("@ngrx/store Store Features"),S=new r.q("@ngrx/store Internal Store Reducers"),j=new r.q("@ngrx/store Internal Feature Reducers"),A=new r.q("@ngrx/store Internal Feature Configs"),k=new r.q("@ngrx/store Internal Store Features"),P=new r.q("@ngrx/store Internal Feature Reducers Token"),D=new r.q("@ngrx/store Feature Reducers"),R=new r.q("@ngrx/store User Provided Meta Reducers"),N=new r.q("@ngrx/store Meta Reducers"),M=new r.q("@ngrx/store Internal Resolved Meta Reducers"),L=new r.q("@ngrx/store User Runtime Checks Config"),V=new r.q("@ngrx/store Internal User Runtime Checks Config"),U=new r.q("@ngrx/store Internal Runtime Checks"),F=new r.q("@ngrx/store Check if Action types are unique");function q(t,e={}){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<i.length;e++){const a=i[e],u=t[a],c=(0,r[a])(u,n);s[a]=c,o=o||c!==u}return o?s:t}}function z(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function B(t,e){return Array.isArray(e)&&e.length>0&&(t=z.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class H extends o.a{}class W extends v{}const G="@ngrx/store/update-reducers";let $=(()=>{class t extends i.a{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?z(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):B(n,r)(e,i);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:G,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(W),r.Qb(O),r.Qb(T),r.Qb(E))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Q=[$,{provide:H,useExisting:$},{provide:W,useExisting:v}];let K=(()=>{class t extends s.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return J(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const J=r.Ob(K),Y=[K];class X extends o.a{}let Z=(()=>{class t extends i.a{constructor(t,e,n,r){super(r);const i={state:r},o=t.pipe(Object(u.b)(a.b)).pipe(Object(c.a)(e)).pipe(Object(l.a)(tt,i));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(v),r.Qb(H),r.Qb(K),r.Qb(O))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t.INIT=b,t})();function tt(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const et=[Z,{provide:X,useExisting:Z}];let nt=(()=>{class t extends o.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return it.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(X),r.Qb(v),r.Qb($))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const rt=[nt];function it(t,e,...n){return function(r){let i;if("string"==typeof t){const o=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe(Object(h.a)(n=>t(n,e)))}return i.pipe(Object(f.a)())}}function ot(t,e){return t===e}function st(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function at(t,e=ot,n=ot){let r,i=null,o=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return o=t.apply(null,arguments),i=arguments,o;if(!st(arguments,i,e))return o;const s=t.apply(null,arguments);return i=arguments,n(o,s)?o:(o=s,s)},reset:function(){i=null,o=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function ut(...t){return function(t,e={stateFn:ct}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return o.apply(null,t)}),u=at(function(t,n){return e.stateFn.apply(null,[t,i,n,a])});return Object.assign(u.memoized,{release:function(){u.reset(),a.reset(),s.forEach(t=>t.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(at)(...t)}function ct(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}const lt="https://ngrx.io/guide/store/configuration/runtime-checks";function ht(t){return void 0===t}function ft(t){return null===t}function dt(t){return Array.isArray(t)}function pt(t){return"object"==typeof t&&null!==t}function gt(t){return"function"==typeof t}function yt(t){Object.freeze(t);const e=gt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!pt(e)&&!gt(e)||Object.isFrozen(e)||yt(e)}}),t}function bt(t,e=[]){return(ht(t)||ft(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return gt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(ht(i)||ft(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||dt(i))&&(function(t){if(!function(t){return pt(t)&&!dt(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?bt(i,[...e,r]):{path:[...e,r],value:i})},!1)}function vt(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${lt}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function mt(t){return Object(r.V)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function _t({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&vt(bt(r),"action");const i=t(n,r);return e.state()&&vt(bt(i),"state"),i}}(n,{action:e=>t&&!Ot(e),state:()=>e}):n}function wt({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?yt(r):r,o=t(n,i);return e.state()?yt(o):o}}(n,{action:e=>t&&!Ot(e),state:()=>e}):n}function Ot(t){return t.type.startsWith("@ngrx")}function Et({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.z.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${lt}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!Ot(e)}):e}function Ct(){return[{provide:F,multi:!0,deps:[U],useFactory:It}]}function Tt(t){return t}function It(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(d).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${lt}#strictactiontypeuniqueness`)}let xt=(()=>{class t{constructor(t,e,n,r,i,o){}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(v),r.Qb(H),r.Qb(K),r.Qb(nt),r.Qb(_,8),r.Qb(F,8))}}),t})(),St=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:Dt(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(k),r.Qb(D),r.Qb($),r.Qb(xt),r.Qb(F,8))}}),t})(),jt=(()=>{class t{static forRoot(t,e={}){return{ngModule:xt,providers:[{provide:_,useFactory:Nt,deps:[[nt,new r.A,new r.J]]},{provide:w,useValue:e.initialState},{provide:O,useFactory:Dt,deps:[w]},{provide:I,useValue:t},{provide:S,useExisting:t instanceof r.q?t:I},{provide:T,deps:[r.r,I,[new r.p(S)]],useFactory:At},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:M,deps:[N,R],useFactory:Rt},{provide:C,useValue:e.reducerFactory?e.reducerFactory:q},{provide:E,deps:[C,M],useFactory:B},m,Q,Y,et,rt,(n=e.runtimeChecks,[{provide:V,useValue:n},{provide:L,useFactory:Tt,deps:[V]},{provide:U,deps:[L],useFactory:mt},{provide:N,multi:!0,deps:[U],useFactory:wt},{provide:N,multi:!0,deps:[U],useFactory:_t},{provide:N,multi:!0,deps:[U],useFactory:Et}]),Ct()]};var n}static forFeature(t,e,n={}){return{ngModule:St,providers:[{provide:A,multi:!0,useValue:n},{provide:x,multi:!0,useValue:{key:t,reducerFactory:n instanceof r.q||!n.reducerFactory?q:n.reducerFactory,metaReducers:n instanceof r.q||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.q||!n.initialState?void 0:n.initialState}},{provide:k,deps:[r.r,A,x],useFactory:kt},{provide:j,multi:!0,useValue:e},{provide:P,multi:!0,useExisting:e instanceof r.q?e:j},{provide:D,multi:!0,deps:[r.r,j,[new r.p(P)]],useFactory:Pt},Ct()]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();function At(t,e){return e instanceof r.q?t.get(e):e}function kt(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.q){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:q,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Pt(t,e){return e.map(e=>e instanceof r.q?t.get(e):e)}function Dt(t){return"function"==typeof t?t():t}function Rt(t,e){return t.concat(e)}function Nt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Mt(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Lt(t,...e){const n=new Map;for(let r of e)for(let t of r.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>r.reducer(e(t,n),n))}else n.set(t,r.reducer);return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function v(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),m=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.3");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,m]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Qb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},tS1D:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("D0XW");const i=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var o=n("zx2A");class s{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class a extends o.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(o.c)(e,new o.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(a.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var u=n("z6cu");function c(t,e=r.a){return function(t,e,n=r.a){return r=>{let i=(o=t)instanceof Date&&!isNaN(+o);var o;let a=i?+t-n.now():Math.abs(t);return r.lift(new s(a,i,e,n))}}(t,Object(u.a)(new i),e)}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(y){u={error:y}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var _=y;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zP0r:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.total=t}call(t,e){return e.subscribe(new s(t,this.total))}}class s extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBSFH2oXA6fMYsY-lbM9-ghXNevFjIB5aA",authDomain:"angulartodo-336d3.firebaseapp.com",databaseURL:"https://angulartodo-336d3-default-rtdb.firebaseio.com",projectId:"angulartodo-336d3",storageBucket:"angulartodo-336d3.appspot.com",messagingSenderId:"351560926339",appId:"1:351560926339:web:cfa825b4928791e31747b6"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Qb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Qb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Qb)(a).location;return new _(Object(r.Qb)(u),e&&e.origin||"")}const m=new r.q("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(m,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(m,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(b),r.Qb(u))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Qb)(b),Object(r.Qb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.mb;class x{}let S=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}class N{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let M=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),L=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new N(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L),r.Jb(M,1))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})();class V{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class U{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const F=new U,q=new V;let z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return F;if(Object(r.qb)(e))return q;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb())},t.\u0275pipe=r.Ib({name:"async",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:S}]}),t})();function H(t){return"server"===t}let W=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new G(Object(r.Qb)(a),window,Object(r.Qb)(r.m))}),t})();class G{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$(this.window.history)||$(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function $(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=J||(J=document.querySelector("base"),J)?J.getAttribute("href"):null;return null==e?null:(n=e,K||(K=document.createElement("a")),K.setAttribute("href",n),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname);var n}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let K,J=null;const Y=new r.q("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class Z{static init(){Object(r.X)(new Z)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const tt=new r.q("EventManagerPlugins");let et=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(tt),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},st=/%COMP%/g;function at(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?at(t,i,n):(i=i.replace(st,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ct=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=at(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(et),r.Qb(it),r.Qb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ht extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=at(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(st,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(st,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=at(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const pt=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends nt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(pt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return gt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(r=>{r!=n&&(0,bt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const mt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Q.makeCurrent(),Z.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],_t=Object(r.S)(r.W,"browser",mt),wt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:tt,useClass:dt,multi:!0,deps:[a,r.z,r.B]},{provide:tt,useClass:vt,multi:!0,deps:[a]},[],{provide:ct,useClass:ct,deps:[et,it,r.c]},{provide:r.E,useExisting:ct},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:et,useClass:et,deps:[tt,r.z]},[]];let Ot=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},X]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(t,12))},providers:wt,imports:[B,r.f]}),t})();"undefined"!=typeof window&&window;var Et=n("HDdC"),Ct=n("DH7j"),Tt=n("lJxs"),It=n("XoHu"),xt=n("Cfvw");function St(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(xt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const jt=new r.q("NgValueAccessor"),At={provide:jt,useExisting:Object(r.U)(()=>kt),multi:!0};let kt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.yb([At])]}),t})();const Pt={provide:jt,useExisting:Object(r.U)(()=>Rt),multi:!0},Dt=new r.q("CompositionEventMode");let Rt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(Dt,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.yb([Pt])]}),t})();function Nt(t){return null==t||0===t.length}function Mt(t){return null!=t&&"number"==typeof t.length}const Lt=new r.q("NgValidators"),Vt=new r.q("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ft{static min(t){return e=>{if(Nt(e.value)||Nt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Nt(e.value)||Nt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Nt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Nt(t.value)||Ut.test(t.value)?null:{email:!0}}static minLength(t){return e=>Nt(e.value)||!Mt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Mt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ft.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Nt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return Bt(Ht(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return St(e,null);if(Object(It.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return St(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return St(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(Tt.a)(t=>e(...t)))}return St(t,null)}(Ht(t,e).map(zt)).pipe(Object(Tt.a)(Bt))}}}function qt(t){return null!=t}function zt(t){const e=Object(r.rb)(t)?Object(xt.a)(t):t;return Object(r.qb)(e),e}function Bt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ht(t,e){return e.map(e=>e(t))}function Wt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Gt(t){return null!=t?Ft.compose(Wt(t)):null}function $t(t){return null!=t?Ft.composeAsync(Wt(t)):null}function Qt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Kt(t){return t._rawValidators}function Jt(t){return t._rawAsyncValidators}let Yt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Xt=(()=>{class t extends Yt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Zt(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.wb]}),t})();const Zt=r.Ob(Xt);class te extends Yt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ee{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let ne=(()=>{class t extends ee{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(te,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})(),re=(()=>{class t extends ee{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Xt,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})();const ie={provide:jt,useExisting:Object(r.U)(()=>oe),multi:!0};let oe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.yb([ie])]}),t})();const se={provide:jt,useExisting:Object(r.U)(()=>ue),multi:!0};let ae=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ue=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(te),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(ae),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.yb([se])]}),t})();const ce={provide:jt,useExisting:Object(r.U)(()=>le),multi:!0};let le=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.yb([ce])]}),t})();const he={provide:jt,useExisting:Object(r.U)(()=>de),multi:!0};function fe(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=fe(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.yb([he])]}),t})(),pe=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fe(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(de,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const ge={provide:jt,useExisting:Object(r.U)(()=>be),multi:!0};function ye(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let be=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.yb([ge])]}),t})(),ve=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ye(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ye(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(be,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function me(t,e){we(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ee(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ee(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function _e(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function we(t,e,n){const r=Kt(t);null!==e.validator?t.setValidators(Qt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Jt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();_e(e._rawValidators,n),_e(e._rawAsyncValidators,n)}}function Oe(t,e,n){if(null!==t){if(null!==e.validator){const n=Kt(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Jt(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};_e(e._rawValidators,t),_e(e._rawAsyncValidators,t)}}function Ee(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ce(t,e){we(t,e,!1)}function Te(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Ie=[kt,le,oe,de,be,ue];function xe(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Rt?n=t:(e=t,Ie.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function Se(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function je(t,e,n,i){Object(r.V)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const Ae="VALID",ke="INVALID",Pe="PENDING",De="DISABLED";function Re(t){return(Ve(t)?t.validators:t)||null}function Ne(t){return Array.isArray(t)?Gt(t):t||null}function Me(t,e){return(Ve(e)?e.asyncValidators:t)||null}function Le(t){return Array.isArray(t)?$t(t):t||null}function Ve(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ue{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ne(this._rawValidators),this._composedAsyncValidatorFn=Le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ae}get invalid(){return this.status===ke}get pending(){return this.status==Pe}get disabled(){return this.status===De}get enabled(){return this.status!==De}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ne(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Le(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=De,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ae,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ae&&this.status!==Pe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?De:Ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pe,this._hasOwnPendingAsyncValidator=!0;const e=zt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof qe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ze&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?De:this.errors?ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pe)?Pe:this._anyControlsHaveStatus(ke)?ke:Ae}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ve(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fe extends Ue{constructor(t=null,e,n){super(Re(e),Me(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Se(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Se(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class qe extends Ue{constructor(t,e,n){super(Re(e),Me(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Fe?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ze extends Ue{constructor(t,e,n){super(Re(e),Me(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Fe?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const He=new r.q("NgModelWithFormControlWarning"),We={provide:te,useExisting:Object(r.U)(()=>Ge)};let Ge=(()=>{class t extends te{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=xe(0,n)}set isDisabled(t){}ngOnChanges(e){this._isControlChanged(e)&&(me(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Te(e,this.viewModel)&&(je(0,t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Lt,10),r.Jb(Vt,10),r.Jb(jt,10),r.Jb(He,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.yb([We]),r.wb,r.xb]}),t._ngModelWarningSentOnce=!1,t})();const $e={provide:Xt,useExisting:Object(r.U)(()=>Qe)};let Qe=(()=>{class t extends Xt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return me(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Se(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Ce(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Ce(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Oe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&me(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){we(this.form,this,!1),this._oldForm&&Oe(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Lt,10),r.Jb(Vt,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.yb([$e]),r.wb,r.xb]}),t})();const Ke={provide:te,useExisting:Object(r.U)(()=>Je)};let Je=(()=>{class t extends te{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=xe(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),Te(e,this.viewModel)&&(je(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Xt,13),r.Jb(Lt,10),r.Jb(Vt,10),r.Jb(jt,10),r.Jb(He,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.yb([Ke]),r.wb,r.xb]}),t._ngModelWarningSentOnce=!1,t})();const Ye={provide:Lt,useExisting:Object(r.U)(()=>Xe),multi:!0};let Xe=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Ft.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ab("required",e.required?"":null)},inputs:{required:"required"},features:[r.yb([Ye])]}),t})(),Ze=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),tn=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new qe(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Fe(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new ze(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Fe||t instanceof qe||t instanceof ze?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),en=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:He,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[tn,ae],imports:[Ze]}),t})();var nn=n("LRne"),rn=n("2Vo4"),on=n("z+Ro"),sn=n("l7GE"),an=n("ZUHj"),un=n("yCtX");const cn={};class ln{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hn(t,this.resultSelector))}}class hn extends sn.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(cn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(an.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===cn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const fn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var dn=n("EY2u");function pn(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(xt.a)(n):Object(dn.b)()).subscribe(e)})}var gn=n("XNiG"),yn=n("bHdf");function bn(){return Object(yn.a)(1)}var vn=n("pLZG"),mn=n("7o/Q"),_n=n("4I5i");function wn(t){return function(e){return 0===t?Object(dn.b)():e.lift(new On(t))}}class On{constructor(t){if(this.total=t,this.total<0)throw new _n.a}call(t,e){return e.subscribe(new En(t,this.total))}}class En extends mn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Cn(t=xn){return e=>e.lift(new Tn(t))}class Tn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new In(t,this.errorFactory))}}class In extends mn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function xn(){return new fn}function Sn(t=null){return e=>e.lift(new jn(t))}class jn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new An(t,this.defaultValue))}}class An extends mn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var kn=n("SpAZ"),Pn=n("eIep"),Dn=n("IzEk");function Rn(...t){return bn()(Object(nn.a)(...t))}function Nn(...t){const e=t[t.length-1];return Object(on.a)(e)?(t.pop(),n=>Rn(t,n,e)):e=>Rn(t,e)}var Mn=n("Kqap"),Ln=n("JIr8"),Vn=n("bOdf");function Un(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(vn.a)((e,n)=>t(e,n,r)):kn.a,Object(Dn.a)(1),n?Sn(e):Cn(()=>new fn))}var Fn=n("5+tZ"),qn=n("vkgz"),zn=n("quSY");class Bn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Hn(t,this.callback))}}class Hn extends mn.a{constructor(t,e){super(t),this.add(new zn.a(e))}}class Wn{constructor(t,e){this.id=t,this.url=e}}class Gn extends Wn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $n extends Wn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qn extends Wn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kn extends Wn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jn extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends Wn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zn extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ur="primary";class cr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lr(t){return new cr(t)}function hr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pr(t[i],e[i]))return!1;return!0}function pr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function gr(t){return Array.prototype.concat.apply([],t)}function yr(t){return t.length>0?t[t.length-1]:null}function br(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function vr(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(xt.a)(Promise.resolve(t)):Object(nn.a)(t)}function mr(t,e,n){return n?function(t,e){return dr(t,e)}(t.queryParams,e.queryParams)&&_r(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pr(t[n],e[n]))}(t.queryParams,e.queryParams)&&wr(t.root,e.root)}function _r(t,e){if(!Ir(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!_r(t.children[n],e.children[n]))return!1}return!0}function wr(t,e){return Or(t,e,e.segments)}function Or(t,e,n){if(t.segments.length>n.length)return!!Ir(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ir(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Ir(t.segments,r)&&!!t.children.primary&&Or(t.children.primary,e,i)}}class Er{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return Ar.serialize(this)}}class Cr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,br(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kr(this)}}class Tr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return Vr(this)}}function Ir(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function xr(t,e){let n=[];return br(t.children,(t,r)=>{r===ur&&(n=n.concat(e(t,r)))}),br(t.children,(t,r)=>{r!==ur&&(n=n.concat(e(t,r)))}),n}class Sr{}class jr{parse(t){const e=new Br(t);return new Er(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Pr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Rr(e)}=${Rr(t)}`).join("&"):`${Rr(e)}=${Rr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ar=new jr;function kr(t){return t.segments.map(t=>Vr(t)).join("/")}function Pr(t,e){if(!t.hasChildren())return kr(t);if(e){const e=t.children.primary?Pr(t.children.primary,!1):"",n=[];return br(t.children,(t,e)=>{e!==ur&&n.push(`${e}:${Pr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=xr(t,(e,n)=>n===ur?[Pr(t.children.primary,!1)]:[`${n}:${Pr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${kr(t)}/${e[0]}`:`${kr(t)}/(${e.join("//")})`}}function Dr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rr(t){return Dr(t).replace(/%3B/gi,";")}function Nr(t){return Dr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mr(t){return decodeURIComponent(t)}function Lr(t){return Mr(t.replace(/\+/g,"%20"))}function Vr(t){return`${Nr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Nr(t)}=${Nr(e[t])}`).join("")}`;var e}const Ur=/^[^\/()?;=#]+/;function Fr(t){const e=t.match(Ur);return e?e[0]:""}const qr=/^[^=?&#]+/,zr=/^[^?&#]+/;class Br{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cr([],{}):new Cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Cr(t,e)),n}parseSegment(){const t=Fr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tr(Mr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Fr(this.remaining);t&&(n=t,this.capture(n))}t[Mr(e)]=Mr(n)}parseQueryParam(t){const e=function(t){const e=t.match(qr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(zr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lr(e),i=Lr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ur);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Cr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Hr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Gr(t,this._root).map(t=>t.value)}}function Wr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wr(t,n);if(e)return e}return null}function Gr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Gr(t,n);if(r.length)return r.unshift(e),r}return[]}class $r{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Kr extends Hr{constructor(t,e){super(t),this.snapshot=e,ei(this,t)}toString(){return this.snapshot.toString()}}function Jr(t,e){const n=function(t,e){const n=new Zr([],{},{},"",{},ur,e,null,t.root,-1,{});return new ti("",new $r(n,[]))}(t,e),r=new rn.a([new Tr("",{})]),i=new rn.a({}),o=new rn.a({}),s=new rn.a({}),a=new rn.a(""),u=new Yr(r,i,s,a,o,ur,e,n.root);return u.snapshot=n.root,new Kr(new $r(u,[]),n)}class Yr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Tt.a)(t=>lr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Tt.a)(t=>lr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ti extends Hr{constructor(t,e){super(e),this.url=t,ei(this,e)}toString(){return ni(this._root)}}function ei(t,e){e.value._routerState=t,e.children.forEach(e=>ei(t,e))}function ni(t){const e=t.children.length>0?` { ${t.children.map(ni).join(", ")} } `:"";return`${t.value}${e}`}function ri(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ii(t,e){return dr(t.params,e.params)&&function(t,e){return Ir(t,e)&&t.every((t,n)=>dr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ii(t.parent,e.parent))}function oi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return oi(t,e,r);return oi(t,e)})}(t,e,n);return new $r(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return si(e,t),t}{const n=new Yr(new rn.a((r=e.value).url),new rn.a(r.params),new rn.a(r.queryParams),new rn.a(r.fragment),new rn.a(r.data),r.outlet,r.component,r),i=e.children.map(e=>oi(t,e));return new $r(n,i)}}var r}function si(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)si(t.children[n],e.children[n])}function ai(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ui(t){return"object"==typeof t&&null!=t&&t.outlets}function ci(t,e,n,r,i){let o={};return r&&br(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Er(n.root===t?e:li(n.root,t,e),o,i)}function li(t,e,n){const r={};return br(t.children,(t,i)=>{r[i]=t===e?n:li(t,e,n)}),new Cr(t.segments,r)}class hi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ai(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ui);if(r&&r!==yr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function di(t,e,n){if(t||(t=new Cr([],{})),0===t.segments.length&&t.hasChildren())return pi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ui(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!vi(a,u,e))return o;r+=2}else{if(!vi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Cr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Cr(t.segments.slice(r.pathIndex),t.children),pi(e,0,i)}return r.match&&0===i.length?new Cr(t.segments,{}):r.match&&!t.hasChildren()?gi(t,e,n):r.match?pi(t,0,i):gi(t,e,n)}function pi(t,e,n){if(0===n.length)return new Cr(t.segments,{});{const r=function(t){return ui(t[0])?t[0].outlets:{[ur]:t}}(n),i={};return br(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=di(t.children[r],e,n))}),br(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Cr(t.segments,i)}}function gi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ui(o)){const t=yi(o.outlets);return new Cr(r,t)}if(0===i&&ai(n[0])){r.push(new Tr(t.segments[e].path,n[0])),i++;continue}const s=ui(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&ai(a)?(r.push(new Tr(s,bi(a))),i+=2):(r.push(new Tr(s,{})),i++)}return new Cr(r,{})}function yi(t){const e={};return br(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=gi(new Cr([],{}),0,t))}),e}function bi(t){const e={};return br(t,(t,n)=>e[n]=""+t),e}function vi(t,e,n){return t==n.path&&dr(e,n.parameters)}class mi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ri(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Qr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),br(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Qr(t),i=t.value.component?n.children:e;br(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Qr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ir(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ri(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_i(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _i(t){ri(t.value),t.children.forEach(_i)}class wi{constructor(t,e){this.routes=t,this.module=e}}function Oi(t){return"function"==typeof t}function Ei(t){return t instanceof Er}const Ci=Symbol("INITIAL_VALUE");function Ti(){return Object(Pn.a)(t=>function(...t){let e=void 0,n=void 0;return Object(on.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(un.a)(t,n).lift(new ln(e))}(...t.map(t=>t.pipe(Object(Dn.a)(1),Nn(Ci)))).pipe(Object(Mn.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ci)return t;if(r===Ci&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ei(r))return r}return t},t)},Ci),Object(vn.a)(t=>t!==Ci),Object(Tt.a)(t=>Ei(t)?t:!0===t),Object(Dn.a)(1)))}let Ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[bo]},encapsulation:2}),t})();function xi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Si(r,ji(e,r))}}function Si(t,e){t.children&&xi(t.children,e)}function ji(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ai(t){const e=t.children&&t.children.map(Ai),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ur&&(n.component=Ii),n}function ki(t){return t.outlet||ur}class Pi{constructor(t){this.segmentGroup=t||null}}class Di{constructor(t){this.urlTree=t}}function Ri(t){return new Et.a(e=>e.error(new Pi(t)))}function Ni(t){return new Et.a(e=>e.error(new Di(t)))}function Mi(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Li{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ur).pipe(Object(Tt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(Ln.a)(t=>{if(t instanceof Di)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Pi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ur).pipe(Object(Tt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(Ln.a)(t=>{if(t instanceof Pi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Cr([],{[ur]:t}):t;return new Er(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Tt.a)(t=>new Cr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(nn.a)({});const n=[],r=[],i={};return br(t,(t,o)=>{const s=e(o,t).pipe(Object(Tt.a)(t=>i[o]=t));o===ur?n.push(s):r.push(s)}),nn.a.apply(null,n.concat(r)).pipe(bn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(vn.a)((e,n)=>t(e,n,r)):kn.a,wn(1),n?Sn(e):Cn(()=>new fn))}(),Object(Tt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=ki(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(xt.a)(n).pipe(Object(Vn.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Object(Ln.a)(t=>{if(t instanceof Pi)return Object(nn.a)(null);throw t}))),Un(t=>null!==t),Object(Ln.a)(t=>{if(t instanceof fn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(nn.a)(new Cr([],{}));throw new Pi(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Tt.a)(()=>null),Object(Ln.a)(()=>Object(nn.a)(null)))});return Object(xt.a)(u).pipe(t=>t.lift(new ln(void 0)),Un(),Object(Tt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ki(r)!==o&&""!==r.path?Ri(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ri(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ni(i):this.lineralizeSegments(n,i).pipe(Object(Fn.a)(n=>{const i=new Cr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Vi(e,r,i);if(!s)return Ri(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ni(l):this.lineralizeSegments(r,l).pipe(Object(Fn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Tt.a)(t=>(n._loadedConfig=t,new Cr(r,{})))):Object(nn.a)(new Cr(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Vi(e,n,r);if(!i)return Ri(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Fn.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Fi(t,e,n)&&ki(n)!==ur)}(t,n,r)?{segmentGroup:Ui(new Cr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ki(r)!==ur&&(n[ki(r)]=new Cr([],{}));return n}(r,new Cr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Fi(t,e,n))}(t,n,r)?{segmentGroup:Ui(new Cr(t.segments,function(t,e,n,r){const i={};for(const o of n)Fi(t,e,o)&&!r[ki(o)]&&(i[ki(o)]=new Cr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Tt.a)(t=>new Cr(o,t))):0===r.length&&0===s.length?Object(nn.a)(new Cr(o,{})):this.expandSegment(n,i,r,s,ur,!0).pipe(Object(Tt.a)(t=>new Cr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(nn.a)(new wi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(nn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Fn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Tt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(hr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(nn.a)(new wi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(nn.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Oi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Oi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return vr(o)});return Object(nn.a)(i).pipe(Ti(),Object(qn.a)(t=>{if(!Ei(t))return;const e=hr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Tt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(nn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Mi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Er(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return br(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return br(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Cr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Vi(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||fr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ui(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Cr(t.segments.concat(e.segments),e.children)}return t}function Fi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zi{constructor(t,e){this.component=t,this.route=e}}function Bi(t,e,n){const r=t._root;return Wi(r,e?e._root:null,n,[r.value])}function Hi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Wi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ir(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ir(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ii(t,e)||!dr(t.queryParams,e.queryParams);case"paramsChange":default:return!ii(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wi(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zi(a.outlet.component,s))}else s&&Gi(e,a,i),i.canActivateChecks.push(new qi(r)),Wi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),br(o,(t,e)=>Gi(t,n.getContext(e),i)),i}function Gi(t,e,n){const r=Qr(t),i=t.value;br(r,(t,r)=>{Gi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new zi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $i(t,e){return null!==t&&e&&e(new or(t)),Object(nn.a)(!0)}function Qi(t,e){return null!==t&&e&&e(new rr(t)),Object(nn.a)(!0)}function Ki(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(nn.a)(!0);const i=r.map(r=>pn(()=>{const i=Hi(r,e,n);let o;if(function(t){return t&&Oi(t.canActivate)}(i))o=vr(i.canActivate(e,t));else{if(!Oi(i))throw new Error("Invalid CanActivate guard");o=vr(i(e,t))}return o.pipe(Un())}));return Object(nn.a)(i).pipe(Ti())}function Ji(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>pn(()=>{const i=e.guards.map(i=>{const o=Hi(i,e.node,n);let s;if(function(t){return t&&Oi(t.canActivateChild)}(o))s=vr(o.canActivateChild(r,t));else{if(!Oi(o))throw new Error("Invalid CanActivateChild guard");s=vr(o(r,t))}return s.pipe(Un())});return Object(nn.a)(i).pipe(Ti())}));return Object(nn.a)(i).pipe(Ti())}class Yi{}class Xi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=eo(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ur),n=new Zr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ur,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $r(n,e),i=new ti(this.url,r);return this.inheritParamsAndData(i._root),Object(nn.a)(i)}catch(t){return new Et.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Xr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=xr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===ur?-1:e.value.outlet===ur?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Yi))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Yi}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Yi;if((t.outlet||ur)!==r)throw new Yi;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?yr(n).parameters:{};i=new Zr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ro(t),r,t.component,t,Zi(e),to(e)+n.length,io(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Yi;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||fr)(n,t,e);if(!r)throw new Yi;const i={};br(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Zr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ro(t),r,t.component,t,Zi(e),to(e)+o.length,io(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=eo(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new $r(i,t)]}if(0===a.length&&0===c.length)return[new $r(i,[])];const l=this.processSegment(a,u,c,ur);return[new $r(i,l)]}}function Zi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function to(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function eo(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>no(t,e,n)&&ki(n)!==ur)}(t,n,r)){const i=new Cr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ki(o)!==ur){const n=new Cr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ki(o)]=n}return i}(t,e,r,new Cr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>no(t,e,n))}(t,n,r)){const o=new Cr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(no(t,n,a)&&!i[ki(a)]){const n=new Cr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ki(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Cr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function no(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ro(t){return t.data||{}}function io(t){return t.resolve||{}}function oo(t){return function(e){return e.pipe(Object(Pn.a)(e=>{const n=t(e);return n?Object(xt.a)(n).pipe(Object(Tt.a)(()=>e)):Object(xt.a)([e])}))}}class so extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ao=new r.q("ROUTES");class uo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Tt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new wi(gr(r.injector.get(ao)).map(Ai),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(xt.a)(this.loader.load(t)):vr(t()).pipe(Object(Fn.a)(t=>t instanceof r.v?Object(nn.a)(t):Object(xt.a)(this.compiler.compileModuleAsync(t))))}}class co{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lo,this.attachRef=null}}class lo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new co,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ho{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fo(t){throw t}function po(t,e,n){return e.parse("/")}function go(t,e){return Object(nn.a)(null)}let yo=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new gn.a,this.errorHandler=fo,this.malformedUriErrorHandler=po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:go,afterPreactivation:go},this.urlHandlingStrategy=new ho,this.routeReuseStrategy=new so,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.Y);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Er(new Cr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uo(s,a,t=>this.triggerEvent(new er(t)),t=>this.triggerEvent(new nr(t))),this.routerState=Jr(this.currentUrlTree,this.rootComponentType),this.transitions=new rn.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(vn.a)(t=>0!==t.id),Object(Tt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(Pn.a)(t=>{let n=!1,r=!1;return Object(nn.a)(t).pipe(Object(qn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(Pn.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(nn.a)(t).pipe(Object(Pn.a)(t=>{const n=this.transitions.getValue();return e.next(new Gn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?dn.a:[t]}),Object(Pn.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Object(Pn.a)(t=>function(t,e,n,r,i){return new Li(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Tt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(qn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Fn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Xi(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Tt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(qn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(qn.a)(t=>{const n=new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Gn(n,this.serializeUrl(r),i,o);e.next(a);const u=Jr(r,this.rootComponentType).snapshot;return Object(nn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),dn.a}),oo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(qn.a)(t=>{const e=new Yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Tt.a)(t=>Object.assign(Object.assign({},t),{guards:Bi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Fn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(nn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(xt.a)(t).pipe(Object(Fn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(nn.a)(!0);const s=o.map(o=>{const s=Hi(o,e,i);let a;if(function(t){return t&&Oi(t.canDeactivate)}(s))a=vr(s.canDeactivate(t,e,n,r));else{if(!Oi(s))throw new Error("Invalid CanDeactivate guard");a=vr(s(t,e,n,r))}return a.pipe(Un())});return Object(nn.a)(s).pipe(Ti())}(t.component,t.route,n,e,r)),Un(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Fn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(xt.a)(e).pipe(Object(Vn.a)(e=>Object(xt.a)([Qi(e.route.parent,r),$i(e.route,r),Ji(t,e.path,n),Ki(t,e.route,n)]).pipe(bn(),Un(t=>!0!==t,!0))),Un(t=>!0!==t,!0))}(r,o,t,e):Object(nn.a)(n)),Object(Tt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(qn.a)(t=>{if(Ei(t.guardsResult)){const e=hr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(qn.a)(t=>{const e=new Xn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(vn.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Qn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),oo(t=>{if(t.guards.canActivateChecks.length)return Object(nn.a)(t).pipe(Object(qn.a)(t=>{const e=new Zn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Pn.a)(t=>{let n=!1;return Object(nn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Fn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(nn.a)(t);let o=0;return Object(xt.a)(n).pipe(Object(Vn.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(nn.a)({});const o={};return Object(xt.a)(i).pipe(Object(Fn.a)(i=>function(t,e,n,r){const i=Hi(t,e,r);return vr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(qn.a)(t=>{o[i]=t}))),wn(1),Object(Fn.a)(()=>Object.keys(o).length===i.length?Object(nn.a)(o):dn.a))}(t._resolve,t,e,r).pipe(Object(Tt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Xr(t,n).resolve),null)))}(t.route,e,r,i)),Object(qn.a)(()=>o++),wn(1),Object(Fn.a)(e=>o===n.length?Object(nn.a)(t):dn.a))}))}),Object(qn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Qn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(qn.a)(t=>{const e=new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),oo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Tt.a)(t=>{const e=function(t,e,n){const r=oi(t,e._root,n?n._root:void 0);return new Kr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(qn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Tt.a)(t=>(new mi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(qn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Qn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Bn(i))),Object(Ln.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ei(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Qn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Kn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(_f){t.reject(_f)}}var i;return dn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xi(t),this.config=t.map(Ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ci(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return br(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new hi(n,e,r)}(n);if(o.toRoot())return ci(e.root,new Cr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new fi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fi(t,t===e.root,0)}const r=ai(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new fi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?pi(s.segmentGroup,s.index,o.commands):di(s.segmentGroup,s.index,o.commands);return ci(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ei(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ei(t))return mr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return mr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new $n(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.N),r.Qb(Sr),r.Qb(lo),r.Qb(O),r.Qb(r.r),r.Qb(r.w),r.Qb(r.i),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),bo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||ur,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(lo),r.Jb(r.Q),r.Jb(r.j),r.Rb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Yr?this.route:t===lo?this.childContexts:this.parent.get(t,e)}}class mo{}class _o{preload(t,e){return Object(nn.a)(null)}}let wo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new uo(e,n,e=>t.triggerEvent(new er(e)),e=>t.triggerEvent(new nr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(vn.a)(t=>t instanceof $n),Object(Vn.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(xt.a)(n).pipe(Object(yn.a)(),Object(Tt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Fn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(yo),r.Qb(r.w),r.Qb(r.i),r.Qb(r.r),r.Qb(mo))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Oo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $n&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ar&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ar(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(yo),r.Qb(W),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Eo=new r.q("ROUTER_CONFIGURATION"),Co=new r.q("ROUTER_FORROOT_GUARD"),To=[O,{provide:Sr,useClass:jr},{provide:yo,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new yo(null,t,e,n,r,i,o,gr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Sr,lo,O,r.r,r.w,r.i,ao,Eo,[class{},new r.A],[class{},new r.A]]},lo,{provide:Yr,useFactory:function(t){return t.routerState.root},deps:[yo]},{provide:r.w,useClass:r.K},wo,_o,class{preload(t,e){return e().pipe(Object(Ln.a)(()=>Object(nn.a)(null)))}},{provide:Eo,useValue:{enableTracing:!1}}];function Io(){return new r.y("Router",yo)}let xo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[To,ko(e),{provide:Co,useFactory:Ao,deps:[[yo,new r.A,new r.J]]},{provide:Eo,useValue:n||{}},{provide:b,useFactory:jo,deps:[u,[new r.p(m),new r.A],Eo]},{provide:Oo,useFactory:So,deps:[yo,W,Eo]},{provide:mo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_o},{provide:r.y,multi:!0,useFactory:Io},[Po,{provide:r.d,multi:!0,useFactory:Do,deps:[Po]},{provide:No,useFactory:Ro,deps:[Po]},{provide:r.b,multi:!0,useExisting:No}]]}}static forChild(e){return{ngModule:t,providers:[ko(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(Co,8),r.Qb(yo,8))}}),t})();function So(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Oo(t,e,n)}function jo(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Ao(t){return"guarded"}function ko(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ao,multi:!0,useValue:t}]}let Po=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new gn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yo),r=this.injector.get(Eo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(nn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Eo),n=this.injector.get(wo),i=this.injector.get(Oo),o=this.injector.get(yo),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function Do(t){return t.appInitializer.bind(t)}function Ro(t){return t.bootstrapListener.bind(t)}const No=new r.q("Router Initializer");var Mo=n("l7P3"),Lo=function(t){return t.logIn="[Auth Component] Log In",t.logInSuccess="[Auth API] Log In Success",t.signUp="[Auth Component] Sign Up",t.logOut="[Auth Component] Log Out",t.logOutSuccess="[Auth Component] Log Out Success",t}({});const Vo=Object(Mo.n)(Lo.logIn,Object(Mo.r)()),Uo=Object(Mo.n)(Lo.signUp,Object(Mo.r)()),Fo=Object(Mo.n)(Lo.logInSuccess,Object(Mo.r)()),qo=Object(Mo.n)(Lo.logOut),zo=Object(Mo.n)(Lo.logOutSuccess);function Bo(t,e){1&t&&(r.Mb(0,"div",5),r.fc(1," Email is required. "),r.Lb())}function Ho(t,e){1&t&&(r.Mb(0,"div",5),r.fc(1," Email is wrong. "),r.Lb())}function Wo(t,e){1&t&&(r.Mb(0,"div",5),r.fc(1," Password must be at least 6 characters long. "),r.Lb())}function Go(t,e){1&t&&(r.Mb(0,"div",5),r.fc(1," Password is required. "),r.Lb())}function $o(t,e){if(1&t&&(r.Mb(0,"div",5),r.fc(1),r.Lb()),2&t){const t=r.Vb();r.zb(1),r.gc(t.error)}}let Qo=(()=>{class t{constructor(t){this.store=t,this.email=new Fe("",[Ft.required,Ft.email]),this.password=new Fe("",[Ft.required,Ft.minLength(6)])}signUp(){this.store.dispatch(Uo({payload:{email:this.email.value,password:this.password.value}}))}logIn(){this.store.dispatch(Vo({payload:{email:this.email.value,password:this.password.value}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Mo.h))},t.\u0275cmp=r.Db({type:t,selectors:[["app-auth"]],decls:16,vars:9,consts:[[1,"container"],["type","email","placeholder","Email","required","",3,"formControl"],["class","error",4,"ngIf"],["type","password","placeholder","Password","required","",3,"formControl"],["type","submit",3,"disabled","click"],[1,"error"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"label"),r.fc(2," Email: "),r.Kb(3,"input",1),r.ec(4,Bo,2,0,"div",2),r.ec(5,Ho,2,0,"div",2),r.Lb(),r.Mb(6,"label"),r.fc(7," Password: "),r.Kb(8,"input",3),r.ec(9,Wo,2,0,"div",2),r.ec(10,Go,2,0,"div",2),r.Lb(),r.Mb(11,"button",4),r.Tb("click",function(){return e.logIn()}),r.fc(12,"Log In"),r.Lb(),r.Mb(13,"button",4),r.Tb("click",function(){return e.signUp()}),r.fc(14,"Sign Up"),r.Lb(),r.ec(15,$o,2,1,"div",2),r.Lb()),2&t&&(r.zb(3),r.Yb("formControl",e.email),r.zb(1),r.Yb("ngIf",(null==e.email.errors?null:e.email.errors.required)&&e.email.touched),r.zb(1),r.Yb("ngIf",(null==e.email.errors?null:e.email.errors.email)&&e.email.touched),r.zb(3),r.Yb("formControl",e.password),r.zb(1),r.Yb("ngIf",null==e.password.errors?null:e.password.errors.minlength),r.zb(1),r.Yb("ngIf",(null==e.password.errors?null:e.password.errors.required)&&e.password.touched),r.zb(1),r.Yb("disabled",!e.email||!e.password),r.zb(2),r.Yb("disabled",!e.email||!e.password),r.zb(2),r.Yb("ngIf",e.error))},directives:[Rt,Xe,ne,Ge,P],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:40px;height:300px;width:250px;border-radius:12px;color:var(--text);background-color:var(--secondary)}.container[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}button[_ngcontent-%COMP%]{border:none;height:45px;border-radius:5px;background-color:var(--primary);color:#fff;font-size:16px}.error[_ngcontent-%COMP%]{color:red;font-weight:700;padding-top:5px}input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;width:100%;font-size:16px}"]}),t})(),Ko=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Mb(0,"p"),r.fc(1,"Page not found!"),r.Lb())},styles:[""]}),t})();var Jo=function(t){return t.loadTodoList="[Todo Component] Load TodoList",t.loadTodoListSuccess="[TodoList API] TodoList Loaded Success",t.completeTodo="[Todo Component] Complete Todo",t.addTodo="[Todo Component] Add Todo",t.deleteTodo="[Todo Component] Delete Todo",t}({});const Yo=Object(Mo.n)(Jo.loadTodoList),Xo=Object(Mo.n)(Jo.loadTodoListSuccess,Object(Mo.r)()),Zo=Object(Mo.n)(Jo.completeTodo,Object(Mo.r)()),ts=Object(Mo.n)(Jo.addTodo,Object(Mo.r)()),es=Object(Mo.n)(Jo.deleteTodo,Object(Mo.r)()),ns=t=>t.todoList,rs=Object(Mo.p)(ns,t=>t.every(t=>t.completed));let is=(()=>{class t{constructor(t){this.element=t}ngOnInit(){this.element.nativeElement.style.borderLeft="3px solid "+("high"===this.priority?"red":"medium"===this.priority?"green":"white")}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","appTodoPriority",""]],inputs:{priority:["appTodoPriority","priority"]}}),t})();function os(t,e){1&t&&(r.Mb(0,"div",10),r.Mb(1,"label"),r.fc(2,"Date: "),r.Kb(3,"input",11),r.Lb(),r.Mb(4,"label"),r.fc(5,"Priority: "),r.Mb(6,"select",12),r.Mb(7,"option",13),r.fc(8,"Default"),r.Lb(),r.Mb(9,"option",14),r.fc(10,"High"),r.Lb(),r.Mb(11,"option",15),r.fc(12,"Medium"),r.Lb(),r.Mb(13,"option",16),r.fc(14,"Low"),r.Lb(),r.Lb(),r.Lb(),r.Lb())}function ss(t,e){if(1&t&&(r.Mb(0,"p",22),r.fc(1),r.Lb()),2&t){const t=r.Vb().$implicit;r.zb(1),r.gc(t.date)}}function as(t,e){if(1&t){const t=r.Nb();r.Mb(0,"li",17),r.Mb(1,"input",18),r.Tb("click",function(){r.ac(t);const n=e.$implicit;return r.Vb().complete(n)}),r.Lb(),r.Mb(2,"p"),r.fc(3),r.Lb(),r.Mb(4,"div",19),r.ec(5,ss,2,1,"p",20),r.Lb(),r.Mb(6,"button",21),r.Tb("click",function(){r.ac(t);const n=e.$implicit;return r.Vb().delete(n)}),r.fc(7,"X"),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.Yb("appTodoPriority",t.priority),r.zb(1),r.Yb("checked",t.completed),r.zb(1),r.dc("text-decoration",t.completed?"line-through":""),r.zb(1),r.gc(t.description),r.zb(2),r.Yb("ngIf",t.date)}}function us(t,e){1&t&&(r.Mb(0,"div"),r.Mb(1,"p"),r.fc(2,"You have no tasks"),r.Lb(),r.Lb())}function cs(t,e){1&t&&(r.Mb(0,"div"),r.Mb(1,"p"),r.fc(2,"You completed all tasks"),r.Lb(),r.Lb())}let ls=(()=>{class t{constructor(t){this.store=t,this.todoForm=new qe({description:new Fe(""),date:new Fe(""),priority:new Fe("default")}),this.todoList$=this.store.select(ns),this.allTasksCompleted$=this.store.select(rs),this.showAdditional=!1,this.store.dispatch(Yo())}toggleAdditional(){this.showAdditional=!this.showAdditional}add(){if(""===this.todoForm.value.description)return;const t=Object.assign(Object.assign({},this.todoForm.value),{completed:!1});this.todoForm.reset(),this.store.dispatch(ts({payload:t}))}delete(t){this.store.dispatch(es({payload:t}))}complete(t){this.store.dispatch(Zo({payload:t}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Mo.h))},t.\u0275cmp=r.Db({type:t,selectors:[["app-todo"]],decls:16,vars:11,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"addTodo"],["type","text","formControlName","description","placeholder","Add a task...",1,"task-input"],["type","submit"],[1,"link",3,"click"],["class","additional",4,"ngIf"],[1,"todoList"],[3,"appTodoPriority",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"additional"],["type","date","formControlName","date"],["formControlName","priority"],["value","default"],["value","high"],["value","medium"],["value","low"],[3,"appTodoPriority"],["type","checkbox",3,"checked","click"],[1,"settings-container"],["class","settings",4,"ngIf"],[3,"click"],[1,"settings"]],template:function(t,e){if(1&t&&(r.Mb(0,"div",0),r.Mb(1,"form",1),r.Tb("ngSubmit",function(){return e.add()}),r.Mb(2,"div",2),r.Kb(3,"input",3),r.Mb(4,"button",4),r.fc(5,"Add"),r.Lb(),r.Lb(),r.Mb(6,"p",5),r.Tb("click",function(){return e.toggleAdditional()}),r.fc(7,"Additional"),r.Lb(),r.ec(8,os,15,0,"div",6),r.Lb(),r.Mb(9,"ul",7),r.ec(10,as,8,6,"li",8),r.Wb(11,"async"),r.Lb(),r.ec(12,us,3,0,"div",9),r.Wb(13,"async"),r.ec(14,cs,3,0,"div",9),r.Wb(15,"async"),r.Lb()),2&t){let t=null;r.zb(1),r.Yb("formGroup",e.todoForm),r.zb(7),r.Yb("ngIf",e.showAdditional),r.zb(2),r.Yb("ngForOf",r.Xb(11,5,e.todoList$)),r.zb(2),r.Yb("ngIf",!(null!=(t=r.Xb(13,7,e.todoList$))&&t.length)),r.zb(2),r.Yb("ngIf",r.Xb(15,9,e.allTasksCompleted$))}},directives:[Be,re,Qe,Rt,ne,Je,P,A,de,pe,ve,is],pipes:[z],styles:[".container[_ngcontent-%COMP%]{width:800px;height:calc(100vh - 190px)}@media (max-width:900px){.container[_ngcontent-%COMP%]{width:400px}}@media (max-width:400px){.container[_ngcontent-%COMP%]{width:300px}}.link[_ngcontent-%COMP%]{color:#11427d;cursor:pointer}.addTodo[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.todoList[_ngcontent-%COMP%]{list-style-type:none;padding:0}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 2px 0 hsla(0,0%,62%,.75)}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px;background-color:unset;border:none;color:var(--text);box-shadow:none}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--todo-hover)}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px;flex:1}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{flex:3}.settings-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.settings[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);color:var(--text);font-size:12px;margin-left:5px}.task-input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;width:80%;min-width:250px;font-size:16px;margin-right:10px}.additional[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.additional[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .additional[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;font-size:16px;margin-right:10px}button[_ngcontent-%COMP%]{border:none;height:45px;width:110px;border-radius:5px;background-color:var(--primary);color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}"]}),t})();var hs=n("VRyK"),fs=n("pxpQ"),ds=n("jtHE");function ps(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new ds.a(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function gs(t,e){return e?Object(Pn.a)(()=>t,e):Object(Pn.a)(()=>t)}var ys=n("tf+s"),bs=n("spgP");const vs=new r.q("angularfire2.auth.use-emulator"),ms=new r.q("angularfire2.auth.settings"),_s=new r.q("angularfire2.auth.tenant-id"),ws=new r.q("angularfire2.auth.langugage-code"),Os=new r.q("angularfire2.auth.use-device-language"),Es=new r.q("angularfire.auth.persistence");let Cs=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new bs.d(i),f=Object(bs.h)(h),d=new gn.a,p=Object(nn.a)(void 0).pipe(Object(fs.b)(h.outsideAngular),Object(Pn.a)(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Tt.a)(()=>Object(bs.g)(t,i,e)),Object(Tt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(bs.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ps({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(nn.a)(null);else{p.pipe(Un()).subscribe();const t=p.pipe(Object(Pn.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ps({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Object(Pn.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Object(Pn.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(gs(n),Object(ys.a)(h.outsideAngular),Object(fs.b)(h.insideAngular)),this.user=t.pipe(gs(r),Object(ys.a)(h.outsideAngular),Object(fs.b)(h.insideAngular)),this.idToken=this.user.pipe(Object(Pn.a)(t=>t?Object(xt.a)(t.getIdToken()):Object(nn.a)(null))),this.idTokenResult=this.user.pipe(Object(Pn.a)(t=>t?Object(xt.a)(t.getIdTokenResult()):Object(nn.a)(null))),this.credential=Object(hs.a)(t,d,this.authState.pipe(Object(vn.a)(t=>!t))).pipe(Object(Tt.a)(t=>(null==t?void 0:t.user)?t:null),Object(ys.a)(h.outsideAngular),Object(fs.b)(h.insideAngular))}return Object(bs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(bs.c),r.Qb(bs.b,8),r.Qb(r.B),r.Qb(r.z),r.Qb(vs,8),r.Qb(ms,8),r.Qb(_s,8),r.Qb(ws,8),r.Qb(Os,8),r.Qb(Es,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(bs.c),Object(r.Qb)(bs.b,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(vs,8),Object(r.Qb)(ms,8),Object(r.Qb)(_s,8),Object(r.Qb)(ws,8),Object(r.Qb)(Os,8),Object(r.Qb)(Es,8))},token:t,providedIn:"any"}),t})();Object(bs.e)(Cs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Ts=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Cs]}),t})(),Is=(()=>{class t{constructor(t){this.firebaseAuth=t}getUser(){return this.firebaseAuth.user}signUp(t,e){return this.firebaseAuth.createUserWithEmailAndPassword(t,e)}logIn(t,e){return this.firebaseAuth.signInWithEmailAndPassword(t,e)}logOut(){return this.firebaseAuth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Cs))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xs=[{path:"login",component:Qo},{path:"todo",component:ls,canActivate:[(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.getUser().pipe(Object(Dn.a)(1),Object(Tt.a)(t=>!!t||this.router.parseUrl("/login")))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Is),r.Qb(yo))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"",redirectTo:"todo",pathMatch:"full"},{path:"**",component:Ko}];let Ss=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[xo.forRoot(xs)],xo]}),t})();var js=n("D0XW");function As(){return t=>t.lift(new ks)}class ks{call(t,e){return e.subscribe(new Ps(t))}}class Ps extends mn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ds=n("/uUt"),Rs=n("Jgta"),Ns=n("os0x"),Ms=n("zIRd"),Ls=n("q/0M"),Vs=n("qOnz"),Us=function(t,e){return(Us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Fs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qs,zs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bs=Bs||{},Hs=zs||self;function Ws(){}function Gs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qs="closure_uid_"+(1e9*Math.random()>>>0),Ks=0;function Js(t,e,n){return t.call.apply(t.bind,arguments)}function Ys(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Xs(t,e,n){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Js:Ys).apply(null,arguments)}function Zs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ta(){return Date.now()}function ea(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function na(){this.j=this.j,this.i=this.i}na.prototype.j=!1,na.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Qs)&&t[Qs]||(t[Qs]=++Ks)}(this)},na.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ra=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ia=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function oa(t){return Array.prototype.concat.apply([],arguments)}function sa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function aa(t){return/^[\s\xa0]*$/.test(t)}var ua,ca=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function la(t,e){return-1!=t.indexOf(e)}function ha(t,e){return t<e?-1:t>e?1:0}t:{var fa=Hs.navigator;if(fa){var da=fa.userAgent;if(da){ua=da;break t}}ua=""}function pa(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ga(t){var e={};for(var n in t)e[n]=t[n];return e}var ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ba(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function va(t){return va[" "](t),t}va[" "]=Ws;var ma,_a,wa=la(ua,"Opera"),Oa=la(ua,"Trident")||la(ua,"MSIE"),Ea=la(ua,"Edge"),Ca=Ea||Oa,Ta=la(ua,"Gecko")&&!(la(ua.toLowerCase(),"webkit")&&!la(ua,"Edge"))&&!(la(ua,"Trident")||la(ua,"MSIE"))&&!la(ua,"Edge"),Ia=la(ua.toLowerCase(),"webkit")&&!la(ua,"Edge");function xa(){var t=Hs.document;return t?t.documentMode:void 0}t:{var Sa="",ja=(_a=ua,Ta?/rv:([^\);]+)(\)|;)/.exec(_a):Ea?/Edge\/([\d\.]+)/.exec(_a):Oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_a):Ia?/WebKit\/(\S+)/.exec(_a):wa?/(?:Version)[ \/]?(\S+)/.exec(_a):void 0);if(ja&&(Sa=ja?ja[1]:""),Oa){var Aa=xa();if(null!=Aa&&Aa>parseFloat(Sa)){ma=String(Aa);break t}}ma=Sa}var ka={};function Pa(t){return function(t,e){var n=ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ca(String(ma)).split("."),r=ca(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ha(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ha(0==s[2].length,0==a[2].length)||ha(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Da=Hs.document&&Oa&&(xa()||parseInt(ma,10))||void 0,Ra=!Oa||9<=Number(Da),Na=Oa&&!Pa("9"),Ma=function(){if(!Hs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Hs.addEventListener("test",Ws,e),Hs.removeEventListener("test",Ws,e)}catch(n){}return t}();function La(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Va(t,e){if(La.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ta){t:{try{va(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ua[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}La.prototype.b=function(){this.defaultPrevented=!0},ea(Va,La);var Ua={2:"touch",3:"pen",4:"mouse"};Va.prototype.b=function(){Va.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Na)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Fa="closure_listenable_"+(1e6*Math.random()|0),qa=0;function za(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++qa,this.Y=this.Z=!1}function Ba(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ha(t){this.src=t,this.a={},this.b=0}function Wa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ra(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ba(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ga(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ha.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ga(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new za(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var $a="closure_lm_"+(1e6*Math.random()|0),Qa={};function Ka(t,e,n,r,i){if(r&&r.once)return Ya(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ka(t,e[o],n,r,i);return null}return n=ou(n),t&&t[Fa]?t.va(e,n,$s(r)?!!r.capture:!!r,i):Ja(t,e,n,!1,r,i)}function Ja(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=$s(i)?!!i.capture:!!i;if(s&&!Ra)return null;var a=ru(t);if(a||(t[$a]=a=new Ha(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=nu,e=Ra?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ma||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ya(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ya(t,e[o],n,r,i);return null}return n=ou(n),t&&t[Fa]?t.wa(e,n,$s(r)?!!r.capture:!!r,i):Ja(t,e,n,!0,r,i)}function Xa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xa(t,e[o],n,r,i);else r=$s(r)?!!r.capture:!!r,n=ou(n),t&&t[Fa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ga(o=t.a[e],n,r,i))&&(Ba(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ru(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ga(e,n,r,i)),(n=-1<t?e[t]:null)&&Za(n))}function Za(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Fa])Wa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ru(e))?(Wa(n,t),0==n.b&&(n.src=null,e[$a]=null)):Ba(t)}}}function tu(t){return t in Qa?Qa[t]:Qa[t]="on"+t}function eu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Za(t),n.call(r,e)}function nu(t,e){if(t.Y)return!0;if(!Ra){if(!e)t:{e=["window","event"];for(var n=Hs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return eu(t,e=new Va(e,this))}return eu(t,new Va(e,this))}function ru(t){return(t=t[$a])instanceof Ha?t:null}var iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(t){return"function"==typeof t?t:(t[iu]||(t[iu]=function(e){return t.handleEvent(e)}),t[iu])}function su(){na.call(this),this.c=new Ha(this),this.J=this,this.C=null}function au(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new La(e,t);else if(e instanceof La)e.target=e.target||t;else{var i=e;ba(e=new La(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=uu(s,r,!0,e)&&i}if(i=uu(s=e.a=t,r,!0,e)&&i,i=uu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=uu(s=e.a=n[o],r,!1,e)&&i}function uu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Wa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ea(su,na),su.prototype[Fa]=!0,(qs=su.prototype).addEventListener=function(t,e,n,r){Ka(this,t,e,n,r)},qs.removeEventListener=function(t,e,n,r){Xa(this,t,e,n,r)},qs.G=function(){if(su.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ba(n[r]);delete e.a[t],e.b--}}this.C=null},qs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},qs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var cu=Hs.JSON.stringify;function lu(){this.b=this.a=null}var hu,fu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new pu},function(t){t.reset()});function du(){var t=vu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function pu(){this.next=this.b=this.a=null}function gu(t){Hs.setTimeout(function(){throw t},0)}function yu(t,e){hu||function(){var t=Hs.Promise.resolve(void 0);hu=function(){t.then(mu)}}(),bu||(hu(),bu=!0),vu.add(t,e)}lu.prototype.add=function(t,e){var n=fu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},pu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},pu.prototype.reset=function(){this.next=this.b=this.a=null};var bu=!1,vu=new lu;function mu(){for(var t;t=du();){try{t.a.call(t.b)}catch(n){gu(n)}var e=fu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}bu=!1}function _u(t,e){su.call(this),this.b=t||1,this.a=e||Hs,this.f=Xs(this.Za,this),this.g=ta()}function wu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ou(t,e,n){if("function"==typeof t)n&&(t=Xs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Hs.setTimeout(t,e||0)}function Eu(t){t.a=Ou(function(){t.a=null,t.c&&(t.c=!1,Eu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ea(_u,su),(qs=_u.prototype).aa=!1,qs.M=null,qs.Za=function(){if(this.aa){var t=ta()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),au(this,"tick"),this.aa&&(wu(this),this.start()))}},qs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ta())},qs.G=function(){_u.X.G.call(this),wu(this),delete this.a};var Cu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Eu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Hs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(na);function Tu(t){na.call(this),this.b=t,this.a={}}ea(Tu,na);var Iu=[];function xu(t,e,n,r){Array.isArray(n)||(n&&(Iu[0]=n.toString()),n=Iu);for(var i=0;i<n.length;i++){var o=Ka(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Su(t){pa(t.a,function(t,e){this.a.hasOwnProperty(e)&&Za(t)},t),t.a={}}function ju(){this.a=!0}function Au(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return cu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Tu.prototype.G=function(){Tu.X.G.call(this),Su(this)},Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ju.prototype.info=function(){};var ku={},Pu=null;function Du(){return Pu=Pu||new su}function Ru(t){La.call(this,ku.Fa,t)}function Nu(t){var e=Du();au(e,new Ru(e,t))}function Mu(t,e){La.call(this,ku.STAT_EVENT,t),this.stat=e}function Lu(t){var e=Du();au(e,new Mu(e,t))}function Vu(t){La.call(this,ku.Ga,t)}function Uu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Hs.setTimeout(function(){t()},e)}ku.Fa="serverreachability",ea(Ru,La),ku.STAT_EVENT="statevent",ea(Mu,La),ku.Ga="timingevent",ea(Vu,La);var Fu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},qu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function zu(){}function Bu(){}zu.prototype.a=null;var Hu,Wu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Gu(){La.call(this,"d")}function $u(){La.call(this,"c")}function Qu(){}function Ku(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Tu(this),this.P=Ju,this.R=new _u(t=Ca?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ea(Gu,La),ea($u,La),ea(Qu,zu),Hu=new Qu;var Ju=45e3,Yu={},Xu={};function Zu(t,e,n){t.H=1,t.i=wc(gc(e)),t.j=n,t.I=!0,tc(t,null)}function tc(t,e){t.u=ta(),rc(t),t.l=gc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Rc(n.b,"t",r),t.D=0,t.a=Sl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Cu(Xs(t.Ca,t,t.a),t.O)),xu(t.J,t.a,"readystatechange",t.Xa),e=t.B?ga(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Nu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ec(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=nc(t,n);if(i==Xu){4==e&&(t.h=4,Lu(14),r=!1),Au(t.c,t.f,null,"[Incomplete Response]");break}if(i==Yu){t.h=4,Lu(15),Au(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Au(t.c,t.f,i,null),uc(t,i)}4==e&&0==n.length&&(t.h=1,Lu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_l(e),e.F=!0,Lu(11))):(Au(t.c,t.f,n,"[Invalid Chunked Response]"),ac(t),sc(t))}function nc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Xu:(n=Number(e.substring(n,r)),isNaN(n)?Yu:(r+=1)+n>e.length?Xu:(e=e.substr(r,n),t.D=r+n,e))}function rc(t){t.T=ta()+t.P,ic(t,t.P)}function ic(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Uu(Xs(t.Va,t),e)}function oc(t){t.o&&(Hs.clearTimeout(t.o),t.o=null)}function sc(t){0==t.g.v||t.A||El(t.g,t)}function ac(t){oc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,wu(t.R),Su(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function uc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||qc(n.b,t)))if(n.I=t.N,!t.C&&qc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(b_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ol(n),hl(n)}ml(n),Lu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Uu(Xs(n.Sa,n),6e3));if(1>=Fc(n.b)&&n.ea){try{n.ea()}catch(b_){}n.ea=void 0}}else Tl(n,11)}else if((t.C||n.a==t)&&Ol(n),!aa(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(la(l,"spdy")||la(l,"quic")||la(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(zc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,_c(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ta()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=xl(u,u.C?u.ga:null,u.fa),d.C){Bc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(oc(p),rc(p)),u.a=d}else vl(u);0<n.g.length&&pl(n)}else"stop"!=i[0]&&"close"!=i[0]||Tl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Tl(n,7):ll(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Nu(4)}catch(b_){}}function cc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gs(t)||"string"==typeof t)ia(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Gs(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Gs(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function lc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof lc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)fc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function fc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qs=Ku.prototype).setTimeout=function(t){this.P=t},qs.Xa=function(t){t=t.target;var e=this.F;e&&3==sl(t)?e.f():this.Ca(t)},qs.Ca=function(t){try{if(t==this.a)t:{var e=sl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ca&&!this.a.$())){this.A||4!=e||7==n||Nu(8==n||0>=r?3:2),oc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!aa(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Lu(12),ac(this),sc(this);break t}Au(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,uc(this,u)}this.I?(ec(this,e,o),Ca&&this.b&&3==e&&(xu(this.J,this.R,"tick",this.Wa),this.R.start())):(Au(this.c,this.f,o,null),uc(this,o)),4==e&&ac(this),this.b&&!this.A&&(4==e?El(this.g,this):(this.b=!1,rc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Lu(12)):(this.h=0,Lu(13)),ac(this),sc(this)}}}catch(c){}},qs.Wa=function(){if(this.a){var t=sl(this.a),e=this.a.$();this.D<e.length&&(oc(this),ec(this,t,e),this.b&&4!=t&&rc(this))}},qs.cancel=function(){this.A=!0,ac(this)},qs.Va=function(){this.o=null;var t=ta();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Nu(3),Lu(17)),ac(this),this.h=2,sc(this)):ic(this,this.T-t)},(qs=lc.prototype).K=function(){hc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},qs.L=function(){return hc(this),this.a.concat()},qs.get=function(t,e){return fc(this.b,t)?this.b[t]:e},qs.set=function(t,e){fc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},qs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var dc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof pc){this.a=void 0!==e?e:t.a,yc(this,t.f),this.j=t.j,bc(this,t.c),vc(this,t.h),this.g=t.g,e=t.b;var n=new Ac;n.c=e.c,e.a&&(n.a=new lc(e.a),n.b=e.b),mc(this,n),this.i=t.i}else t&&(n=String(t).match(dc))?(this.a=!!e,yc(this,n[1]||"",!0),this.j=Oc(n[2]||""),bc(this,n[3]||"",!0),vc(this,n[4]),this.g=Oc(n[5]||"",!0),mc(this,n[6]||"",!0),this.i=Oc(n[7]||"")):(this.a=!!e,this.b=new Ac(null,this.a))}function gc(t){return new pc(t)}function yc(t,e,n){t.f=n?Oc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bc(t,e,n){t.c=n?Oc(e,!0):e}function vc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function mc(t,e,n){e instanceof Ac?(t.b=e,function(t,e){e&&!t.f&&(kc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Pc(this,e),Rc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ec(e,Sc)),t.b=new Ac(e,t.a))}function _c(t,e,n){t.b.set(e,n)}function wc(t){return _c(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ta()).toString(36)),t}function Oc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ec(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ec(e,Tc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ec(e,Tc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ec(n,"/"==n.charAt(0)?xc:Ic,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ec(n,jc)),t.join("")};var Tc=/[#\/\?@]/g,Ic=/[#\?:]/g,xc=/[#\?]/g,Sc=/[#\?@]/g,jc=/#/g;function Ac(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function kc(t){t.a||(t.a=new lc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Pc(t,e){kc(t),e=Nc(t,e),fc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,fc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&hc(t)))}function Dc(t,e){return kc(t),e=Nc(t,e),fc(t.a.b,e)}function Rc(t,e,n){Pc(t,e),0<n.length&&(t.c=null,t.a.set(Nc(t,e),sa(n)),t.b+=n.length)}function Nc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(qs=Ac.prototype).add=function(t,e){kc(this),this.c=null,t=Nc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},qs.forEach=function(t,e){kc(this),this.a.forEach(function(n,r){ia(n,function(n){t.call(e,n,r,this)},this)},this)},qs.L=function(){kc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qs.K=function(t){kc(this);var e=[];if("string"==typeof t)Dc(this,t)&&(e=oa(e,this.a.get(Nc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=oa(e,t[n])}return e},qs.set=function(t,e){return kc(this),this.c=null,Dc(this,t=Nc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},qs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},qs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Mc=function(){return function(t,e){this.b=t,this.a=e}}();function Lc(t){this.g=t||Vc,t=Hs.PerformanceNavigationTiming?0<(t=Hs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Hs.ia&&Hs.ia.ya&&Hs.ia.ya()&&Hs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Vc=10;function Uc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Fc(t){return t.b?1:t.a?t.a.size:0}function qc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zc(t,e){t.a?t.a.add(e):t.b=e}function Bc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Fs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return sa(t.c)}function Wc(){}function Gc(){this.a=new Wc}function $c(t,e,n){var r=n||"";try{cc(t,function(t,n){var i=t;$s(t)&&(i=cu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Lc.prototype.cancel=function(){var t,e;if(this.c=Hc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Fs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Wc.prototype.stringify=function(t){return Hs.JSON.stringify(t,void 0)},Wc.prototype.parse=function(t){return Hs.JSON.parse(t,void 0)};var Kc=Hs.JSON.parse;function Jc(t){su.call(this),this.headers=new lc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Yc,this.D=this.F=!1}ea(Jc,su);var Yc="",Xc=/^https?$/i,Zc=["POST","PUT"];function tl(t){return"content-type"==t.toLowerCase()}function el(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,nl(t),il(t)}function nl(t){t.u||(t.u=!0,au(t,"complete"),au(t,"error"))}function rl(t){if(t.b&&void 0!==Bs&&(!t.s[1]||4!=sl(t)||2!=t.W()))if(t.l&&4==sl(t))Ou(t.za,0,t);else if(au(t,"readystatechange"),4==sl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(dc)[1]||null;if(!o&&Hs.self&&Hs.self.location){var s=Hs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Xc.test(o?o.toLowerCase():"")}e=i}if(e)au(t,"complete"),au(t,"success");else{t.h=6;try{var a=2<sl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",nl(t)}}finally{il(t)}}}function il(t,e){if(t.a){ol(t);var n=t.a,r=t.s[0]?Ws:null;t.a=null,t.s=null,e||au(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function ol(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Hs.clearTimeout(t.m),t.m=null)}function sl(t){return t.a?t.a.readyState:0}function al(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return pa(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_c(t,e,n))}function ul(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cl(t){this.pa=0,this.g=[],this.c=new ju,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ul("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ul("baseRetryDelayMs",5e3,t),this.Ra=ul("retryDelaySeedMs",1e4,t),this.Ma=ul("forwardChannelMaxRetries",2,t),this.ma=ul("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Lc(t&&t.concurrentRequestLimit),this.ka=new Gc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ll(t){if(fl(t),3==t.v){var e=t.R++,n=gc(t.B);_c(n,"SID",t.J),_c(n,"RID",e),_c(n,"TYPE","terminate"),yl(t,n),(e=new Ku(t,t.c,e,void 0)).H=2,e.i=wc(gc(n)),n=!1,Hs.navigator&&Hs.navigator.sendBeacon&&(n=Hs.navigator.sendBeacon(e.i.toString(),"")),!n&&Hs.Image&&((new Image).src=e.i,n=!0),n||(e.a=Sl(e.g,null),e.a.ba(e.i)),e.u=ta(),rc(e)}Il(t)}function hl(t){t.a&&(_l(t),t.a.cancel(),t.a=null)}function fl(t){hl(t),t.j&&(Hs.clearTimeout(t.j),t.j=null),Ol(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Hs.clearTimeout(t.h),t.h=null)}function dl(t,e){t.g.push(new Mc(t.Oa++,e)),3==t.v&&pl(t)}function pl(t){Uc(t.b)||t.h||(t.h=!0,yu(t.Ba,t),t.u=0)}function gl(t,e){var n;n=e?e.f:t.R++;var r=gc(t.B);_c(r,"SID",t.J),_c(r,"RID",n),_c(r,"AID",t.P),yl(t,r),t.i&&t.l&&al(r,t.i,t.l),n=new Ku(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zc(t.b,n),Zu(n,r,e)}function yl(t,e){t.f&&cc({},function(t,n){_c(e,n,t)})}function bl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Xs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{$c(l,s,"req"+c+"_")}catch(ah){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vl(t){t.a||t.j||(t.T=1,yu(t.Aa,t),t.o=0)}function ml(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Uu(Xs(t.Aa,t),Cl(t,t.o)),t.o++,0))}function _l(t){null!=t.s&&(Hs.clearTimeout(t.s),t.s=null)}function wl(t){t.a=new Ku(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gc(t.la);_c(e,"RID","rpc"),_c(e,"SID",t.J),_c(e,"CI",t.H?"0":"1"),_c(e,"AID",t.P),yl(t,e),_c(e,"TYPE","xmlhttp"),t.i&&t.l&&al(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wc(gc(e)),n.j=null,n.I=!0,tc(n,t)}function Ol(t){null!=t.m&&(Hs.clearTimeout(t.m),t.m=null)}function El(t,e){var n=null;if(t.a==e){Ol(t),_l(t),t.a=null;var r=2}else{if(!qc(t.b,e))return;n=e.s,Bc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ta()-e.u;var i=t.u;au(r=Du(),new Vu(r,n,e,i)),pl(t)}else vl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Fc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Uu(Xs(t.Ba,t,e),Cl(t,t.u)),t.u++,0)))}(t,e)||2==r&&ml(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Tl(t,5);break;case 4:Tl(t,10);break;case 3:Tl(t,6);break;default:Tl(t,2)}}function Cl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Tl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Xs(t.Ya,t);n||(n=new pc("//www.google.com/images/cleardot.gif"),Hs.location&&"http"==Hs.location.protocol||yc(n,"https"),wc(n)),function(t,e){var n=new ju;if(Hs.Image){var r=new Image;r.onload=Zs(Qc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zs(Qc,n,r,"TestLoadImage: error",!1,e),r.onabort=Zs(Qc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zs(Qc,n,r,"TestLoadImage: timeout",!1,e),Hs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Lu(2);t.v=0,t.f&&t.f.ra(e),Il(t),fl(t)}function Il(t){t.v=0,t.I=-1,t.f&&(0==Hc(t.b).length&&0==t.g.length||(t.b.c.length=0,sa(t.g),t.g.length=0),t.f.qa())}function xl(t,e,n){var r=function(t){return t instanceof pc?gc(t):new pc(t,void 0)}(n);if(""!=r.c)e&&bc(r,e+"."+r.c),vc(r,r.h);else{var i=Hs.location;r=function(t,e,n,r){var i=new pc(null,void 0);return t&&yc(i,t),e&&bc(i,e),n&&vc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&pa(t.V,function(t,e){_c(r,e,t)}),n=t.na,(e=t.A)&&n&&_c(r,e,n),_c(r,"VER",t.ha),yl(t,r),r}function Sl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jc(t.Na)).F=t.C,e}function jl(){}function Al(){if(Oa&&!(10<=Number(Da)))throw Error("Environmental error: no available transport.")}function kl(t,e){su.call(this),this.a=new cl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!aa(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!aa(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Rl(this)}function Pl(t){Gu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Dl(){$u.call(this),this.status=1}function Rl(t){this.a=t}(qs=Jc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Hu),this.a.onreadystatechange=Xs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void el(this,o)}t=n||"";var i=new lc(this.headers);r&&cc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=tl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Hs.FormData&&t instanceof Hs.FormData,!(0<=ra(Zc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ol(this),0<this.o&&((this.D=function(t){return Oa&&Pa(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Xs(this.xa,this)):this.m=Ou(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){el(this,o)}},qs.xa=function(){void 0!==Bs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,au(this,"timeout"),this.abort(8))},qs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,au(this,"complete"),au(this,"abort"),il(this))},qs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),il(this,!0)),Jc.X.G.call(this)},qs.za=function(){this.j||(this.A||this.l||this.g?rl(this):this.Ua())},qs.Ua=function(){rl(this)},qs.W=function(){try{return 2<sl(this)?this.a.status:-1}catch(_a){return-1}},qs.$=function(){try{return this.a?this.a.responseText:""}catch(_a){return""}},qs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kc(e)}},qs.ua=function(){return this.h},qs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(qs=cl.prototype).ha=8,qs.v=1,qs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ku(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ba(r=ga(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bl(this,n,e),_c(i=gc(this.B),"RID",t),_c(i,"CVER",22),this.A&&_c(i,"X-HTTP-Session-Id",this.A),yl(this,i),this.i&&r&&al(i,this.i,r),zc(this.b,n),this.Ia&&_c(i,"TYPE","init"),this.da?(_c(i,"$req",e),_c(i,"SID","null"),n.U=!0,Zu(n,i,null)):Zu(n,i,e),this.v=2}}else 3==this.v&&(t?gl(this,t):0==this.g.length||Uc(this.b)||gl(this))},qs.Aa=function(){if(this.j=null,wl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Uu(Xs(this.Ta,this),t)}},qs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Lu(10),hl(this),wl(this))},qs.Sa=function(){null!=this.m&&(this.m=null,hl(this),ml(this),Lu(19))},qs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Lu(2)):(this.c.info("Failed to ping google.com"),Lu(1))},(qs=jl.prototype).ta=function(){},qs.sa=function(){},qs.ra=function(){},qs.qa=function(){},qs.Ja=function(){},Al.prototype.a=function(t,e){return new kl(t,e)},ea(kl,su),kl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Lu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=xl(t,null,t.fa),pl(t)},kl.prototype.close=function(){ll(this.a)},kl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,dl(this.a,e)}else this.l?((e={}).__data__=cu(t),dl(this.a,e)):dl(this.a,t)},kl.prototype.G=function(){this.a.f=null,delete this.f,ll(this.a),delete this.a,kl.X.G.call(this)},ea(Pl,Gu),ea(Dl,$u),ea(Rl,jl),Rl.prototype.ta=function(){au(this.a,"a")},Rl.prototype.sa=function(t){au(this.a,new Pl(t))},Rl.prototype.ra=function(t){au(this.a,new Dl(t))},Rl.prototype.qa=function(){au(this.a,"b")},Al.prototype.createWebChannel=Al.prototype.a,kl.prototype.send=kl.prototype.h,kl.prototype.open=kl.prototype.g,kl.prototype.close=kl.prototype.close,Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,qu.COMPLETE="complete",Bu.EventType=Wu,Wu.OPEN="a",Wu.CLOSE="b",Wu.ERROR="c",Wu.MESSAGE="d",su.prototype.listen=su.prototype.va,Jc.prototype.listenOnce=Jc.prototype.wa,Jc.prototype.getLastError=Jc.prototype.Qa,Jc.prototype.getLastErrorCode=Jc.prototype.ua,Jc.prototype.getStatus=Jc.prototype.W,Jc.prototype.getResponseJson=Jc.prototype.Pa,Jc.prototype.getResponseText=Jc.prototype.$,Jc.prototype.send=Jc.prototype.ba;var Nl=Fu,Ml=qu,Ll=ku,Vl=Bu,Ul=Jc,Fl=n("/6Yf"),ql=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},zl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Bl=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Bl.UNAUTHENTICATED=new Bl(null),Bl.l=new Bl("google-credentials-uid"),Bl._=new Bl("first-party-uid");var Hl=new Ls.b("@firebase/firestore");function Wl(){return Hl.logLevel}function Gl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hl.logLevel<=Ls.a.DEBUG){var r=e.map(Kl);Hl.debug.apply(Hl,Object(Ns.g)(["Firestore (8.1.1): "+t],r))}}function $l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hl.logLevel<=Ls.a.ERROR){var r=e.map(Kl);Hl.error.apply(Hl,Object(Ns.g)(["Firestore (8.1.1): "+t],r))}}function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hl.logLevel<=Ls.a.WARN){var r=e.map(Kl);Hl.warn.apply(Hl,Object(Ns.g)(["Firestore (8.1.1): "+t],r))}}function Kl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Jl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw $l(e),new Error(e)}function Yl(t,e){t||Jl()}function Xl(t,e){return t}var Zl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},th=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ns.c)(e,t),e}(Error),eh=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},nh=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Bl.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),rh=function(){function t(t){var e=this;this.P=null,this.currentUser=Bl.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(Gl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Yl("string"==typeof n.accessToken),new eh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Yl(null===t||"string"==typeof t),new Bl(t)},t}(),ih=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Bl._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),oh=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new ih(this.v,this.S))},t.prototype.A=function(t){t(Bl._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function sh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ah=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=sh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function uh(t,e){return t<e?-1:t>e?1:0}function ch(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function lh(t){return t+"\0"}var hh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new th(Zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new th(Zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new th(Zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new th(Zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?uh(this.nanoseconds,t.nanoseconds):uh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fh=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new hh(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),dh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Jl(),void 0===n?n=t.length-e:n>t.length-e&&Jl(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new th(Zl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(dh),gh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return gh.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new th(Zl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new th(Zl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new th(Zl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new th(Zl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(dh),bh=function(){function t(t){this.path=t}return t.st=function(e){return new t(ph.Y(e))},t.it=function(e){return new t(ph.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ph.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return ph.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new ph(e.slice()))},t}();function vh(t){return null==t}function mh(t){return 0===t&&1/t==-1/0}function _h(t){return"number"==typeof t&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function Oh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new wh(t,e,n,r,i,o,s)}function Eh(t){var e=Xl(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+mf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wp(e.startAt)),e.endAt&&(n+="|ub:",n+=wp(e.endAt)),e.ut=n}return e.ut}function Ch(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ip(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!gf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ep(t.startAt,e.startAt)&&Ep(t.endAt,e.endAt)}function Th(t){return bh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ih=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return uh(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Ih.lt=new Ih("");var xh,Sh,jh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=fh.min()),void 0===o&&(o=fh.min()),void 0===s&&(s=Ih.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Ah=function(t){this.count=t};function kh(t){switch(t){case Zl.OK:return Jl();case Zl.CANCELLED:case Zl.UNKNOWN:case Zl.DEADLINE_EXCEEDED:case Zl.RESOURCE_EXHAUSTED:case Zl.INTERNAL:case Zl.UNAVAILABLE:case Zl.UNAUTHENTICATED:return!1;case Zl.INVALID_ARGUMENT:case Zl.NOT_FOUND:case Zl.ALREADY_EXISTS:case Zl.PERMISSION_DENIED:case Zl.FAILED_PRECONDITION:case Zl.ABORTED:case Zl.OUT_OF_RANGE:case Zl.UNIMPLEMENTED:case Zl.DATA_LOSS:return!0;default:return Jl()}}function Ph(t){if(void 0===t)return $l("GRPC error has no .code"),Zl.UNKNOWN;switch(t){case xh.OK:return Zl.OK;case xh.CANCELLED:return Zl.CANCELLED;case xh.UNKNOWN:return Zl.UNKNOWN;case xh.DEADLINE_EXCEEDED:return Zl.DEADLINE_EXCEEDED;case xh.RESOURCE_EXHAUSTED:return Zl.RESOURCE_EXHAUSTED;case xh.INTERNAL:return Zl.INTERNAL;case xh.UNAVAILABLE:return Zl.UNAVAILABLE;case xh.UNAUTHENTICATED:return Zl.UNAUTHENTICATED;case xh.INVALID_ARGUMENT:return Zl.INVALID_ARGUMENT;case xh.NOT_FOUND:return Zl.NOT_FOUND;case xh.ALREADY_EXISTS:return Zl.ALREADY_EXISTS;case xh.PERMISSION_DENIED:return Zl.PERMISSION_DENIED;case xh.FAILED_PRECONDITION:return Zl.FAILED_PRECONDITION;case xh.ABORTED:return Zl.ABORTED;case xh.OUT_OF_RANGE:return Zl.OUT_OF_RANGE;case xh.UNIMPLEMENTED:return Zl.UNIMPLEMENTED;case xh.DATA_LOSS:return Zl.DATA_LOSS;default:return Jl()}}(Sh=xh||(xh={}))[Sh.OK=0]="OK",Sh[Sh.CANCELLED=1]="CANCELLED",Sh[Sh.UNKNOWN=2]="UNKNOWN",Sh[Sh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sh[Sh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sh[Sh.NOT_FOUND=5]="NOT_FOUND",Sh[Sh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sh[Sh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sh[Sh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sh[Sh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sh[Sh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sh[Sh.ABORTED=10]="ABORTED",Sh[Sh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sh[Sh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sh[Sh.INTERNAL=13]="INTERNAL",Sh[Sh.UNAVAILABLE=14]="UNAVAILABLE",Sh[Sh.DATA_LOSS=15]="DATA_LOSS";var Dh=function(){function t(t,e){this.$=t,this.root=e||Nh.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Nh.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Nh.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Rh(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Rh(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Rh(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Rh(this.root,t,this.$,!0)},t}(),Rh=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Nh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Jl();if(this.right.Mt())throw Jl();var t=this.left.Qt();if(t!==this.right.Qt())throw Jl();return t+(this.Mt()?0:1)},t}();Nh.EMPTY=null,Nh.RED=!0,Nh.It=!1,Nh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Jl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Jl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Jl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Jl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Jl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Nh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Mh=function(){function t(t){this.$=t,this.data=new Dh(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Lh(this.data.yt())},t.prototype.Vt=function(t){return new Lh(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Lh=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Vh=new Dh(bh.$);function Uh(){return Vh}function Fh(){return Uh()}var qh=new Dh(bh.$);function zh(){return qh}var Bh=new Dh(bh.$),Hh=new Mh(bh.$);function Wh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Hh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Gh=new Mh(uh);function $h(){return Gh}var Qh=function(){function t(t){this.$=t?function(e,n){return t(e,n)||bh.$(e.key,n.key)}:function(t,e){return bh.$(t.key,e.key)},this.Ht=zh(),this.Jt=new Dh(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Kh=function(){function t(){this.Xt=new Dh(bh.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Jl():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Jh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Qh.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&sp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yh=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Xh.he(e,n)),new t(fh.min(),r,$h(),Uh(),Wh())},t}(),Xh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Ih.lt,n,Wh(),Wh(),Wh())},t}(),Zh=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},tf=function(t,e){this.targetId=t,this.Te=e},ef=function(t,e,n,r){void 0===n&&(n=Ih.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},nf=function(){function t(){this.Ie=0,this.me=sf(),this.Ae=Ih.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Wh(),e=Wh(),n=Wh();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Jl()}}),new Xh(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=sf()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),rf=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Uh(),this.Me=of(),this.ke=new Mh(uh)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Gd?this.Le(r,t.Ee):t.Ee instanceof $d&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Jl()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Th(i))if(0===n){var o=new bh(i.path);this.Be(e,o,new $d(o,fh.min()))}else Yl(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&Th(o.target)){var s=new bh(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new $d(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Wh();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Yh(t,n,this.ke,this.Oe,r);return this.Oe=Uh(),this.Me=of(),this.ke=new Mh(uh),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new nf,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Mh(uh),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Gl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new nf),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function of(){return new Dh(bh.$)}function sf(){return new Dh(bh.$)}function af(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hf(t){var e=t.mapValue.fields.__previous_value__;return lf(e)?hf(e):e}function ff(t){var e=wf(t.mapValue.fields.__local_write_time__.timestampValue);return new hh(e.seconds,e.nanos)}var df=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lf(t)?4:10:Jl()}function gf(t,e){var n=pf(t);if(n!==pf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wf(t.timestampValue),r=wf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ef(t.bytesValue).isEqual(Ef(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Of(t.geoPointValue.latitude)===Of(e.geoPointValue.latitude)&&Of(t.geoPointValue.longitude)===Of(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Of(t.integerValue)===Of(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Of(t.doubleValue),r=Of(e.doubleValue);return n===r?mh(n)===mh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ch(t.arrayValue.values||[],e.arrayValue.values||[],gf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(af(n)!==af(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gf(n[i],r[i])))return!1;return!0}(t,e);default:return Jl()}}function yf(t,e){return void 0!==(t.values||[]).find(function(t){return gf(t,e)})}function bf(t,e){var n=pf(t),r=pf(e);if(n!==r)return uh(n,r);switch(n){case 0:return 0;case 1:return uh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Of(t.integerValue||t.doubleValue),r=Of(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return vf(t.timestampValue,e.timestampValue);case 4:return vf(ff(t),ff(e));case 5:return uh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ef(t),r=Ef(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=uh(n[i],r[i]);if(0!==o)return o}return uh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=uh(Of(t.latitude),Of(e.latitude));return 0!==n?n:uh(Of(t.longitude),Of(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=bf(n[i],r[i]);if(o)return o}return uh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=uh(r[s],o[s]);if(0!==a)return a;var u=bf(n[r[s]],i[o[s]]);if(0!==u)return u}return uh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Jl()}}function vf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return uh(t,e);var n=wf(t),r=wf(e),i=uh(n.seconds,r.seconds);return 0!==i?i:uh(n.nanos,r.nanos)}function mf(t){return _f(t)}function _f(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=wf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ef(t.bytesValue).toBase64():"referenceValue"in t?bh.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=_f(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+_f(t.fields[o])}return e+"}"}(t.mapValue):Jl();var e}function wf(t){if(Yl(!!t),"string"==typeof t){var e=0,n=df.exec(t);if(Yl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Of(t.seconds),nanos:Of(t.nanos)}}function Of(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ef(t){return"string"==typeof t?Ih.fromBase64String(t):Ih.fromUint8Array(t)}function Cf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Tf(t){return!!t&&"integerValue"in t}function If(t){return!!t&&"arrayValue"in t}function xf(t){return!!t&&"nullValue"in t}function Sf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jf(t){return!!t&&"mapValue"in t}var Af={asc:"ASCENDING",desc:"DESCENDING"},kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pf=function(t,e){this.t=t,this.tn=e};function Df(t){return{integerValue:""+t}}function Rf(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function Nf(t,e){return _h(e)?Df(e):Rf(t,e)}function Mf(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lf(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Vf(t,e){return Mf(t,e.M())}function Uf(t){return Yl(!!t),fh.N(function(t){var e=wf(t);return new hh(e.seconds,e.nanos)}(t))}function Ff(t,e){return function(t){return new ph(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function qf(t){var e=ph.Y(t);return Yl(ld(e)),e}function zf(t,e){return Ff(t.t,e.path)}function Bf(t,e){var n=qf(e);if(n.get(1)!==t.t.projectId)throw new th(Zl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new th(Zl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new bh($f(n))}function Hf(t,e){return Ff(t.t,e)}function Wf(t){var e=qf(t);return 4===e.length?ph.X():$f(e)}function Gf(t){return new ph(["projects",t.t.projectId,"databases",t.t.database]).J()}function $f(t){return Yl(t.length>4&&"documents"===t.get(4)),t.B(5)}function Qf(t,e,n){return{name:zf(t,e),fields:n.proto.mapValue.fields}}function Kf(t,e){var n;if(e instanceof Rd)n={update:Qf(t,e.key,e.value)};else if(e instanceof Fd)n={delete:zf(t,e.key)};else if(e instanceof Nd)n={update:Qf(t,e.key,e.data),updateMask:cd(e.en)};else if(e instanceof Ld)n={transform:{document:zf(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof gd)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof yd)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof vd)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof _d)return{fieldPath:e.field.J(),increment:n.nn};throw Jl()}(0,t)})}};else{if(!(e instanceof qd))return Jl();n={verify:zf(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Jl()}(t,e.rn)),n}function Jf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Id.updateTime(Uf(t.updateTime)):void 0!==t.exists?Id.exists(t.exists):Id.on()}(e.currentDocument):Id.on();if(e.update){var r=Bf(t,e.update.name),i=new zd({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Ed((t.fieldPaths||[]).map(function(t){return yh.nt(t)}))}(e.updateMask);return new Nd(r,i,o,n)}return new Rd(r,i,n)}if(e.delete){var s=Bf(t,e.delete);return new Fd(s,n)}if(e.transform){var a=Bf(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Yl("REQUEST_TIME"===e.setToServerValue),n=new gd):"appendMissingElements"in e?n=new yd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new vd(e.removeAllFromArray.values||[]):"increment"in e?n=new _d(t,e.increment):Jl();var r=yh.nt(e.fieldPath);return new Cd(r,n)}(t,e)});return Yl(!0===n.exists),new Ld(a,u)}if(e.verify){var c=Bf(t,e.verify);return new qd(c,n)}return Jl()}function Yf(t,e){return{documents:[Hf(t,e.path)]}}function Xf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hf(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Sf(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NAN"}};if(xf(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Sf(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NOT_NAN"}};if(xf(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(t.field),op:id(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:od(t.field),direction:rd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||vh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ed(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ed(e.endAt)),n}function Zf(t){var e=Wf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=td(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Cp(sd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return vh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=nd(n.startAt));var l=null;return n.endAt&&(l=nd(n.endAt)),Jd(e,i,a,s,u,"F",c,l)}function td(t){return t?void 0!==t.unaryFilter?[ud(t)]:void 0!==t.fieldFilter?[ad(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return td(t)}).reduce(function(t,e){return t.concat(e)}):Jl():[]}function ed(t){return{before:t.before,values:t.position}}function nd(t){return new _p(t.values||[],!!t.before)}function rd(t){return Af[t]}function id(t){return kf[t]}function od(t){return{fieldPath:t.J()}}function sd(t){return yh.nt(t.fieldPath)}function ad(t){return hp.create(sd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Jl()}}(t.fieldFilter.op),t.fieldFilter.value)}function ud(t){switch(t.unaryFilter.op){case"IS_NAN":var e=sd(t.unaryFilter.field);return hp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=sd(t.unaryFilter.field);return hp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sd(t.unaryFilter.field);return hp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sd(t.unaryFilter.field);return hp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Jl()}}function cd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function ld(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var hd=function(){this.cn=void 0};function fd(t,e,n){return t instanceof gd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof yd?bd(t,e):t instanceof vd?md(t,e):function(t,e){var n=pd(t,e),r=wd(n)+wd(t.nn);return Tf(n)&&Tf(t.nn)?Df(r):Rf(t.serializer,r)}(t,e)}function dd(t,e,n){return t instanceof yd?bd(t,e):t instanceof vd?md(t,e):n}function pd(t,e){return t instanceof _d?Tf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e}(hd),yd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ns.c)(e,t),e}(hd);function bd(t,e){for(var n=Od(e),r=function(t){n.some(function(e){return gf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ns.c)(e,t),e}(hd);function md(t,e){for(var n=Od(e),r=function(t){n=n.filter(function(e){return!gf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Ns.c)(e,t),e}(hd);function wd(t){return Of(t.integerValue||t.doubleValue)}function Od(t){return If(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ed=function(){function t(t){this.fields=t,t.sort(yh.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return ch(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Cd=function(t,e){this.field=t,this.transform=e},Td=function(t,e){this.version=t,this.transformResults=e},Id=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xd(t,e){return void 0!==t.updateTime?e instanceof Gd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Gd}var Sd=function(){};function jd(t,e,n){return t instanceof Rd?function(t,e,n){return new Gd(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Nd?function(t,e,n){if(!xd(t.rn,e))return new Qd(t.key,n.version);var r=Md(t,e);return new Gd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ld?function(t,e,n){if(Yl(null!=n.transformResults),!xd(t.rn,e))return new Qd(t.key,n.version);var r=Vd(0,e),i=function(t,e,n){var r=[];Yl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Gd&&(a=e.field(o.field)),r.push(dd(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Ud(t,r.data(),i);return new Gd(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new $d(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ad(t,e,n,r){return t instanceof Rd?function(t,e){if(!xd(t.rn,e))return e;var n=Dd(e);return new Gd(t.key,n,t.value,{an:!0})}(t,e):t instanceof Nd?function(t,e){if(!xd(t.rn,e))return e;var n=Dd(e),r=Md(t,e);return new Gd(t.key,n,r,{an:!0})}(t,e):t instanceof Ld?function(t,e,n,r){if(!xd(t.rn,e))return e;var i=Vd(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Gd&&(c=n.field(a.field)),null===c&&r instanceof Gd&&(c=r.field(a.field)),i.push(fd(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Ud(t,i.data(),o);return new Gd(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return xd(t.rn,e)?new $d(t.key,fh.min()):e}(t,e)}function kd(t,e){return t instanceof Ld?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Gd?e.field(o.field):void 0,a=pd(o.transform,s||null);null!=a&&(n=null==n?(new Bd).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function Pd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||ch(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof yd&&e instanceof yd||t instanceof vd&&e instanceof vd?ch(t.elements,e.elements,gf):t instanceof _d&&e instanceof _d?gf(t.nn,e.nn):t instanceof gd&&e instanceof gd}(t.transform,e.transform)}(t,e)}))}function Dd(t){return t instanceof Gd?t.version:fh.min()}var Rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Ns.c)(e,t),e}(Sd),Nd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Ns.c)(e,t),e}(Sd);function Md(t,e){return function(t,e){var n=new Bd(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof Gd?e.data():zd.empty())}var Ld=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Id.exists(!0),r}return Object(Ns.c)(e,t),e}(Sd);function Vd(t,e){return e}function Ud(t,e,n){for(var r=new Bd(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Fd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Ns.c)(e,t),e}(Sd),qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Ns.c)(e,t),e}(Sd),zd=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!jf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return gf(this.proto,t.proto)},t}(),Bd=function(){function t(t){void 0===t&&(t=zd.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===pf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(yh.X(),this._n);return null!=t?new zd(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=jf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Hd(t){var e=[];return uf(t.fields||{},function(t,n){var r=new yh([t]);if(jf(n)){var i=Hd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Ed(e)}var Wd=function(t,e){this.key=t,this.version=e},Gd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ns.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Wd),$d=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ns.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Wd),Qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Wd),Kd=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null};function Jd(t,e,n,r,i,o,s,a){return new Kd(t,e,n,r,i,o,s,a)}function Yd(t){return new Kd(t)}function Xd(t){return!vh(t.limit)&&"F"===t.limitType}function Zd(t){return!vh(t.limit)&&"L"===t.limitType}function tp(t){return t.Tn.length>0?t.Tn[0].field:null}function ep(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function np(t){return null!==t.collectionGroup}function rp(t){var e=Xl(t);if(null===e.In){e.In=[];var n=ep(e),r=tp(e);if(null!==n&&null===r)n.tt()||e.In.push(new Cp(n)),e.In.push(new Cp(yh.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Cp(yh.et(),u))}}}return e.In}function ip(t){var e=Xl(t);if(!e.mn)if("F"===e.limitType)e.mn=Oh(e.path,e.collectionGroup,rp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=rp(e);r<i.length;r++){var o=i[r];n.push(new Cp(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new _p(e.endAt.position,!e.endAt.before):null,a=e.startAt?new _p(e.startAt.position,!e.startAt.before):null;e.mn=Oh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.mn}function op(t,e,n){return new Kd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sp(t,e){return Ch(ip(t),ip(e))&&t.limitType===e.limitType}function ap(t){return Eh(ip(t))+"|lt:"+t.limitType}function up(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+mf(e.value);var e}).join(", ")+"]"),vh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wp(t.startAt)),t.endAt&&(e+=", endAt: "+wp(t.endAt)),"Target("+e+")"}(ip(t))+"; limitType="+t.limitType+")"}function cp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):bh.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Op(t.startAt,rp(t),e)||t.endAt&&Op(t.endAt,rp(t),e))}(t,e)}function lp(t){return function(e,n){for(var r=!1,i=0,o=rp(t);i<o.length;i++){var s=o[i],a=Tp(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ns.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new fp(t,n,r):"array-contains"===n?new yp(t,r):"in"===n?new bp(t,r):"not-in"===n?new vp(t,r):"array-contains-any"===n?new mp(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new dp(t,n):new pp(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(bf(e,this.value)):null!==e&&pf(this.value)===pf(e)&&this.Pn(bf(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jl()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bh.it(r.referenceValue),i}return Object(Ns.c)(e,t),e.prototype.matches=function(t){var e=bh.$(t.key,this.key);return this.Pn(e)},e}(hp),dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=gp(0,n),r}return Object(Ns.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(hp),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=gp(0,n),r}return Object(Ns.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(hp);function gp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return bh.it(t.referenceValue)})}var yp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ns.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return If(e)&&yf(e.arrayValue,this.value)},e}(hp),bp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ns.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&yf(this.value.arrayValue,e)},e}(hp),vp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ns.c)(e,t),e.prototype.matches=function(t){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!yf(this.value.arrayValue,e)},e}(hp),mp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ns.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!If(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return yf(e.value.arrayValue,t)})},e}(hp),_p=function(t,e){this.position=t,this.before=e};function wp(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return mf(t)}).join(",")}function Op(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?bh.$(bh.it(s.referenceValue),n.key):bf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ep(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!gf(t.position[n],e.position[n]))return!1;return!0}var Cp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tp(t,e,n){var r=t.field.tt()?bh.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?bf(r,i):Jl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jl()}}function Ip(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var xp=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=jd(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ad(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Ad(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Wh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ch(this.mutations,t.mutations,function(t,e){return Pd(t,e)})&&ch(this.baseMutations,t.baseMutations,function(t,e){return Pd(t,e)})},t}(),Sp=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Yl(e.mutations.length===r.length);for(var i=Bh,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),jp=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){uf(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.W=function(){return cf(this.Nn)},t}(),Ap=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Jl(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),kp=function(){function t(){this.Qn=new jp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:fh.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Ap.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Pp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Dp(t){return new Pf(t,!0)}function Rp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Np="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mp=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Lp=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Fh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=Uh();return i.forEach(function(t,e){e||(e=new $d(t,fh.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return bh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):np(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new bh(e)).next(function(t){var e=zh();return t instanceof Gd&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=zh();return this.os.As(t,i).next(function(s){return Ap.forEach(s,function(s){var a=function(t,e){return new Kd(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return o.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Ad(u,l,l,o.gn);r=h instanceof Gd?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){cp(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Wh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Nd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Gd&&(c=c.Tt(t,e))}),c})},t}(),Vp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Wh(),i=Wh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Up=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Up.Ds=-1;var Fp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Gl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),qp=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Vs.g)())&&$l("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Gl("SimpleDb","Removing database:",t),$p(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Vs.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Gl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Bp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new th(Zl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Bp(t,n))},i.onupgradeneeded=function(t){Gl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Gl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ns.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ns.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ns.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Wp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ap.reject(t)}).Ln(),u={},s.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Gl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zp=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return $p(this.ni.delete())},t}(),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,Zl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ns.c)(e,t),e}(th);function Hp(t){return"IndexedDbTransactionError"===t.name}var Wp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Pp,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Bp(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Kp(e.target.error);n.ci.reject(new Bp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Bp(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Gl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Gp(e)},t}(),Gp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Gl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Gl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$p(n)},t.prototype.add=function(t){return Gl("SimpleDb","ADD",this.store.name,t,t),$p(this.store.add(t))},t.prototype.get=function(t){var e=this;return $p(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Gl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Gl("SimpleDb","DELETE",this.store.name,t),$p(this.store.delete(t))},t.prototype.count=function(){return Gl("SimpleDb","COUNT",this.store.name),$p(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){Gl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Ap(function(n,r){e.onerror=function(t){var e=Kp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Ap(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new zp(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ap){var a=s.catch(function(t){return o.done(),Ap.reject(t)});n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return Ap.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $p(t){return new Ap(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Kp(t.target.error);n(e)}})}var Qp=!1;function Kp(t){var e=qp.js(Object(Vs.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new th("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Qp||(Qp=!0,setTimeout(function(){throw r},0)),r}}return t}function Jp(){return"undefined"!=typeof window?window:null}function Yp(){return"undefined"!=typeof document?document:null}var Xp=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Pp,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new th(Zl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Zp=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Fp(this,"async_queue_retry"),this.Di=function(){var e=Yp();e&&Gl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Ns.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ns.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Hp(t=n.sent()))throw t;return Gl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,$l("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Xp.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Jl()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Ns.b)(this,void 0,void 0,function(){var t;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function tg(t,e){if($l("AsyncQueue",e+": "+t),Hp(t))return new th(Zl.UNAVAILABLE,e+": "+t);throw t}function eg(t,e){var n=t[1],r=e[1],i=uh(t[0],e[0]);return 0===i?uh(n,r):i}var ng=function(){function t(t){this.Ki=t,this.buffer=new Mh(eg),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();eg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),rg={zi:!1,Hi:0,Ji:0,Yi:0},ig=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();ig.nr=10,ig.sr=1e3,ig.ir=new ig(41943040,ig.nr,ig.sr),ig.rr=new ig(-1,0,0);var og=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Gl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Ns.b)(e,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Hp(e=n.sent())?(Gl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Py(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),sg=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Ap.resolve(Up.Ds);var r=new ng(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Gl("LruGarbageCollector","Garbage collection skipped; disabled"),Ap.resolve(rg)):this.Pr(t).next(function(r){return r<n.params.Xi?(Gl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),rg):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(Gl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,s=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),Wl()<=Ls.a.DEBUG&&Gl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ap.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}();function ag(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=cg(e)),e=ug(t.get(n),e);return cg(e)}function ug(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function cg(t){return t+"\x01\x01"}function lg(t){var e=t.length;if(Yl(e>=2),2===e)return Yl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ph.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Jl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Jl()}o=s+2}return new ph(r)}var hg=function(t){this.yr=t};function fg(t,e){if(e.document)return function(t,e,n){var r=Bf(t,e.name),i=Uf(e.updateTime),o=new zd({mapValue:{fields:e.fields}});return new Gd(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bh.ct(e.noDocument.path),r=bg(e.noDocument.readTime);return new $d(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=bh.ct(e.unknownDocument.path),o=bg(e.unknownDocument.version);return new Qd(i,o)}return Jl()}function dg(t,e,n){var r=pg(n),i=e.key.path.q().H();if(e instanceof Gd){var o=function(t,e){return{name:zf(t,e.key),fields:e.En().mapValue.fields,updateTime:Mf(t,e.version.M())}}(t.yr,e);return new Hg(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof $d){var s=e.key.path.H(),a=yg(e.version),u=e.hasCommittedMutations;return new Hg(null,new zg(s,a),null,u,r,i)}if(e instanceof Qd){var c=e.key.path.H(),l=yg(e.version);return new Hg(new Bg(c,l),null,null,!0,r,i)}return Jl()}function pg(t){var e=t.M();return[e.seconds,e.nanoseconds]}function gg(t){var e=new hh(t[0],t[1]);return fh.N(e)}function yg(t){var e=t.M();return new Lg(e.seconds,e.nanoseconds)}function bg(t){var e=new hh(t.seconds,t.nanoseconds);return fh.N(e)}function vg(t,e){var n=(e.baseMutations||[]).map(function(e){return Jf(t.yr,e)}),r=e.mutations.map(function(e){return Jf(t.yr,e)}),i=hh.fromMillis(e.localWriteTimeMs);return new xp(e.batchId,i,n,r)}function mg(t){var e,n,r=bg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bg(t.lastLimboFreeSnapshotVersion):fh.min();return void 0!==t.query.documents?(Yl(1===(n=t.query).documents.length),e=ip(Yd(Wf(n.documents[0])))):e=function(t){return ip(Zf(t))}(t.query),new jh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ih.fromBase64String(t.resumeToken))}function _g(t,e){var n,r=yg(e.ft),i=yg(e.lastLimboFreeSnapshotVersion);n=Th(e.target)?Yf(t.yr,e.target):Xf(t.yr,e.target);var o=e.resumeToken.toBase64();return new Gg(e.targetId,Eh(e.target),r,o,e.sequenceNumber,i,n)}function wg(t){var e=Zf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?op(e,e.limit,"L"):e}var Og=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return Yl(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tg(t)._i({index:Fg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,o=Ig(t),s=Tg(t);return s.add({}).next(function(a){Yl("number"==typeof a);for(var u=new xp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Kf(t.yr,e)}),i=n.mutations.map(function(e){return Kf(t.yr,e)});return new Fg(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Mh(function(t,e){return uh(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=qg.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(s.put(c)),l.push(o.put(g,qg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Dr(t,e))}),t.es(function(){i.pr[a]=u.keys()}),Ap.qn(l).next(function(){return u})})},t.prototype.Cr=function(t,e){var n=this;return Tg(t).get(e).next(function(t){return t?(Yl(t.userId===n.userId),vg(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Ap.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tg(t)._i({index:Fg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Yl(e.batchId>=r),o=vg(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tg(t)._i({index:Fg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tg(t).ui(Fg.userMutationsIndex,n).next(function(t){return t.map(function(t){return vg(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=qg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ig(t)._i({range:i},function(r,i,s){var a=r[0],u=r[2],c=lg(r[1]);if(a===n.userId&&e.path.isEqual(c))return Tg(t).get(u).next(function(t){if(!t)throw Jl();Yl(t.userId===n.userId),o.push(vg(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new Mh(uh),i=[];return e.forEach(function(e){var o=qg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ig(t)._i({range:s},function(t,i,o){var s=t[0],a=t[2],u=lg(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ap.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=qg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Mh(uh);return Ig(t)._i({range:s},function(t,e,o){var s=t[0],u=t[2],c=lg(t[1]);s===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.kr(t,a)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Tg(t).get(e).next(function(t){if(null===t)throw Jl();Yl(t.userId===n.userId),r.push(vg(n.serializer,t))}))}),Ap.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return Cg(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),Ap.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return Ap.resolve();var r=IDBKeyRange.lowerBound(qg.prefixForUser(e.userId)),i=[];return Ig(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=lg(t[1]);i.push(o)}else r.done()}).next(function(){Yl(0===i.length)})})},t.prototype.Qr=function(t,e){return Eg(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return xg(t).get(this.userId).next(function(t){return t||new Ug(e.userId,-1,"")})},t}();function Eg(t,e,n){var r=qg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ig(t)._i({range:o,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Cg(t,e,n){var r=t.store(Fg.store),i=t.store(qg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Yl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ap.qn(o).next(function(){return c})}function Tg(t){return dy.Ys(t,Fg.store)}function Ig(t){return dy.Ys(t,qg.store)}function xg(t){return dy.Ys(t,Ug.store)}var Sg=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return kg(t).put(Pg(e),n)},t.prototype.Hn=function(t,e){var n=kg(t),r=Pg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return kg(t).get(Pg(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return kg(t).get(Pg(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:Dg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Fh();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=Fh(),i=new Dh(bh.$);return this.zr(t,e,function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Dg(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return Ap.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return kg(t)._i({range:r},function(t,e,r){for(var s=bh.ct(t);o&&bh.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=zh(),o=e.path.length+1,s={};if(n.isEqual(fh.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=pg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Hg.collectionReadTimeIndex}return kg(t)._i(s,function(t,n,s){if(t.length===o){var a=fg(r.serializer,n);e.path.j(a.key.path)?a instanceof Gd&&cp(e,a)&&(i=i.Tt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new jg(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ag(t).get(Wg.key).next(function(t){return Yl(!!t),t})},t.prototype.Wr=function(t,e){return Ag(t).put(Wg.key,e)},t.prototype.jr=function(t){if(t){var e=fg(this.serializer,t);return e instanceof $d&&e.version.isEqual(fh.min())?null:e}return null},t}(),jg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new jp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ns.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Mh(function(t,e){return uh(t.J(),e.J())});return this.Qn.forEach(function(o,s){var a=e.so.get(o);if(s.zn){var u=dg(e.no.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=Dg(u);r+=c-a,n.push(e.no.jn(t,o,u))}else if(r-=a,e.Zr){var l=dg(e.no.serializer,new $d(o,fh.min()),e.Wn(o));n.push(e.no.jn(t,o,l))}else n.push(e.no.Hn(t,o))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),Ap.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(kp);function Ag(t){return dy.Ys(t,Wg.store)}function kg(t){return dy.Ys(t,Hg.store)}function Pg(t){return t.path.H()}function Dg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Jl();e=t.noDocument}return JSON.stringify(e).length}var Rg=function(){function t(){this.io=new Ng}return t.prototype.Dr=function(t,e){return this.io.add(e),Ap.resolve()},t.prototype.As=function(t,e){return Ap.resolve(this.io.getEntries(e))},t}(),Ng=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Mh(ph.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mh(ph.$)).H()},t}(),Mg=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Yl(n<r&&n>=0&&r<=11);var o=new Wp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Vg.store)}(t),function(t){t.createObjectStore(Ug.store,{keyPath:Ug.keyPath}),t.createObjectStore(Fg.store,{keyPath:Fg.keyPath,autoIncrement:!0}).createIndex(Fg.userMutationsIndex,Fg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qg.store)}(t),Jg(t),function(t){t.createObjectStore(Hg.store)}(t));var s=Ap.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($g.store),t.deleteObjectStore(Gg.store),t.deleteObjectStore(Qg.store)}(t),Jg(t)),s=s.next(function(){return function(t){var e=t.store(Qg.store),n=new Qg(0,0,fh.min().M(),0);return e.put(Qg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Fg.store).ui().next(function(n){t.deleteObjectStore(Fg.store),t.createObjectStore(Fg.store,{keyPath:Fg.keyPath,autoIncrement:!0}).createIndex(Fg.userMutationsIndex,Fg.userMutationsKeyPath,{unique:!0});var r=e.store(Fg.store),i=n.map(function(t){return r.put(t)});return Ap.qn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Yg.store,{keyPath:Yg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Wg.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hg.store);e.createIndex(Hg.readTimeIndex,Hg.readTimeIndexPath,{unique:!1}),e.createIndex(Hg.collectionReadTimeIndex,Hg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Xg.store,{keyPath:Xg.keyPath})}(t),function(t){t.createObjectStore(Zg.store,{keyPath:Zg.keyPath})}(t)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Hg.store)._i(function(t,n){e+=Dg(n)}).next(function(){var n=new Wg(e);return t.store(Wg.store).put(Wg.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ug.store),r=t.store(Fg.store);return n.ui().next(function(n){return Ap.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Fg.userMutationsIndex,i).next(function(r){return Ap.forEach(r,function(r){Yl(r.userId===n.userId);var i=vg(e.serializer,r);return Cg(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store($g.store),n=t.store(Hg.store);return t.store(Qg.store).get(Qg.key).next(function(t){var r=[];return n._i(function(n,i){var o=new ph(n),s=function(t){return[0,ag(t)]}(o);r.push(e.get(s).next(function(n){return n?Ap.resolve():function(n){return e.put(new $g(0,ag(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ap.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Kg.store,{keyPath:Kg.keyPath});var n=e.store(Kg.store),r=new Ng,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:ag(i)})}};return e.store(Hg.store)._i({li:!0},function(t,e){var n=new ph(t);return i(n.q())}).next(function(){return e.store(qg.store)._i({li:!0},function(t,e){var n=lg(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gg.store);return n._i(function(t,r){var i=mg(r),o=_g(e.serializer,i);return n.put(o)})},t}(),Lg=function(t,e){this.seconds=t,this.nanoseconds=e},Vg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vg.store="owner",Vg.key="owner";var Ug=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ug.store="mutationQueues",Ug.keyPath="userId";var Fg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Fg.store="mutations",Fg.keyPath="batchId",Fg.userMutationsIndex="userMutationsIndex",Fg.userMutationsKeyPath=["userId","batchId"];var qg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ag(e)]},t.key=function(t,e,n){return[t,ag(e),n]},t}();qg.store="documentMutations",qg.PLACEHOLDER=new qg;var zg=function(t,e){this.path=t,this.readTime=e},Bg=function(t,e){this.path=t,this.version=e},Hg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Hg.store="remoteDocuments",Hg.readTimeIndex="readTimeIndex",Hg.readTimeIndexPath="readTime",Hg.collectionReadTimeIndex="collectionReadTimeIndex",Hg.collectionReadTimeIndexPath=["parentPath","readTime"];var Wg=function(t){this.byteSize=t};Wg.store="remoteDocumentGlobal",Wg.key="remoteDocumentGlobalKey";var Gg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gg.store="targets",Gg.keyPath="targetId",Gg.queryTargetsIndexName="queryTargetsIndex",Gg.queryTargetsKeyPath=["canonicalId","targetId"];var $g=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$g.store="targetDocuments",$g.keyPath=["targetId","path"],$g.documentTargetsIndex="documentTargetsIndex",$g.documentTargetsKeyPath=["path","targetId"];var Qg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qg.key="targetGlobalKey",Qg.store="targetGlobal";var Kg=function(t,e){this.collectionId=t,this.parent=e};function Jg(t){t.createObjectStore($g.store,{keyPath:$g.keyPath}).createIndex($g.documentTargetsIndex,$g.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gg.store,{keyPath:Gg.keyPath}).createIndex(Gg.queryTargetsIndexName,Gg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qg.store)}Kg.store="collectionParents",Kg.keyPath=["collectionId","parent"];var Yg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Yg.store="clientMetadata",Yg.keyPath="clientId";var Xg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xg.store="bundles",Xg.keyPath="bundleId";var Zg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zg.store="namedQueries",Zg.keyPath="name";var ty=Object(Ns.g)(Object(Ns.g)(Object(Ns.g)(Object(Ns.g)([Ug.store,Fg.store,qg.store,Hg.store,Gg.store,Vg.store,Qg.store,$g.store],[Yg.store]),[Wg.store]),[Kg.store]),[Xg.store,Zg.store]),ey=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return ny(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:bg(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return ny(t).put({bundleId:(n=e).id,createTime:yg(Uf(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return ry(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:wg(e.bundledQuery),readTime:bg(e.readTime)};var e})},t.prototype.uo=function(t,e){return ry(t).put(function(t){return{name:t.name,readTime:yg(Uf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ny(t){return dy.Ys(t,Xg.store)}function ry(t){return dy.Ys(t,Zg.store)}var iy=function(){function t(){this.ao=new Ng}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var o={collectionId:r,parent:ag(i)};return oy(t).put(o)}return Ap.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[lh(e),""],!1,!0);return oy(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(lg(o.parent))}return n})},t}();function oy(t){return dy.Ys(t,Kg.store)}var sy=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),ay=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new sy(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return fh.N(new hh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return uy(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return Yl(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return uy(t)._i(function(s,a){var u=mg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Vo(t,u)))}).next(function(){return Ap.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return uy(t)._i(function(t,n){var r=mg(n);e(r)})},t.prototype.wo=function(t){return cy(t).get(Qg.key).next(function(t){return Yl(null!==t),t})},t.prototype.Eo=function(t,e){return cy(t).put(Qg.key,e)},t.prototype.Ro=function(t,e){return uy(t).put(_g(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=Eh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uy(t)._i({range:r,index:Gg.queryTargetsIndexName},function(t,n,r){var o=mg(n);Ch(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],o=ly(t);return e.forEach(function(e){var s=ag(e.path);i.push(o.put(new $g(n,s))),i.push(r.Vr.Do(t,n,e))}),Ap.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=ly(t);return Ap.forEach(e,function(e){var o=ag(e.path);return Ap.qn([i.delete([n,o]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=ly(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ly(t),i=Wh();return r._i({range:n,li:!0},function(t,e,n){var r=lg(t[1]),o=new bh(r);i=i.add(o)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=ag(e.path),r=IDBKeyRange.bound([n],[lh(n)],!1,!0),i=0;return ly(t)._i({index:$g.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return uy(t).get(e).next(function(t){return t?mg(t):null})},t}();function uy(t){return dy.Ys(t,Gg.store)}function cy(t){return dy.Ys(t,Qg.store)}function ly(t){return dy.Ys(t,$g.store)}var hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Ns.c)(e,t),e}(Mp),dy=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new th(Zl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new yy(this,i),this.Ko=n+"main",this.serializer=new hg(u),this.Wo=new qp(this.Ko,11,new Mg(this.serializer)),this.jo=new ay(this.Vr,this.serializer),this.os=new iy,this.ss=function(t,e){return new Sg(t,e)}(this.serializer,this.os),this.Go=new ey(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&$l("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof fy)return qp.Ys(t.Lr,e);throw Jl()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new th(Zl.FAILED_PRECONDITION,hy);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new Up(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return gy(e).put(new Yg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(Hp(e))return Gl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return py(t).get(Vg.key).next(function(t){return Ap.resolve(e.oc(t))})},t.prototype.cc=function(t){return gy(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Ns.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Yg.store);return n.ui().next(function(t){var e=i.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Ap.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));o.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Ap.resolve(!0):py(t).get(Vg.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new th(Zl.FAILED_PRECONDITION,hy);return!1}}return!(!e.networkEnabled||!e.inForeground)||gy(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Gl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(Ns.b)(this,void 0,void 0,function(){var t=this;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Vg.store,Yg.store],function(e){var n=new fy(e,Up.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return gy(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Og.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Gl("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",ty,function(o){return r=new fy(o,i.ko?i.ko.next():Up.Ds),"readwrite-primary"===e?i.nc(r).next(function(t){return!!t||i.sc(r)}).next(function(e){if(!e)throw $l("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.Qo(!1)}),new th(Zl.FAILED_PRECONDITION,Np);return n(r)}).next(function(t){return i.rc(r).next(function(){return t})}):i.yc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.yc=function(t){var e=this;return py(t).get(Vg.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new th(Zl.FAILED_PRECONDITION,hy)})},t.prototype.rc=function(t){var e=new Vg(this.clientId,this.allowTabSynchronization,Date.now());return py(t).put(Vg.key,e)},t.Gs=function(){return qp.Gs()},t.prototype.ic=function(t){var e=this,n=py(t);return n.get(Vg.key).next(function(t){return e.oc(t)?(Gl("IndexedDbPersistence","Releasing primary lease."),n.delete(Vg.key)):Ap.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&($l("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Gl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return $l("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){$l("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function py(t){return dy.Ys(t,Vg.store)}function gy(t){return dy.Ys(t,Yg.store)}var yy=function(){function t(t,e){this.db=t,this.cr=new sg(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return by(t,n)},t.prototype.No=function(t,e,n){return by(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return by(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return xg(t).fi(function(r){return Eg(t,r,e).next(function(t){return t&&(n=!0),Ap.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,function(s,a){if(a<=e){var u=n.bc(t,s).next(function(e){if(!e)return o++,r.Jn(t,s).next(function(){return r.Hn(s),ly(t).delete([0,ag(s.path)])})});i.push(u)}}).next(function(){return Ap.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return by(t,e)},t.prototype.vc=function(t,e){var n,r=ly(t),i=Up.Ds;return r._i({index:$g.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Up.Ds&&e(new bh(lg(n)),i),i=s,n=o):i=Up.Ds}).next(function(){i!==Up.Ds&&e(new bh(lg(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function by(t,e){return ly(t).put(function(t,e){return new $g(0,ag(t.path),e)}(e,t.Fo))}function vy(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var my=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new Dh(uh),this.Nc=new jp(function(t){return Eh(t)},Ch),this.xc=fh.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Lp(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}();function _y(t,e,n,r){return new my(t,e,n,r)}function wy(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:return n=Xl(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.Mr(t).next(function(s){return o=s,r=n.persistence.mc(e),i=new Lp(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],s=Wh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i._s(t,s).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return o=s.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}})})}function Oy(t,e){var n=Xl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ap.resolve();return o.forEach(function(t){s=s.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,s=n.Sn.get(t);Yl(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),s.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function Ey(t){var e=Xl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function Cy(t,e){var n=Xl(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var s=[];e.re.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.jo.Co(t,e.de,o).next(function(){return n.jo.So(t,e._e,o)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(o,c),function(t,e,n){return Yl(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&s.push(n.jo.yo(t,c))}}});var a=Uh();if(e.ce.forEach(function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))}),s.push(function(t,e,n,r,i){var o=Wh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var i=Uh();return n.forEach(function(n,o){var s=t.get(n),a=r;o instanceof $d&&o.version.isEqual(fh.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):Gl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),i})}(t,o,e.ce,r).next(function(t){a=t})),!r.isEqual(fh.min())){var u=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,r)});s.push(u)}return Ap.qn(s).next(function(){return o.apply(t)}).next(function(){return n.Oc.fs(t,a)})}).then(function(t){return n.Cc=i,t})}function Ty(t,e){var n=Xl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function Iy(t,e){var n=Xl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?Ap.resolve(r=i):n.jo.fo(t).next(function(i){return r=new jh(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function xy(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:r=Xl(t),i=r.Cc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Vr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Hp(s=a.sent()))throw s;return Gl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}})})}function Sy(t,e,n){var r=Xl(t),i=fh.min(),o=Wh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Xl(t),i=r.Nc.get(n);return void 0!==i?Ap.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,ip(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Dc.ws(t,e,n?i:fh.min(),n?o:Wh())}).next(function(t){return{documents:t,Bc:o}})})}function jy(t,e){var n=Xl(t),r=Xl(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function Ay(t){var e=Xl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Xl(t),i=Uh(),o=pg(n),s=kg(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:Hg.readTimeIndex,range:a},function(t,e){var n=fg(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{qc:i,readTime:gg(o)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc;return e.xc=t.readTime,n})}function ky(t){return Object(Ns.b)(this,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){return[2,(e=Xl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=kg(t),n=fh.min();return e._i({index:Hg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=gg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function Py(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){if(t.code!==Zl.FAILED_PRECONDITION||t.message!==Np)throw t;return Gl("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Dy=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Fp(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Zl.RESOURCE_EXHAUSTED?($l(e.toString()),$l("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Zl.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new th(Zl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Ns.b)(t,void 0,void 0,function(){return Object(Ns.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return Gl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(Gl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ry=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(Ns.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Jl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(Yl(void 0===e||"string"==typeof e),Ih.fromBase64String(e||"")):(Yl(void 0===e||e instanceof Uint8Array),Ih.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?Zl.UNKNOWN:Ph(t.code);return new th(e,t.message||"")}(s);n=new ef(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Bf(t,u.document.name),l=Uf(u.document.updateTime),h=new zd({mapValue:{fields:u.document.fields}}),f=new Gd(c,l,h,{});n=new Zh(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Bf(t,d.document),g=d.readTime?Uf(d.readTime):fh.min(),y=new $d(p,g);n=new Zh([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var b=e.documentRemove,v=Bf(t,b.document);n=new Zh([],b.removedTargetIds||[],v,null)}else{if(!("filter"in e))return Jl();var m=e.filter,_=new Ah(m.count||0);n=new tf(m.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return fh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fh.min():e.readTime?Uf(e.readTime):fh.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Gf(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Th(r)?{documents:Yf(t,r)}:{query:Xf(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Lf(t,e.resumeToken):e.ft.F(fh.min())>0&&(n.readTime=Mf(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jl()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Gf(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Dy),Ny=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s._u=!1,s}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(Yl(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Yl(void 0!==e),t.map(function(t){return function(t,e){var n=Uf(t.updateTime?t.updateTime:e);n.isEqual(fh.min())&&(n=Uf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Td(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Uf(t.commitTime);return this.listener.wu(n,e)}return Yl(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Gf(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Kf(e.serializer,t)})};this.Zc(n)},e}(Dy),My=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Ns.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new th(Zl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===Zl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===Zl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),Ly=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?($l(e),this.Vu=!1):Gl("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Vy=function(t,e,n,r,i){var o=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu(function(t){n.Ri(function(){return Object(Ns.b)(o,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return $y(this)?(Gl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ns.b)(this,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){switch(n.label){case 0:return(e=Xl(t)).Mu.add(4),[4,Fy(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,Uy(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new Ly(n,r)};function Uy(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:if(!$y(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Fy(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qy(t,e){var n=Xl(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Gy(n)?Wy(n):ub(n).zc()&&By(n,e))}function zy(t,e){var n=Xl(t),r=ub(n);n.Ou.delete(e),r.zc()&&Hy(n,e),0===n.Ou.size&&(r.zc()?r.Yc():$y(n)&&n.Bu.set("Unknown"))}function By(t,e){t.qu.De(e.targetId),ub(t).hu(e)}function Hy(t,e){t.qu.De(e),ub(t).lu(e)}function Wy(t){t.qu=new rf({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),ub(t).start(),t.Bu.pu()}function Gy(t){return $y(t)&&!ub(t).Gc()&&t.Ou.size>0}function $y(t){return 0===Xl(t).Mu.size}function Qy(t){t.qu=void 0}function Ky(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){return t.Ou.forEach(function(e,n){By(t,e)}),[2]})})}function Jy(t,e){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(n){return Qy(t),Gy(t)?(t.Bu.Su(e),Wy(t)):t.Bu.set("Unknown"),[2]})})}function Yy(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:if(t.Bu.set("Online"),!(e instanceof ef&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ou.has(o=i[r])?[4,t.xu.Uu(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ou.delete(o),t.qu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Gl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Xy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zh?t.qu.$e(e):e instanceof tf?t.qu.je(e):t.qu.qe(e),n.isEqual(fh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ey(t.Cu)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(Ih.lt,n.ft)),Hy(t,e);var r=new jh(n.target,e,1,n.sequenceNumber);By(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Gl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Xy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Xy(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r=this;return Object(Ns.d)(this,function(i){switch(i.label){case 0:if(!Hp(e))throw e;return t.Mu.add(1),[4,Fy(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return Ey(t.Cu)}),t.di.Mi(function(){return Object(Ns.b)(r,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return Gl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,Uy(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Zy(t,e){return e().catch(function(n){return Xy(t,n,e)})}function tb(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:e=Xl(t),n=cb(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return $y(t)&&t.Fu.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ty(e.Cu,r)];case 3:return null===(i=s.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=cb(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Xy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return eb(e)&&nb(e),[2]}})})}function eb(t){return $y(t)&&!cb(t).Gc()&&t.Fu.length>0}function nb(t){cb(t).start()}function rb(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){return cb(t).Tu(),[2]})})}function ib(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ns.d)(this,function(i){for(e=cb(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]})})}function ob(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=Sp.from(r,e,n),[4,Zy(t,function(){return t.xu.Ku(i)})];case 1:return o.sent(),[4,tb(t)];case 2:return o.sent(),[2]}})})}function sb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(n){switch(n.label){case 0:return e&&cb(t).fu?[4,function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return kh(r=e.code)&&r!==Zl.ABORTED?(n=t.Fu.shift(),cb(t).Jc(),[4,Zy(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,tb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return eb(t)&&nb(t),[2]}})})}function ab(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return n=Xl(t),e?(n.Mu.delete(2),[4,Uy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Fy(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ub(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Xl(t);return r.mu(),new Ry(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Ky.bind(null,t),nu:Jy.bind(null,t),au:Yy.bind(null,t)}),t.ku.push(function(n){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Gy(t)?Wy(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Qy(t),e.label=3;case 3:return[2]}})})})),t.ju}function cb(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Xl(t);return r.mu(),new Ny(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:rb.bind(null,t),nu:sb.bind(null,t),Eu:ib.bind(null,t),wu:ob.bind(null,t)}),t.ku.push(function(n){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,tb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Gl("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}var lb=function(){this.zu=void 0,this.listeners=[]},hb=function(){this.queries=new jp(function(t){return ap(t)},sp),this.onlineState="Unknown",this.Hu=new Set};function fb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ns.d)(this,function(c){switch(c.label){case 0:if(n=Xl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Ju(r)];case 2:return s.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=tg(a,"Initialization of query '"+up(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&yb(n),[2]}})})}function db(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ns.d)(this,function(a){return n=Xl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function pb(t,e){for(var n=Xl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(s)&&(r=!0);a.zu=s}}r&&yb(n)}function gb(t,e,n){var r=Xl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function yb(t){t.Hu.forEach(function(t){t.next()})}var bb=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jh(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Jh.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),vb=function(){function t(){this.ca=new Mh(mb.ua),this.aa=new Mh(mb.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new mb(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new mb(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new bh(new ph([])),r=new mb(n,t),i=new mb(n,t+1),o=[];return this.aa.Kt([r,i],function(t){e._a(t),o.push(t.key)}),o},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new bh(new ph([])),n=new mb(e,t),r=new mb(e,t+1),i=Wh();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new mb(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),mb=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return bh.$(t.key,e.key)||uh(t.Ta,e.Ta)},t.ha=function(t,e){return uh(t.Ta,e.Ta)||bh.$(t.key,e.key)},t}();function _b(t,e){return"firestore_clients_"+t+"_"+e}function wb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Ob(t,e){return"firestore_targets_"+t+"_"+e}var Eb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new th(i.error.code,i.error.message)),o?new t(e,n,i.state,s):($l("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new th(r.error.code,r.error.message)),i?new t(e,r.state,o):($l("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$h(),s=0;i&&s<r.activeTargetIds.length;++s)i=_h(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):($l("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ib=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):($l("SharedClientState","Failed to parse online state: "+e),null)},t}(),xb=function(){function t(){this.activeTargetIds=$h()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sb=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Dh(uh),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=_b(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new xb),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ns.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ns.d)(this,function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(_b(this.persistenceKey,r)))&&(o=Tb.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(s=this.storage.getItem(this.xa))&&(a=this.Ma(s))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",function(){return l.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Ob(this.persistenceKey,t));if(n){var r=Cb.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Ob(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Gl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Gl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void $l("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Ns.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ns.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(s=function(t){var e=Up.Ds;if(null!=t)try{var n=JSON.parse(t);Yl("number"==typeof n),e=n}catch(t){$l("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Up.Ds&&this.ps(s);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Eb(this.currentUser,t,e,n),i=wb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=wb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Ob(this.persistenceKey,t),i=new Cb(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Tb.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return Eb.Ia(new Bl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Cb.Ia(r,e)},t.prototype.Ma=function(t){return Ib.Ia(t)},t.prototype.uh=function(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Gl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.ga.dh(s,a).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=$h();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),jb=function(){function t(){this.wh=new xb,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new xb,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Ab=function(t){this.key=t},kb=function(t){this.key=t},Pb=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Wh(),this.ee=Wh(),this.Ah=lp(t),this.Rh=new Qh(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Kh,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,s=i,a=!1,u=Xd(this.query)&&i.size===this.query.limit?i.last():null,c=Zd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof Gd?e:null;h&&(h=cp(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Xd(this.query)||Zd(this.query))for(;s.size>this.query.limit;){var l=Xd(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:s,yh:r,ph:a,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jl()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var s=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==o.length||u?{snapshot:new Jh(this.query,t.Rh,i,o,t.ee,0===a,u,!1),Dh:s}:{Dh:s}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Kh,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Wh(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new kb(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new Ab(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Wh();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Jh.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Db=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Rb=function(t){this.key=t,this.Fh=!1},Nb=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new jp(function(t){return ap(t)},sp),this.qh=new Map,this.Uh=[],this.Qh=new Dh(bh.$),this.Kh=new Map,this.Wh=new vb,this.jh={},this.Gh=new Map,this.zh=sy._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Mb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:return n=hv(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,Iy(n.Cu,ip(e))];case 2:return o=a.sent(),s=n.kh.Wa(o.targetId),[4,Lb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Jh&&qy(n.Oh,o),a.label=4;case 4:return[2,r]}})})}function Lb(t,e,n,r){return Object(Ns.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ns.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Ns.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,Sy(t.Cu,e.query,!1).then(function(t){return e.view.gh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Jh,o),[2,(Jb(t,e.targetId,s.Dh),s.snapshot)]}})})}(t,e,n,r)},[4,Sy(t.Cu,e,!0)];case 1:return i=l.sent(),o=new Pb(e,i.Bc),s=o.gh(i.documents),a=Xh.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(s,t.Jh,a),Jb(t,n,u.Dh),c=new Db(e,n,o),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}})})}function Vb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return n=Xl(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!sp(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,xy(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),zy(n.Oh,r.targetId),Qb(n,r.targetId)}).catch(Py)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Qb(n,r.targetId),[4,xy(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ub(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:r=fv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Xl(t),i=hh.now(),o=e.reduce(function(t,e){return t.add(e.key)},Wh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=kd(c,n.get(c.key));null!=l&&s.push(new Nd(c.key,l,Hd(l.proto.mapValue),Id.exists(!0)))}return r.rs.Sr(t,i,s,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new Dh(uh)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Zb(r,i.Qn)];case 3:return a.sent(),[4,tb(r.Oh)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=tg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Fb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r;return Object(Ns.d)(this,function(i){switch(i.label){case 0:n=Xl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cy(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(Yl(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?Yl(r.Fh):t.de.size>0&&(Yl(r.Fh),r.Fh=!1))}),[4,Zb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Py(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function qb(t,e,n){var r=Xl(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Xl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)}),r&&yb(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function zb(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ns.d)(this,function(c){switch(c.label){case 0:return(r=Xl(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(s=(s=new Dh(bh.$)).Tt(o,new $d(o,fh.min())),a=Wh().add(o),u=new Yh(fh.min(),new Map,new Mh(uh),s,a),[4,Fb(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),Xb(r),[3,4];case 2:return[4,xy(r.Cu,e,!1).then(function(){return Qb(r,e,n)}).catch(Py)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Bb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:n=Xl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Oy(n.Cu,e)];case 2:return i=o.sent(),$b(n,r,null),Gb(n,r),n.kh.Qa(r,"acknowledged"),[4,Zb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Py(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hb(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:r=Xl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Xl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return Yl(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=o.sent(),$b(r,e,n),Gb(r,e),r.kh.Qa(e,"rejected",n),[4,Zb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Py(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Wb(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:$y((n=Xl(t)).Oh)||Gl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Xl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return o=a.sent(),s=tg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Gb(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function $b(t,e,n){var r=Xl(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Qb(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||Kb(t,e)})}function Kb(t,e){var n=t.Qh.get(e);null!==n&&(zy(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Xb(t))}function Jb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ab?(t.Wh.Do(o.key,e),Yb(t,o)):o instanceof kb?(Gl("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||Kb(t,o.key)):Jl()}}function Yb(t,e){var n=e.key;t.Qh.get(n)||(Gl("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Xb(t))}function Xb(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Rb(e)),t.Qh=t.Qh.Tt(e,n),qy(t.Oh,new jh(ip(Yd(e.path)),n,2,Up.Ds))}}function Zb(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:return r=Xl(t),i=[],o=[],s=[],r.Bh.W()?[3,3]:(r.Bh.forEach(function(t,a){s.push(r.Yh(a,e,n).then(function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Vp.Vs(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ns.d)(this,function(l){switch(l.label){case 0:n=Xl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ap.forEach(e,function(e){return Ap.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return Ap.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Hp(r=l.sent()))throw r;return Gl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}})})}(r.Cu,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function tv(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return(n=Xl(t)).currentUser.isEqual(e)?[3,3]:(Gl("SyncEngine","User change. New user:",e.h()),[4,wy(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new th(Zl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Zb(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ev(t,e){var n=Xl(t),r=n.Kh.get(e);if(r&&r.Fh)return Wh().add(r.key);var i=Wh(),o=n.qh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Bh.get(a[s]);i=i.Gt(u.view.Ph)}return i}function nv(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return[4,Sy((n=Xl(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&Jb(n,e.targetId,i.Dh),i)]}})})}function rv(t){return Object(Ns.b)(this,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){return[2,Ay((e=Xl(t)).Cu).then(function(t){return Zb(e,t)})]})})}function iv(t,e,n,r){return Object(Ns.b)(this,void 0,void 0,function(){var i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Xl(t),r=Xl(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):Ap.resolve(null)})})}((i=Xl(t)).Cu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,tb(i.Oh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($b(i,e,r||null),Gb(i,e),function(t,e){Xl(Xl(t).rs).Br(e)}(i.Cu,e)):Jl(),s.label=4;case 4:return[4,Zb(i,o)];case 5:return s.sent(),[3,7];case 6:Gl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ov(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ns.d)(this,function(c){switch(c.label){case 0:return hv(n=Xl(t)),fv(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,sv(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,ab(n.Oh,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)qy(n.Oh,s[o]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?a.push(e):u=u.then(function(){return Qb(n,e),xy(n.Cu,e,!0)}),zy(n.Oh,e)}),[4,u]);case 4:return c.sent(),[4,sv(n,a)];case 5:return c.sent(),function(t){var e=Xl(t);e.Kh.forEach(function(t,n){zy(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new Dh(bh.$)}(n),n.Hh=!1,[4,ab(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sv(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ns.d)(this,function(g){switch(g.label){case 0:n=Xl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.qh.get(a=s[o]))&&0!==c.length?[4,Iy(n.Cu,ip(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,nv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,jy(n.Cu,a)];case 8:return p=g.sent(),[4,Iy(n.Cu,p)];case 9:return u=g.sent(),[4,Lb(n,av(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function av(t){return Jd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uv(t){var e=Xl(t);return Xl(Xl(e.Cu).persistence).Ic()}function cv(t,e,n,r){return Object(Ns.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ns.d)(this,function(a){switch(a.label){case 0:return(i=Xl(t)).Hh?(Gl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ay(i.Cu)];case 3:return o=a.sent(),s=Yh.ae(e,"current"===n),[4,Zb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,xy(i.Cu,e,!0)];case 6:return a.sent(),Qb(i,e,r),[3,8];case 7:Jl(),a.label=8;case 8:return[2]}})})}function lv(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ns.d)(this,function(f){switch(f.label){case 0:if(!(r=hv(t)).Hh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.qh.has(s=o[i])?(Gl("SyncEngine","Adding an already active target "+s),[3,5]):[4,jy(r.Cu,s)]:[3,6];case 2:return a=f.sent(),[4,Iy(r.Cu,a)];case 3:return u=f.sent(),[4,Lb(r,av(a),u.targetId,!1)];case 4:f.sent(),qy(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return r.qh.has(t)?[4,xy(r.Cu,t,!1).then(function(){zy(r.Oh,t),Qb(r,t)}).catch(Py)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hv(t){var e=Xl(t);return e.Oh.xu.Qu=Fb.bind(null,e),e.Oh.xu.Xe=ev.bind(null,e),e.Oh.xu.Uu=zb.bind(null,e),e.Lh.au=pb.bind(null,e.Mh),e.Lh.Xh=gb.bind(null,e.Mh),e}function fv(t){var e=Xl(t);return e.Oh.xu.Ku=Bb.bind(null,e),e.Oh.xu.Wu=Hb.bind(null,e),e}var dv=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(fh.min())?this.tl(t,e):this.Zh._s(t,r).next(function(o){var s=i.el(e,o);return(Xd(e)||Zd(e))&&i.ph(e.limitType,s,r,n)?i.tl(t,e):(Wl()<=Ls.a.DEBUG&&Gl("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),up(e)),i.Zh.ws(t,e,n).next(function(t){return s.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new Mh(lp(t));return e.forEach(function(e,r){r instanceof Gd&&cp(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Wl()<=Ls.a.DEBUG&&Gl("IndexFreeQueryEngine","Using full collection scan to execute query:",up(e)),this.Zh.ws(t,e,fh.min())},t}(),pv=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Mh(mb.ua)}return t.prototype.br=function(t){return Ap.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new xp(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new mb(u.key,i)),this.os.Dr(t,u.key.path.q())}return Ap.resolve(o)},t.prototype.Cr=function(t,e){return Ap.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Ap.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return Ap.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Ap.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new mb(e,0),i=new mb(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);o.push(e)}),Ap.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Mh(uh);return e.forEach(function(t){var e=new mb(t,0),i=new mb(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),Ap.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;bh.ot(i)||(i=i.child(""));var o=new mb(new bh(i),0),s=new Mh(uh);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ta)),!0)},o),Ap.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;Yl(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Ap.forEach(e.mutations,function(i){var o=new mb(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new mb(e,0),r=this.sl.jt(n);return Ap.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return Ap.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),gv=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Dh(bh.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Ap.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Fh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Ap.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=zh(),i=new bh(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.value,u=a.zn,c=a.readTime;if(!e.path.j(s.key.path))break;c.F(n)<=0||u instanceof Gd&&cp(e,u)&&(r=r.Tt(u.key,u))}return Ap.resolve(r)},t.prototype.al=function(t,e){return Ap.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new yv(this)},t.prototype.eo=function(t){return Ap.resolve(this.size)},t}(),yv=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Ns.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),Ap.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(kp),bv=function(){function t(t){this.persistence=t,this.hl=new jp(function(t){return Eh(t)},Ch),this.lastRemoteSnapshotVersion=fh.min(),this.highestTargetId=0,this.ll=0,this._l=new vb,this.targetCount=0,this.fl=sy.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Ap.resolve()},t.prototype.To=function(t){return Ap.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Ap.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Ap.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Ap.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new sy(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Ap.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Ap.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Ap.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.po(t,a.targetId)),i++)}),Ap.qn(o).next(function(){return i})},t.prototype.vo=function(t){return Ap.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Ap.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Ap.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),Ap.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Ap.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Ap.resolve(n)},t.prototype.Qr=function(t,e){return Ap.resolve(this._l.Qr(e))},t}(),vv=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Ap.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Uf(n.createTime)}),Ap.resolve()},t.prototype.co=function(t,e){return Ap.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:wg(n.bundledQuery),readTime:Uf(n.readTime)}),Ap.resolve()},t}(),mv=function(){function t(t,e){var n=this;this.El={},this.ko=new Up(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new bv(this),this.os=new Rg,this.ss=function(t,e){return new gv(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new hg(e),this.Go=new vv(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new pv(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Gl("MemoryPersistence","Starting transaction:",t);var i=new _v(this.ko.next());return this.Vr.Il(),n(i).next(function(t){return r.Vr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Ap.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Ns.c)(e,t),e}(Mp),wv=function(){function t(t){this.persistence=t,this.Rl=new vb,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Jl()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Ap.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Ap.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Ap.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Ap.forEach(this.yl,function(r){var i=bh.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Ap.Un([function(){return Ap.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Ov=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Ev={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ns.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,o){var s=new Ul;s.listenOnce(Ml.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Nl.NO_ERROR:var e=s.getResponseJson();Gl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Nl.TIMEOUT:Gl("Connection",'RPC "'+t+'" timed out'),o(new th(Zl.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:var n=s.getStatus();if(Gl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Zl).indexOf(e)>=0?e:Zl.UNKNOWN}(r.status);o(new th(a,r.message))}else o(new th(Zl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new th(Zl.UNAVAILABLE,"Connection failed."));break;default:Jl()}}finally{Gl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Al,i=Du(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(Vs.l)()||Object(Vs.n)()||Object(Vs.j)()||Object(Vs.k)()||Object(Vs.o)()||Object(Vs.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Gl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Ov({pl:function(t){c?Gl("Connection","Not sending because WebChannel is closed:",t):(u||(Gl("Connection","Opening WebChannel transport."),a.open(),u=!0),Gl("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Vl.EventType.OPEN,function(){c||Gl("Connection","WebChannel transport opened.")}),h(a,Vl.EventType.CLOSE,function(){c||(c=!0,Gl("Connection","WebChannel transport closed"),l.Nl())}),h(a,Vl.EventType.ERROR,function(t){c||(c=!0,Ql("Connection","WebChannel transport errored:",t),l.Nl(new th(Zl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Vl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Yl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Gl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=xh[t];if(void 0!==e)return Ph(e)}(i),s=r.message;void 0===o&&(o=Zl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new th(o,s)),a.close()}else Gl("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Ll.STAT_EVENT,function(t){10===t.stat?Gl("Connection","Detected buffering proxy"):11===t.stat&&Gl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Gl("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then(function(t){return Gl("RestConnection","Received: ",t),t},function(e){throw Ql("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Ev[t]},t}()),Tv=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Gl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Gl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Iv=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),xv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return this.serializer=Dp(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return _y(this.persistence,new dv,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new mv(wv.gl,this.serializer)},t.prototype.jl=function(t){return new jb},t.prototype.terminate=function(){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),Sv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ns.c)(e,t),e.prototype.initialize=function(e){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ky(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,fv(this.Xl.ga)];case 4:return n.sent(),[4,tb(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return _y(this.persistence,new dv,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new og(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=vy(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?ig.er(this.cacheSizeBytes):ig.ir;return new dy(this.synchronizeTabs,e,t.clientId,n,t.di,Jp(),Yp(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new jb},e}(xv),jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ns.c)(e,t),e.prototype.initialize=function(e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Sb?(this.kh.ga={_h:iv.bind(null,n),fh:cv.bind(null,n),dh:lv.bind(null,n),Ic:uv.bind(null,n),lh:rv.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(Ns.b)(r,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,ov(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Jp();if(!Sb.Gs(e))throw new th(Zl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vy(t.Fl.t,t.Fl.persistenceKey);return new Sb(e,t.di,n,t.clientId,t.Yl)},e}(Sv),Av=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n=this;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return qb(n.ga,t,1)},this.Oh.xu.s_=tv.bind(null,this.ga),[4,ab(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new hb},t.prototype.Zl=function(t){var e=Dp(t.Fl.t),n=new Cv(t.Fl);return function(t,e,n){return new My(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return qb(s.ga,t,0)},o=Tv.Gs()?new Tv:new Iv,new Vy(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nb(t,e,n,r,i,o);return s&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Ns.b)(this,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){switch(n.label){case 0:return e=Xl(t),Gl("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Fy(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),kv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Pv=function(t){this.o_=t};function Dv(t,e,n){if(!n)throw new th(Zl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new th(Zl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Nv(t,e,n,r){if(!0===e&&!0===r)throw new th(Zl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Mv(t){if(!bh.ot(t))throw new th(Zl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Lv(t){if(bh.ot(t))throw new th(Zl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Vv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Jl()}function Uv(t,e){if(t instanceof Pv&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new th(Zl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vv(t);throw new th(Zl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fv(t,e){if(e<=0)throw new th(Zl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var qv=function(t){this.c_=t},zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(qv);function Bv(t,e,n){return new Gm({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.u_=function(t){return new Cd(t.path,new gd)},e.prototype.isEqual=function(t){return t instanceof e},e}(qv),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ns.c)(e,t),e.prototype.u_=function(t){var e=Bv(this,t,!0),n=this.f_.map(function(t){return Xm(t,e)}),r=new yd(n);return new Cd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(qv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ns.c)(e,t),e.prototype.u_=function(t){var e=Bv(this,t,!0),n=this.f_.map(function(t){return Xm(t,e)}),r=new vd(n);return new Cd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(qv),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Ns.c)(e,t),e.prototype.u_=function(t){var e=new _d(t.serializer,Nf(t.serializer,this.d_));return new Cd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(qv),Qv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new th(Zl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new th(Zl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return uh(this.w_,t.w_)||uh(this.E_,t.E_)},t}(),Kv=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(Ih.fromBase64String(e))}catch(e){throw new th(Zl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ih.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),Jv=new Map,Yv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new th(Zl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new th(Zl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Nv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xv=function(){function t(t,e){this.I_="(lite)",this.m_=new Yv({}),this.A_=!1,t instanceof zl?(this.R_=t,this.P_=new nh):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new th(Zl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(t.options.projectId)}(t),this.P_=new rh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new th(Zl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new th(Zl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Yv(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new nh;switch(t.type){case"gapi":var e=t.client;return Yl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new oh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new th(Zl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=Jv.get(t);e&&(Gl("ComponentProvider","Removing Datastore"),Jv.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Zv(){if("undefined"==typeof Uint8Array)throw new th(Zl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tm(){if("undefined"==typeof atob)throw new th(Zl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.fromBase64String=function(t){return tm(),new e(Kv.fromBase64String(t))},e.fromUint8Array=function(t){return Zv(),new e(Kv.fromUint8Array(t))},e.prototype.toBase64=function(){return tm(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Zv(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Pv),nm=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),pf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Of(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Ef(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Jl()}},t.prototype.L_=function(t,e){var n=this,r={};return uf(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new Qv(Of(t.latitude),Of(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=hf(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(ff(t));default:return null}},t.prototype.N_=function(t){var e=wf(t);return new hh(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=ph.Y(t);Yl(ld(n));var r=new zl(n.get(1),n.get(3)),i=new bh(n.B(5));return r.isEqual(e)||$l("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ns.c)(e,t),e.prototype.F_=function(t){return new em(new Kv(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return A_.q_(e,this.firestore,null)},e}(nm),im=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wm(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new om(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(sm("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(im);function sm(t,e){return"string"==typeof e?i_(t,e):e instanceof Pv?e.o_.G_:e.G_}var am=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new th(Zl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new yh(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),um=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Zp,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Ns.c)(e,t),e.prototype.D_=function(){return this.H_||x_(this),this.H_.terminate()},e}(Xv);function cm(t,e,n){var r=this,i=new Pp;return t.di.enqueue(function(){return Object(Ns.b)(r,void 0,void 0,function(){var r;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,l_(t,n)];case 1:return o.sent(),[4,h_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zl.FAILED_PRECONDITION||t.code===Zl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lm(t){if(t.y_||t.V_)throw new th(Zl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).U_=e,a.J_=e,a.metadata=o,a}return Object(Ns.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new fm(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(sm("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(im),fm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(hm),dm=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new R_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new fm(n.U_,n.Q_,r.key,r,new R_(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new th(Zl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){return{type:"added",doc:new fm(t.U_,t.Q_,e.doc.key,e.doc,new R_(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new fm(t.U_,t.Q_,e.doc.key,e.doc,new R_(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:pm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.Z_=e),this.X_},t}();function pm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jl()}}function gm(t,e){return t instanceof hm&&e instanceof hm?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof dm&&e instanceof dm&&t.U_===e.U_&&Fm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var ym=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ns.c)(e,t),e.prototype.F_=function(t){return new Kv(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new wm(this.firestore,null,e)},e}(nm);function bm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Uv(t.firestore,um),s=qm(o);return e instanceof Pv&&(e=e.o_),mm(o,("string"==typeof e||e instanceof am?Jm(s,"updateDoc",t.K_,e,n,r):Km(s,"updateDoc",t.K_,e)).ef(t.K_,Id.exists(!0)))}function vm(t){for(var e,n,r,i=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var a={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Rp(o[u])||(a=o[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(Rp(o[u])){var d=o[u];o[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof wm)l=Uv(t.firestore,um),h=Yd(t.K_.path),c={next:function(e){o[u]&&o[u](_m(l,t,e))},error:o[u+1],complete:o[u+2]};else{l=Uv(t.firestore,um),h=t.tf;var p=new ym(l);c={next:function(e){o[u]&&o[u](new dm(l,p,t,e))},error:o[u+1],complete:o[u+2]},Rm(t.tf)}var g=I_(l),y=new kv(c),b=new bb(h,y,f);return l.z_.Ri(function(){return Object(Ns.b)(i,void 0,void 0,function(){var t;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t=fb,[4,v_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}})})}),function(){y.r_(),l.z_.Ri(function(){return Object(Ns.b)(i,void 0,void 0,function(){var t;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t=db,[4,v_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}})})})}}function mm(t,e){return function(t,e){var n=this,r=new Pp;return t.di.Ri(function(){return Object(Ns.b)(n,void 0,void 0,function(){var n;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return n=Ub,[4,b_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(I_(t),e)}function _m(t,e,n){var r=n.docs.get(e.K_),i=new ym(t);return new hm(t,i,e.K_,r,new R_(n.hasPendingWrites,n.fromCache),e.j_)}var wm=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Nm(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Om=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),Em=function(){};function Cm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var Tm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Ns.c)(e,t),e.prototype.sf=function(t){var e=qm(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new th(Zl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Pm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(km(r,t,l[c]));a={arrayValue:{values:u}}}else a=km(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Pm(s,o),a=Ym(n,"where",s,"in"===o||"not-in"===o);var h=hp.create(i,o,a);return function(t,e){if(e.An()){var n=ep(t);if(null!==n&&!n.isEqual(e.field))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=tp(t);null!==r&&Dm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new th(Zl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Om(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Kd(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(Em),Im=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Ns.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new th(Zl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new th(Zl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cp(e,n);return function(t,e){if(null===tp(t)){var n=ep(t);null!==n&&Dm(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Om(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Kd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(Em),xm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Ns.c)(e,t),e.prototype.sf=function(t){return new Om(t.firestore,t.j_,op(t.tf,this.hf,this.lf))},e}(Em),Sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ns.c)(e,t),e.prototype.sf=function(t){var e=Am(t,this.type,this._f,this.ff);return new Om(t.firestore,t.j_,function(t,e){return new Kd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(Em),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ns.c)(e,t),e.prototype.sf=function(t){var e=Am(t,this.type,this._f,this.ff);return new Om(t.firestore,t.j_,function(t,e){return new Kd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(Em);function Am(t,e,n,r){if(n[0]instanceof Pv&&(n[0]=n[0].o_),n[0]instanceof im)return function(t,e,n,r,i){if(!r)throw new th(Zl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=rp(t);s<a.length;s++){var u=a[s];if(u.field.tt())o.push(Cf(e,r.key));else{var c=r.field(u.field);if(lf(c))throw new th(Zl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new th(Zl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new _p(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=qm(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new th(Zl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.tt()){if("string"!=typeof c)throw new th(Zl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!np(t)&&-1!==c.indexOf("/"))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ph.Y(c));if(!bh.ot(l))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new bh(l);a.push(Cf(e,h))}else{var f=Ym(n,r,c);a.push(f)}}return new _p(a,o)}(t.tf,t.firestore.R_,i,e,n,r)}function km(t,e,n){if(n instanceof Pv&&(n=n.o_),"string"==typeof n){if(""===n)throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!np(e)&&-1!==n.indexOf("/"))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ph.Y(n));if(!bh.ot(r))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cf(t,new bh(r))}if(n instanceof wm)return Cf(t,n.K_);throw new th(Zl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vv(n)+".")}function Pm(t,e){if(!Array.isArray(t)||0===t.length)throw new th(Zl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new th(Zl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Dm(t,e,n){if(!n.isEqual(e))throw new th(Zl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Rm(t){if(Zd(t)&&0===t.Tn.length)throw new th(Zl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yd(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new wm(this.firestore,null,new bh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Om);function Mm(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Dv("collection","path",e),t instanceof Xv){var i=ph.Y.apply(ph,Object(Ns.g)([e],n));return Lv(i),new Nm(t,null,i)}if(!(t instanceof wm||t instanceof Nm))throw new th(Zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=ph.Y.apply(ph,Object(Ns.g)([t.path],n)).child(ph.Y(e));return Lv(o),new Nm(t.firestore,null,o)}function Lm(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=ah.D()),Dv("doc","path",e),t instanceof Xv){var i=ph.Y.apply(ph,Object(Ns.g)([e],n));return Mv(i),new wm(t,null,new bh(i))}if(!(t instanceof wm||t instanceof Nm))throw new th(Zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(ph.Y.apply(ph,Object(Ns.g)([e],n)));return Mv(o),new wm(t.firestore,t instanceof Nm?t.j_:null,new bh(o))}var Vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ns.c)(e,t),e.prototype.F_=function(t){return new Kv(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new wm(this.firestore,null,e)},e}(nm);function Um(t,e){return(t instanceof wm||t instanceof Nm)&&(e instanceof wm||e instanceof Nm)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function Fm(t,e){return t instanceof Om&&e instanceof Om&&t.firestore===e.firestore&&sp(t.tf,e.tf)&&t.j_===e.j_}function qm(t){var e=t.S_(),n=Dp(t.R_);return new $m(t.R_,!!e.ignoreUndefinedProperties,n)}var zm=/^__.*__$/,Bm=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Nd(t,this.data,this.en,e):new Rd(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ld(t,this.fieldTransforms)),n},t}(),Hm=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Nd(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Ld(t,this.fieldTransforms)),n},t}();function Wm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jl()}}var Gm=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return o_(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Wm(this.a_)&&zm.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),$m=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Dp(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Gm({a_:t,methodName:e,l_:n,path:yh.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Qm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);e_("Data must be an object, but it was:",s,r);var a,u,c=Zm(r,s);if(o.merge)a=new Ed(s.en),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=n_(e,f[h],n);if(!s.contains(d))throw new th(Zl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");s_(l,d)||l.push(d)}a=new Ed(l),u=s.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=s.fieldTransforms;return new Bm(new zd(c),a,u)}function Km(t,e,n,r){var i=t.Rf(1,e,n);e_("Data must be an object, but it was:",i,r);var o=[],s=new Bd;uf(r,function(t,r){var a=i_(e,t,n);r instanceof Pv&&(r=r.o_);var u=i.If(a);if(r instanceof zv)o.push(a);else{var c=Xm(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Ed(o);return new Hm(s.hn(),a,i.fieldTransforms)}function Jm(t,e,n,r,i,o){var s=t.Rf(1,e,n),a=[n_(e,r,n)],u=[i];if(o.length%2!=0)throw new th(Zl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(n_(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Bd,f=a.length-1;f>=0;--f)if(!s_(l,a[f])){var d=a[f],p=u[f];p instanceof Pv&&(p=p.o_);var g=s.If(d);if(p instanceof zv)l.push(d);else{var y=Xm(p,g);null!=y&&(l.push(d),h.set(d,y))}}var b=new Ed(l);return new Hm(h.hn(),b,s.fieldTransforms)}function Ym(t,e,n,r){return void 0===r&&(r=!1),Xm(n,t.Rf(r?4:3,e))}function Xm(t,e){if(t instanceof Pv&&(t=t.o_),t_(t))return e_("Unsupported field value:",e,t),Zm(t,e);if(t instanceof qv)return function(t,e){if(!Wm(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Xm(o[i],e.mf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Pv&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hh.fromDate(t);return{timestampValue:Mf(e.serializer,n)}}if(t instanceof hh){var r=new hh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mf(e.serializer,r)}}if(t instanceof Qv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kv)return{bytesValue:Lf(e.serializer,t.T_)};if(t instanceof wm){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ff(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Vv(t))}(t,e)}function Zm(t,e){var n={};return cf(t)?e.path&&e.path.length>0&&e.en.push(e.path):uf(t,function(t,r){var i=Xm(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function t_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hh||t instanceof Qv||t instanceof Kv||t instanceof wm||t instanceof qv)}function e_(t,e,n){if(!t_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Vv(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function n_(t,e,n){if(e instanceof Pv&&(e=e.o_),e instanceof am)return e.G_;if("string"==typeof e)return i_(t,e);throw o_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var r_=new RegExp("[~\\*/\\[\\]]");function i_(t,e,n){if(e.search(r_)>=0)throw o_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(am.bind.apply(am,Object(Ns.g)([void 0],e.split("."))))).G_}catch(r){throw o_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function o_(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new th(Zl.INVALID_ARGUMENT,(a+=". ")+t+u)}function s_(t,e){return t.some(function(t){return t.isEqual(e)})}var a_=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ns.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new th(Zl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ns.d)(this,function(u){switch(u.label){case 0:return n=Xl(t),r=Gf(n.serializer)+"/documents",i={documents:e.map(function(t){return zf(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Yl(!!e.found);var n=Bf(t,e.found.name),r=Uf(e.found.updateTime),i=new zd({mapValue:{fields:e.found.fields}});return new Gd(n,r,i,{})}(t,e):"missing"in e?function(t,e){Yl(!!e.missing),Yl(!!e.readTime);var n=Bf(t,e.missing),r=Uf(e.readTime);return new $d(n,r)}(t,e):Jl()}(n.serializer,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Yl(!!e),a.push(e)}),a)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof $d||t instanceof Gd?n.bf(t):Jl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Fd(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Ns.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ns.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=bh.st(n);e.mutations.push(new qd(r,e.rn(r)))}),[4,function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ns.d)(this,function(o){switch(o.label){case 0:return n=Xl(t),r=Gf(n.serializer)+"/documents",i={writes:e.map(function(t){return Kf(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof Gd)e=t.version;else{if(!(t instanceof $d))throw Jl();e=fh.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new th(Zl.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?Id.updateTime(e):Id.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(fh.min()))throw new th(Zl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Id.updateTime(e)}return Id.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),u_=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Fp(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(Ns.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ns.d)(this,function(r){return t=new a_(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!vh(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!kh(e)}return!1},t}(),c_=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Bl.UNAUTHENTICATED,this.clientId=ah.D(),this.Of=function(){},this.g=new Pp,this.credentials.A(function(t){Gl("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new th(Zl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Pp;return this.di.Ni(function(){return Object(Ns.b)(t,void 0,void 0,function(){var t,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function l_(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),Gl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(Ns.b)(r,void 0,void 0,function(){return Object(Ns.d)(this,function(t){switch(t.label){case 0:return[4,wy(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function h_(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,f_(t)];case 1:return n=i.sent(),Gl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(Ns.b)(this,void 0,void 0,function(){var n,r;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return(n=Xl(t)).di.Li(),Gl("RemoteStore","RemoteStore received new credentials"),r=$y(n),n.Mu.add(3),[4,Fy(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,Uy(n)];case 3:return i.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function f_(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Gl("FirestoreClient","Using default OfflineComponentProvider"),[4,l_(t,new xv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function d_(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(Gl("FirestoreClient","Using default OnlineComponentProvider"),[4,h_(t,new Av)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function p_(t){return f_(t).then(function(t){return t.persistence})}function g_(t){return f_(t).then(function(t){return t.Cu})}function y_(t){return d_(t).then(function(t){return t.Oh})}function b_(t){return d_(t).then(function(t){return t.ga})}function v_(t){return Object(Ns.b)(this,void 0,void 0,function(){var e,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return[4,d_(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Mb.bind(null,e.ga),n.Zu=Vb.bind(null,e.ga),n)]}})})}function m_(t,e,n,r,i){var o=new kv({next:function(o){e.Ri(function(){return db(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new th(Zl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new th(Zl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new bb(Yd(n.path),o,{includeMetadataChanges:!0,oa:!0});return fb(t,s)}function __(t,e,n,r,i){var o=new kv({next:function(n){e.Ri(function(){return db(t,s)}),n.fromCache&&"server"===r.source?i.reject(new th(Zl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new bb(n,o,{includeMetadataChanges:!0,oa:!0});return fb(t,s)}var w_=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=qm(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=O_(t,this.U_),i=z_(r.j_,e,n),o=Qm(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,Id.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,s=O_(t,this.U_);return e instanceof Pv&&(e=e.o_),o="string"==typeof e||e instanceof am?Jm(this.Qf,"WriteBatch.update",s.K_,e,n,r):Km(this.Qf,"WriteBatch.update",s.K_,e),this.qf=this.qf.concat(o.ef(s.K_,Id.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=O_(t,this.U_);return this.qf=this.qf.concat(new Fd(e.K_,Id.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new th(Zl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function O_(t,e){if(t instanceof Pv&&(t=t.o_),t.firestore!==e)throw new th(Zl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var E_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Ns.c)(e,t),e.prototype.get=function(e){var n=this,r=O_(e,this.U_),i=new ym(this.U_);return t.prototype.get.call(this,e).then(function(t){return new hm(n.U_,i,r.K_,t.W_,new R_(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=qm(t)}return t.prototype.get=function(t){var e=this,n=O_(t,this.U_),r=new Vm(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return Jl();var i=t[0];if(i instanceof $d)return new im(e.U_,r,n.K_,null,n.j_);if(i instanceof Gd)return new im(e.U_,r,i.key,i,n.j_);throw Jl()})},t.prototype.set=function(t,e,n){var r=O_(t,this.U_),i=z_(r.j_,e,n),o=Qm(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=O_(t,this.U_);return e instanceof Pv&&(e=e.o_),o="string"==typeof e||e instanceof am?Jm(this.Qf,"Transaction.update",s.K_,e,n,r):Km(this.Qf,"Transaction.update",s.K_,e),this.Wf.update(s.K_,o),this},t.prototype.delete=function(t){var e=O_(t,this.U_);return this.Wf.delete(e.K_),this},t}()),C_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lm(t);var n=I_(t),r=t.S_(),i=new Av;return cm(n,i,new Sv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lm(t);var e=I_(t),n=t.S_(),r=new Av;return cm(e,r,new jv(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new th(Zl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pp;return t.z_.Ni(function(){return Object(Ns.b)(e,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ns.b)(this,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return qp.Gs()?[4,qp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(vy(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),T_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof zl||(i.Gf=e),i}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ns.b)(e,void 0,void 0,function(){var e,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return[4,p_(t)];case 1:return e=r.sent(),[4,y_(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Xl(t);return e.Mu.delete(0),Uy(e)}(n))]}})})})}(I_(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ns.b)(e,void 0,void 0,function(){var e,n;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return[4,p_(t)];case 1:return e=r.sent(),[4,y_(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Ns.b)(this,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(n){switch(n.label){case 0:return(e=Xl(t)).Mu.add(0),[4,Fy(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(I_(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Nv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Pp;return t.di.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){var e;return Object(Ns.d)(this,function(r){switch(r.label){case 0:return e=Wb,[4,b_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(I_(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=I_(t),i=Rp(e)?e:{next:e},o=new kv(i);return t.z_.Ri(function(){return Object(Ns.b)(n,void 0,void 0,function(){var t;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Xl(t).Hu.add(e),e.next()},[4,v_(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})}),function(){o.r_(),t.z_.Ri(function(){return Object(Ns.b)(n,void 0,void 0,function(){var t;return Object(Ns.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Xl(t).Hu.delete(e)},[4,v_(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new th(Zl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new F_(this,Mm(this.o_,t))}catch(t){throw k_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new A_(this,Lm(this.o_,t))}catch(t){throw k_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new L_(this,function(t,e){if(Dv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new th(Zl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Om(t,null,function(t){return new Kd(ph.X(),t)}(e))}(this.o_,t))}catch(t){throw k_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Pp;return t.di.Ri(function(){return Object(Ns.b)(n,void 0,void 0,function(){var n;return Object(Ns.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return d_(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new u_(t.di,n,e,r).run(),[2]}})})}),r.promise}(I_(t),function(n){return e(new E_(t,n))})}(this.o_,function(n){return t(new S_(e,n))})},e.prototype.batch=function(){var t=this;return I_(this.o_),new j_(new w_(this.o_,function(e){return mm(t.o_,e)}))},e}(Pv);function I_(t){return t.H_||x_(t),t.H_.kf(),t.H_}function x_(t){var e=t.S_(),n=function(t,e,n){return new ql(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new c_(t.P_,t.z_,n)}var S_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ns.c)(e,t),e.prototype.get=function(t){var e=this,n=q_(t);return this.o_.get(n).then(function(t){return new N_(e.U_,t)})},e.prototype.set=function(t,e,n){var r=q_(t);return n?(Rv("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=q_(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Ns.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=q_(t);return this.o_.delete(e),this},e}(Pv),j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.set=function(t,e,n){var r=q_(t);return n?(Rv("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=q_(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Ns.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=q_(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Pv),A_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new rm(e),r}return Object(Ns.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new th(Zl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new wm(n.o_,r,new bh(t)))},e.q_=function(t,n,r){return new e(n,new wm(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new F_(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new F_(this.firestore,Mm(this.o_,t))}catch(t){throw k_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Pv&&(t=t.o_),t instanceof wm&&Um(this.o_,t)},e.prototype.set=function(t,e){e=Rv("DocumentReference.set",e);try{return function(t,e,n){var r=Uv(t.firestore,um),i=z_(t.j_,e,n);return mm(r,Qm(qm(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,Id.on()))}(this.o_,t,e)}catch(t){throw k_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?bm(this.o_,t):bm.apply(void 0,Object(Ns.g)([this.o_,t,e],n))}catch(t){throw k_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return mm(Uv((t=this.o_).firestore,um),[new Fd(t.K_,Id.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=D_(e,function(e){return new N_(t.firestore,new hm(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return vm(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new ym(n),o=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,g_(r)];case 1:return[4,function(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ns.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Xl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=s.sent())instanceof Gd?n.resolve(r):r instanceof $d?n.resolve(null):n.reject(new th(Zl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=tg(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new hm(n,i,t.K_,e,new R_(e instanceof Gd&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,v_(r)];case 1:return[4,m_(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return _m(n,t,e)})}(this.o_):function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,v_(r)];case 1:return[4,m_(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return _m(n,t,e)})}(this.o_)).then(function(t){return new N_(e.firestore,new hm(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Pv);function k_(t,e,n){return t.message=t.message.replace(e,n),t}function P_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Rp(r))return r}return{}}function D_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Rp(t[0])?t[0]:Rp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var R_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),N_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new A_(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return gm(this.o_,t.o_)},e}(Pv),M_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(N_),L_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Ns.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Cm(this.o_,function(t,e,n){var r=e,i=sm("where",t);return new Tm(i,r,n)}(t,n,r)))}catch(t){throw k_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Cm(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=sm("orderBy",t);return new Im(r,n)}(t,n)))}catch(t){throw k_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Cm(this.o_,function(t){return Fv("limit",t),new xm("limit",t,"F")}(t)))}catch(t){throw k_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Cm(this.o_,function(t){return Fv("limitToLast",t),new xm("limitToLast",t,"L")}(t)))}catch(t){throw k_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw k_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw k_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw k_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cm(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw k_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Fm(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new ym(n),o=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,g_(r)];case 1:return[4,function(t,e,n){return Object(Ns.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ns.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Sy(t,e,!0)];case 1:return r=c.sent(),i=new Pb(e,r.Bc),o=i.gh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=tg(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new dm(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new ym(n),o=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,v_(r)];case 1:return[4,__(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new dm(n,i,t,e)})}(this.o_):function(t){var e=this,n=Uv(t.firestore,um),r=I_(n),i=new ym(n);Rm(t.tf);var o=new Pp;return n.z_.Ri(function(){return Object(Ns.b)(e,void 0,void 0,function(){return Object(Ns.d)(this,function(e){switch(e.label){case 0:return[4,v_(r)];case 1:return[4,__(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new dm(n,i,t,e)})}(this.o_)).then(function(t){return new U_(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=D_(e,function(e){return new U_(t.firestore,e)});return vm(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Pv),V_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new M_(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Pv),U_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new L_(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new M_(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new V_(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new M_(n.U_,r))})},e.prototype.isEqual=function(t){return gm(this.o_,t.o_)},e}(Pv),F_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Ns.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new A_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new A_(this.firestore,void 0===t?Lm(this.o_):Lm(this.o_,t))}catch(t){throw k_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Uv(t.firestore,um),r=Lm(t),i=z_(t.j_,e);return mm(n,Qm(qm(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,Id.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new A_(e.firestore,t)})},e.prototype.isEqual=function(t){return Um(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(L_);function q_(t){return t instanceof Pv&&(t=t.o_),Uv(t,wm)}function z_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var B_,H_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(am.bind.apply(am,Object(Ns.g)([void 0],e))))||this}return Object(Ns.c)(e,t),e.documentId=function(){return new e(yh.et().J())},e.prototype.isEqual=function(t){return t instanceof Pv&&(t=t.o_),t instanceof am&&this.o_.G_.isEqual(t.G_)},e}(Pv),W_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ns.c)(e,t),e.serverTimestamp=function(){var t=new Hv("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new zv("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wv("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new $v("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Pv),G_={Firestore:T_,GeoPoint:Qv,Timestamp:hh,Blob:em,Transaction:S_,WriteBatch:j_,DocumentReference:A_,DocumentSnapshot:N_,Query:L_,QueryDocumentSnapshot:M_,QuerySnapshot:U_,CollectionReference:F_,FieldPath:H_,FieldValue:W_,setLogLevel:function(t){Hl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function $_(t,e){return function(t,e=js.b){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Q_(t,e){return $_(t,e).pipe(Object(Tt.a)(t=>({payload:t,type:"query"})))}function K_(t,e){return Q_(t,e).pipe(Nn(void 0),As(),Object(Tt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function J_(t,e,n){return K_(t,n).pipe(Object(Mn.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Y_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(Ds.a)(),Object(Tt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Y_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function X_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Fl.a("firestore",function(t){return function(t,e){return new T_(t,new um(t,e),new C_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},G_)))})(B_=Ms.a),B_.registerVersion("@firebase/firestore","2.0.4");class Z_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=K_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Tt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Nn(void 0),As(),Object(vn.a)(([t,e])=>e.length>0||!t),Object(Tt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Mn.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=X_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Q_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new tw(this.ref.doc(t),this.afs)}}class tw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=sw(n,e);return new Z_(r,i,this.afs)}snapshotChanges(){return $_(this.ref,this.afs.schedulers.outsideAngular).pipe(Nn(void 0),As(),Object(Tt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Tt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(xt.a)(this.ref.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}}class ew{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?K_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(vn.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):K_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Mn.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=X_(t);return J_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Q_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(fs.b)(this.afs.schedulers.insideAngular))}}const nw=new r.q("angularfire2.enableFirestorePersistence"),rw=new r.q("angularfire2.firestore.persistenceSettings"),iw=new r.q("angularfire2.firestore.settings"),ow=new r.q("angularfire2.firestore.use-emulator");function sw(t,e=(t=>t)){return{query:e(t),ref:t}}let aw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new bs.d(o),this.keepUnstableUntilFirst=Object(bs.h)(this.schedulers);const c=Object(bs.g)(t,o,e);!Rs.a.auth&&u&&Object(bs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(bs.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!H(i)){const e=()=>{try{return Object(xt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(nn.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(nn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=sw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Z_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ew(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new tw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(bs.c),r.Qb(bs.b,8),r.Qb(nw,8),r.Qb(iw,8),r.Qb(r.B),r.Qb(r.z),r.Qb(rw,8),r.Qb(ow,8),r.Qb(vs,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(bs.c),Object(r.Qb)(bs.b,8),Object(r.Qb)(nw,8),Object(r.Qb)(iw,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(rw,8),Object(r.Qb)(ow,8),Object(r.Qb)(vs,8))},token:t,providedIn:"any"}),t})(),uw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:nw,useValue:!0},{provide:rw,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[aw]}),t})();const cw={name:"light",properties:{"--primary":"#112c52","--secondary":"white","--text":"black","--todo-hover":"#f6faff","--logout-hover":"#0d223f"}},lw={name:"dark",properties:{"--primary":"black","--secondary":"#252525","--text":"white","--todo-hover":"#292929","--logout-hover":"#100f0f"}};let hw=(()=>{class t{constructor(){}setLightTheme(){this.setActiveTheme(cw)}setDarkTheme(){this.setActiveTheme(lw)}setActiveTheme(t){this.active=t,Object.keys(this.active.properties).forEach(t=>{document.documentElement.style.setProperty(t,this.active.properties[t])})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fw(t,e){if(1&t){const t=r.Nb();r.Mb(0,"li",3),r.Tb("click",function(){return r.ac(t),r.Vb().logOut()}),r.fc(1,"Log Out"),r.Lb()}}function dw(t,e){if(1&t){const t=r.Nb();r.Mb(0,"button",4),r.Tb("click",function(){return r.ac(t),r.Vb().setLightTheme()}),r.fc(1,"Set light theme"),r.Lb()}}function pw(t,e){if(1&t){const t=r.Nb();r.Mb(0,"button",4),r.Tb("click",function(){return r.ac(t),r.Vb().setDarkTheme()}),r.fc(1,"Set dark theme"),r.Lb()}}let gw=(()=>{class t{constructor(t,e,n){this.authService=t,this.themeService=e,this.store=n,this.user$=this.authService.getUser()}ngOnInit(){this.setLightTheme()}setLightTheme(){this.theme="light",this.themeService.setLightTheme()}setDarkTheme(){this.theme="dark",this.themeService.setDarkTheme()}logOut(){this.store.dispatch(qo())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Is),r.Jb(hw),r.Jb(Mo.h))},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:14,vars:6,consts:[["class","logOut",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"click",4,"ngSwitchCase"],[1,"logOut",3,"click"],[3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"header"),r.Mb(1,"nav"),r.Mb(2,"ul"),r.Mb(3,"li"),r.Mb(4,"h1"),r.fc(5,"Todo app"),r.Lb(),r.Lb(),r.ec(6,fw,2,0,"li",0),r.Wb(7,"async"),r.Lb(),r.Lb(),r.Lb(),r.Mb(8,"main"),r.Kb(9,"router-outlet"),r.Lb(),r.Mb(10,"footer"),r.Mb(11,"div",1),r.ec(12,dw,2,0,"button",2),r.ec(13,pw,2,0,"button",2),r.Lb(),r.Lb()),2&t&&(r.zb(6),r.Yb("ngIf",r.Xb(7,4,e.user$)),r.zb(5),r.Yb("ngSwitch",e.theme),r.zb(1),r.Yb("ngSwitchCase","dark"),r.zb(1),r.Yb("ngSwitchCase","light"))},directives:[P,bo,M,L],pipes:[z],styles:["header[_ngcontent-%COMP%]{width:100%;height:70px;background-color:var(--primary);color:#fff}main[_ngcontent-%COMP%]{width:100%;padding:20px 0;height:calc(100vh - 190px);display:flex;justify-content:center;align-items:center;background-color:var(--secondary);color:var(--text);overflow-y:scroll}.logOut[_ngcontent-%COMP%]{cursor:pointer;height:100%;line-height:67px;padding:0 20px}.logOut[_ngcontent-%COMP%]:hover{background-color:var(--logout-hover)}footer[_ngcontent-%COMP%]{width:100%;height:80px;background-color:var(--primary)}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;line-height:80px;padding:0 20px;background-color:unset;border:none;color:#fff}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--logout-hover)}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:space-between;align-items:center;margin:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){align-self:flex-end}"]}),t})();var yw=n("WMd4");class bw{call(t,e){return e.subscribe(new vw(t))}}class vw extends mn.a{_next(t){}}class mw{call(t,e){return e.subscribe(new _w(t))}}class _w extends mn.a{constructor(t){super(t)}_next(t){this.destination.next(yw.a.createNext(t))}_error(t){const e=this.destination;e.next(yw.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(yw.a.createComplete()),t.complete()}}function ww(t,e,n,r){return i=>i.lift(new Ow(t,e,n,r))}class Ow{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new Ew(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ew extends mn.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new gn.a,n.set(e,i);const t=new Tw(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Tw(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Cw(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Cw extends mn.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Tw extends Et.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new zn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Iw(n)),e.add(r.subscribe(t)),e}}class Iw extends zn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var xw=n("zx2A");function Sw(t,e){return e?n=>n.pipe(Sw((n,r)=>Object(xt.a)(t(n,r)).pipe(Object(Tt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new jw(t))}class jw{constructor(t){this.project=t}call(t,e){return e.subscribe(new Aw(t,this.project))}}class Aw extends xw.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new xw.a(this),n=this.destination;n.add(e);const r=Object(xw.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class kw{call(t,e){return e.subscribe(new Pw(t))}}class Pw extends mn.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const Dw={dispatch:!0,useEffectsErrorHandler:!0},Rw="__@ngrx/effects_create__";function Nw(t,e){const n=t(),r=Object.assign(Object.assign({},Dw),e);return Object.defineProperty(n,Rw,{value:r}),n}function Mw(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty(Rw)).map(e=>Object.assign({propertyName:e},t[e][Rw]))}function Lw(t){return Object.getPrototypeOf(t)}const Vw="__@ngrx/effects__";function Uw(t){return Object(Mo.m)(Fw,Lw)(t)}function Fw(t){return function(t){return t.constructor.hasOwnProperty(Vw)}(t)?t.constructor[Vw]:[]}function qw(t,e,n=10){return t.pipe(Object(Ln.a)(r=>(e&&e.handleError(r),n<=1?t:qw(t,e,n-1))))}let zw=(()=>{class t extends Et.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Mo.f))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function Bw(...t){return Object(vn.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function Hw(t){return Ww(t,"ngrxOnInitEffects")}function Ww(t,e){return t&&e in t&&"function"==typeof t[e]}const Gw=new r.q("@ngrx/effects Internal Root Guard"),$w=(new r.q("ngrx/effects: Immediate Effects"),new r.q("ngrx/effects: User Provided Effects")),Qw=new r.q("ngrx/effects: Internal Root Effects"),Kw=new r.q("ngrx/effects: Root Effects"),Jw=new r.q("ngrx/effects: Internal Feature Effects"),Yw=new r.q("ngrx/effects: Feature Effects"),Xw=new r.q("ngrx/effects: Effects Error Handler");let Zw=(()=>{class t extends gn.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(ww(Lw),Object(Fn.a)(t=>t.pipe(ww(tO))),Object(Fn.a)(t=>{const e=t.pipe(Sw(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const r=function(t,e,n){const r=Lw(t).constructor.name,i=(o=t,[Uw,Mw].reduce((t,e)=>t.concat(e(o)),[])).map(({propertyName:i,dispatch:o,useEffectsErrorHandler:s})=>{const a="function"==typeof t[i]?t[i]():t[i],u=s?n(a,e):a;return!1===o?u.pipe(function(t){return t.lift(new bw)}):u.pipe(function(t){return t.lift(new mw)}).pipe(Object(Tt.a)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});var o;return Object(hs.a)(...i)}(t,e,n);return Ww(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r})(t);var e,n}),Object(Tt.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(vn.a)(t=>"N"===t.kind),function(t){return t.lift(new kw)}),n=t.pipe(Object(Dn.a)(1),Object(vn.a)(Hw),Object(Tt.a)(t=>t.ngrxOnInitEffects()));return Object(hs.a)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.m),r.Qb(Xw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function tO(t){return Ww(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let eO=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Zw),r.Qb(Mo.h))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const nO="@ngrx/effects/init";Object(Mo.n)(nO);let rO=(()=>{class t{constructor(t,e,n,r,i,o,s){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:nO})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(Zw),r.Qb(eO),r.Qb(Mo.h),r.Qb(Kw),r.Qb(Mo.k,8),r.Qb(Mo.i,8),r.Qb(Gw,8))}}),t})(),iO=(()=>{class t{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(rO),r.Qb(Yw),r.Qb(Mo.k,8),r.Qb(Mo.i,8))}}),t})(),oO=(()=>{class t{static forFeature(t=[]){return{ngModule:iO,providers:[t,{provide:Jw,multi:!0,useValue:t},{provide:$w,multi:!0,useValue:[]},{provide:Yw,multi:!0,useFactory:sO,deps:[r.r,Jw,$w]}]}}static forRoot(t=[]){return{ngModule:rO,providers:[{provide:Xw,useValue:qw},eO,Zw,zw,t,{provide:Qw,useValue:[t]},{provide:Gw,useFactory:aO,deps:[[eO,new r.A,new r.J],[Qw,new r.I]]},{provide:$w,multi:!0,useValue:[]},{provide:Kw,useFactory:sO,deps:[r.r,Qw,$w]}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();function sO(t,e,n){const r=[];for(let i of e)r.push(...i);for(let i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function aO(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let uO=(()=>{class t{constructor(t){this.firestore=t;const e=JSON.parse(localStorage.getItem("user"));this.firestoreCollection=this.firestore.collection(`users/${e}/todoList`),this.todoList$=this.firestoreCollection.snapshotChanges().pipe(Object(Tt.a)(t=>t.map(t=>{const e=t.payload.doc,n=e.id,r=e.data();return Object.assign(Object.assign({},r),{id:n})})))}getTodoList(){return this.todoList$}complete(t){return this.firestoreCollection.doc(t.id).set({completed:!t.completed},{merge:!0})}add(t){return this.firestoreCollection.add(t)}delete(t){return this.firestoreCollection.doc(t.id).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(aw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cO=(()=>{class t{constructor(t,e){this.actions$=t,this.todoService=e,this.loadTodoList$=Nw(()=>this.actions$.pipe(Bw(Yo),Object(Fn.a)(()=>this.todoService.getTodoList().pipe(Object(Tt.a)(t=>Xo({payload:t})),Object(Ln.a)(()=>dn.a))))),this.addTodo$=Nw(()=>this.actions$.pipe(Bw(ts),Object(Fn.a)(t=>Object(xt.a)(this.todoService.add(t.payload)))),{dispatch:!1}),this.completeTodo$=Nw(()=>this.actions$.pipe(Bw(Zo),Object(Fn.a)(t=>Object(xt.a)(this.todoService.complete(t.payload)))),{dispatch:!1}),this.deleteTodo$=Nw(()=>this.actions$.pipe(Bw(es),Object(Fn.a)(t=>Object(xt.a)(this.todoService.delete(t.payload)))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(zw),r.Qb(uO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const lO=Object(Mo.o)([],Object(Mo.q)(Xo,(t,e)=>e.payload)),hO=(t,e)=>lO(t,e);var fO=n("agSv");const dO=Object(Mo.o)({uid:""},Object(Mo.q)(Fo,(t,e)=>Object.assign(Object.assign({},t),{uid:e.payload})),Object(Mo.q)(zo,()=>({}))),pO=(t,e)=>dO(t,e);let gO=(()=>{class t{constructor(t,e,n){this.actions$=t,this.authService=e,this.router=n,this.logIn$=Nw(()=>this.actions$.pipe(Bw(Vo),Object(Fn.a)(({payload:t})=>Object(xt.a)(this.authService.logIn(t.email,t.password)).pipe(Object(Tt.a)(({user:{uid:t}})=>Fo({payload:t})),Object(Ln.a)(()=>dn.a))))),this.signUp$=Nw(()=>this.actions$.pipe(Bw(Uo),Object(Fn.a)(()=>Object(xt.a)(this.authService.logOut()).pipe(Object(Tt.a)(({user:{uid:t}})=>Fo({payload:t})),Object(Ln.a)(()=>dn.a))))),this.logInSuccess$=Nw(()=>this.actions$.pipe(Bw(Fo),Object(Fn.a)(({payload:t})=>(localStorage.setItem("user",JSON.stringify(t)),this.router.navigateByUrl("todo")))),{dispatch:!1}),this.logOut$=Nw(()=>this.actions$.pipe(Bw(qo),Object(Fn.a)(()=>Object(xt.a)(this.authService.logOut()).pipe(Object(Tt.a)(()=>zo()),Object(Ln.a)(()=>dn.a))))),this.logOutSuccess$=Nw(()=>this.actions$.pipe(Bw(zo),Object(Fn.a)(()=>(localStorage.removeItem("user"),this.router.navigateByUrl("login")))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(zw),r.Qb(Is),r.Qb(yo))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),yO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[gw]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[Ot,Ss,en,bs.a.initializeApp(i),uw,Ts,Mo.j.forRoot({auth:pO,todoList:hO}),fO.a.instrument({maxAge:25}),oO.forRoot([cO,gO])]]}),t})();Object(r.T)(),_t().bootstrapModule(yO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("l7GE"),i=n("ZUHj");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let o=0;o<r;o++){let t=e[o];this.add(Object(i.a)(this,t,void 0,o))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);