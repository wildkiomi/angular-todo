(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return ea}),n.d(e,"c",function(){return Yu}),n.d(e,"d",function(){return Ku}),n.d(e,"e",function(){return Qu}),n.d(e,"f",function(){return Ba}),n.d(e,"g",function(){return Ra}),n.d(e,"h",function(){return eu}),n.d(e,"i",function(){return fa}),n.d(e,"j",function(){return xs}),n.d(e,"k",function(){return ia}),n.d(e,"l",function(){return Ps}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return ku}),n.d(e,"o",function(){return eo}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return on}),n.d(e,"r",function(){return mo}),n.d(e,"s",function(){return Qs}),n.d(e,"t",function(){return Ys}),n.d(e,"u",function(){return ra}),n.d(e,"v",function(){return fu}),n.d(e,"w",function(){return Va}),n.d(e,"x",function(){return hu}),n.d(e,"y",function(){return ja}),n.d(e,"z",function(){return ga}),n.d(e,"A",function(){return yn}),n.d(e,"B",function(){return ta}),n.d(e,"C",function(){return Zu}),n.d(e,"D",function(){return Rs}),n.d(e,"E",function(){return Ns}),n.d(e,"F",function(){return Tr}),n.d(e,"G",function(){return Vs}),n.d(e,"H",function(){return vr}),n.d(e,"I",function(){return mn}),n.d(e,"J",function(){return Ua}),n.d(e,"K",function(){return uu}),n.d(e,"L",function(){return Oa}),n.d(e,"M",function(){return un}),n.d(e,"N",function(){return Ms}),n.d(e,"O",function(){return Ls}),n.d(e,"P",function(){return pu}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Aa}),n.d(e,"S",function(){return $n}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Wn}),n.d(e,"V",function(){return za}),n.d(e,"W",function(){return Ia}),n.d(e,"X",function(){return na}),n.d(e,"Y",function(){return ro}),n.d(e,"Z",function(){return ps}),n.d(e,"ab",function(){return gr}),n.d(e,"bb",function(){return Jn}),n.d(e,"cb",function(){return Ln}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return Hn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return ls}),n.d(e,"jb",function(){return qa}),n.d(e,"kb",function(){return hs}),n.d(e,"lb",function(){return fs}),n.d(e,"mb",function(){return Mn}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return xo}),n.d(e,"pb",function(){return qo}),n.d(e,"qb",function(){return Fo}),n.d(e,"rb",function(){return cs}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return v}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return wo}),n.d(e,"wb",function(){return It}),n.d(e,"xb",function(){return Is}),n.d(e,"yb",function(){return ai}),n.d(e,"zb",function(){return ko}),n.d(e,"Ab",function(){return Yo}),n.d(e,"Bb",function(){return Bu}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return C}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return No}),n.d(e,"Jb",function(){return Mo}),n.d(e,"Kb",function(){return Lo}),n.d(e,"Lb",function(){return Vo}),n.d(e,"Mb",function(){return Uo}),n.d(e,"Nb",function(){return tn}),n.d(e,"Ob",function(){return os}),n.d(e,"Pb",function(){return Sn}),n.d(e,"Qb",function(){return en}),n.d(e,"Rb",function(){return $u}),n.d(e,"Sb",function(){return zo}),n.d(e,"Tb",function(){return Gu}),n.d(e,"Ub",function(){return Go}),n.d(e,"Vb",function(){return ju}),n.d(e,"Wb",function(){return Au}),n.d(e,"Xb",function(){return Ro}),n.d(e,"Yb",function(){return Hu}),n.d(e,"Zb",function(){return Qt}),n.d(e,"ac",function(){return mr}),n.d(e,"bc",function(){return ot}),n.d(e,"cc",function(){return Qo}),n.d(e,"dc",function(){return Po}),n.d(e,"ec",function(){return ns}),n.d(e,"fc",function(){return rs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return T(t,x)||T(t,A)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(k))?t[j]:null}const x=g({"\u0275prov":g}),j=g({"\u0275inj":g}),A=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function R(t){const e=N;return N=t,e}function D(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,H=U||z||F||q,B={},G=[],W=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),K=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),X=g({"\u0275fac":g}),J=g({__NG_ELEMENT_ID__:g});let Z=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function It(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),St}function St(){const t=jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new Ct(a&&a.currentValue,e,s===B),t[r]=e}function jt(t){return t.__ngSimpleChanges__||null}It.ngInherit=!0;let At=void 0;function kt(t){At=t}function Pt(t){return!!t.listen}const Nt={createRenderer:(t,e)=>void 0!==At?At:"undefined"!=typeof document?document:void 0};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Rt(e[t])}function Vt(t,e){return Rt(e[t.index])}function Lt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return Gt.bindingsEnabled}function $t(){return Gt.lFrame.lView}function Kt(){return Gt.lFrame.tView}function Qt(t){Gt.lFrame.contextLView=t}function Yt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Gt.lFrame.currentTNode}function Jt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Gt.lFrame.isParent}function te(){return Gt.isInCheckNoChangesMode}function ee(t){Gt.isInCheckNoChangesMode=t}function ne(){return Gt.lFrame.bindingIndex++}function re(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Gt.lFrame.currentDirectiveIndex=t}function oe(){return Gt.lFrame.currentQueryIndex}function se(t){Gt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Gt.lFrame.selectedIndex}function ye(t){Gt.lFrame.selectedIndex=t}function ve(){const t=Gt.lFrame;return Lt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function be(t,e,n){Oe(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ee(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ce=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];xe(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Se(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return t!==Ce}function Pe(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function De(t){const e=Re;return Re=t,e}let Ve=0;function Le(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Me(r.data,t),Me(e,null),Me(r.blueprint,null));const i=Fe(t,e),o=t.injectorIndex;if(ke(i)){const t=Pe(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Me(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Ve++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function ze(t,e,n){if(n&P.Optional)return t;Et(e,"NodeInjector")}function He(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{R(o)}}return ze(r,e,n)}function Be(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof o){if(!ae(e,t,r))return r&P.Host?ze(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;Et(n)}finally{de()}}else if("number"==typeof o){let i=null,s=Ue(t,e),u=Ce,a=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(u=-1===s?Fe(t,e):e[s+8],u!==Ce&&Xe(r,!1)?(i=e[1],s=Pe(u),e=Ne(u,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=$e(s,e,n,i,r,a);if(t!==Ge)return t}u=e[s+8],u!==Ce&&Xe(r,e[1].data[s+8]===a)&&Ye(o,s,e)?(i=t,s=Pe(u),e=Ne(u,e)):s=-1}}}return He(e,n,r,i)}const Ge={};function We(){return new Je(Yt(),$t())}function $e(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Ke(u,s,n,null==r?yt(u)&&Re:r!=s&&0!=(3&u.type),i&P.Host&&o===u);return null!==a?Qe(e,s,a,u):Ge}function Ke(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Qe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const u=De(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?R(s.injectImpl):null;ae(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&R(a),De(u),s.resolving=!1,de()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Xe(t,e){return!(t&P.Self||t&P.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Ze(t){const e=t;if(O(t))return()=>{const t=Ze(_(e));return t?t():null};let n=bt(e);if(null===n){const t=S(e);n=t&&t.factory}return n||null}function tn(t){return V(()=>{const e=t.prototype.constructor,n=e[X]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const nn="__parameters__";function rn(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const sn=new on("AnalyzeForEntryComponents"),un=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn=rn("Inject",t=>({token:t})),yn=rn("Optional"),vn=rn("Self"),mn=rn("SkipSelf"),bn={},wn=/\n/gm,_n="__source",On=g({provide:String,useValue:g});let En,Cn=void 0;function In(t){const e=Cn;return Cn=t,e}function Tn(t,e=P.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?D(t,void 0,e):Cn.get(t,e&P.Optional?null:void 0,e)}function Sn(t,e=P.Default){return(N||Tn)(_(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof yn||"Optional"===i.ngMetadataName||i===yn?n|=P.Optional:i instanceof mn||"SkipSelf"===i.ngMetadataName||i===mn?n|=P.SkipSelf:i instanceof vn||"Self"===i.ngMetadataName||i===vn?n|=P.Self:t=i instanceof gn||i===gn?i.token:i}e.push(Sn(t,n))}else e.push(Sn(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,H.trustedTypes))try{En=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class kn extends An{getTypeName(){return"HTML"}}class Pn extends An{getTypeName(){return"Style"}}class Nn extends An{getTypeName(){return"Script"}}class Rn extends An{getTypeName(){return"URL"}}class Dn extends An{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof An&&t.getTypeName()||null}function Un(t){return new kn(t)}function Fn(t){return new Pn(t)}function qn(t){return new Nn(t)}function zn(t){return new Rn(t)}function Hn(t){return new Dn(t)}let Bn=!0,Gn=!1;function Wn(){return Gn=!0,Bn}function $n(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");Bn=!1}class Kn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Yn)||t.match(Xn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Zn("area,br,col,hr,img,wbr"),nr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Zn("rp,rt"),ir=tr(rr,nr),or=tr(er,tr(nr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),sr=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=Zn("srcset"),ar=tr(sr,ur,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Zn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ar.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;sr[o]&&(s=Jn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Kn:new Qn(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);const s=new lr,u=s.sanitizeChildren(yr(n)||n);return Wn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),u}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":Ln(t,"URL")?Vn(t):Jn(_t(t))}function br(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function _r(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_r}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Er(t,e){t.__ngContext__=e}const Cr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ir(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Sr(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return kr(t[13])}function Ar(t){return kr(t[4])}function kr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Rt(r);0===t&&null!==n?null==i?Ur(e,n,u):Mr(e,n,u,i||null,!0):1===t&&null!==n?Mr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&Pr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Dr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=hn(t,ft+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Vr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Rt(e[i]),s=t[n[r+2]],u=n[r+3];"boolean"==typeof u?o.removeEventListener(n[r],s,u):u>=0?t[u]():t[-u].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Mr(t,e,n,r,i):Ur(t,e,n)}function qr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function zr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Vt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Fr(o,i,n[u],s,!1);else Fr(o,i,n,s,!1)}function Hr(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hr(t,n);{const n=t[e.index];return pt(n)?Br(-1,n):Rt(n)}}if(32&n)return Sr(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=xr(n),o=r.projection[e.projection];return null!=o?Hr(i,o):Hr(t,e.next)}}return null}function Br(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Hr(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&Er(Rt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Gr(t,e,n.child,r,i,o,!1),Pr(e,t,i,u,o);else if(32&a){const s=Sr(n,r);let a;for(;a=s();)Pr(e,t,i,a,o);Pr(e,t,i,u,o)}else 16&a?$r(t,e,r,n,i,o):Pr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function $r(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Pr(e,t,i,u[a],o);else Gr(t,e,u,s[3],i,o,!0)}function Kr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Xr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&t.value!==Xr}function ti(t,e,n){return e===(4!==t.type||n?t.value:Xr)}function ei(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!ti(t,a,n)||""===a&&1===e.length){if(ni(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ni(r))return!1;s=!0}continue}const l=ri(8&r?"class":a,i,Zr(t),n);if(-1===l){if(ni(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Yr(e,c,0)||2&r&&c!==t){if(ni(r))return!1;s=!0}}}}else{if(!s&&!ni(r)&&!ni(a))return!1;if(s&&ni(a))continue;s=!1,r=a|1&r}}return ni(r)||s}function ni(t){return 0==(1&t)}function ri(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ii(t,e,n=!1){for(let r=0;r<e.length;r++)if(ei(t,e[r],n))return!0;return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ni(s)||(e+=oi(o,i),i=""),r=s,o=o||!ni(r);n++}return""!==i&&(e+=oi(o,i)),e}const ui={};function ai(t){ci(Kt(),$t(),ge()+t,te())}function ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}ye(n)}function li(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function fi(t){return 2|t}function di(t){return(131068&t)>>2}function pi(t,e){return-131069&t|e<<2}function gi(t){return 1|t}function yi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];se(i),n.contentQueries(2,e[o],o)}}}function vi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=Zt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Jt(o,!0),o}function bi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wi(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Qi(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yi(t,e),t.staticViewQueries&&Qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function _i(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const o=te();try{Ht(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),_e(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Ar(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&_i(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&yi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];re(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Qi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{pe()}}function Oi(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&wi(t,e,r),_i(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=ge();try{ye(-1),2&r&&e.length>ht&&ci(t,e,ht,te()),n(r,i)}finally{ye(o)}}function Ci(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Le(n,e),Er(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Mi(e,n,r);const a=Qe(e,t,u,n);Er(a,e),null!==s&&Ui(0,u-i,a,r,0,s),o&&(Mt(n.index,e)[8]=a)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{ye(-1),ie(s)}}(t,e,n))}function Ii(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Si(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Si(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function xi(t,e,n,r){const i=Xi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,s,u){const a=Vt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),yt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(a,r,i):xe(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function ki(t,e,n,r){let i=!1;if(Wt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ii(n,s.selectors,!1)&&(i||(i=[]),qe(Le(n,e),t,s.type),mt(s)?(Ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Vi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=bi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Li(t,n,e,a,c),Di(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Zr(e)?null:Fi(n,i);o.push(c),s=ji(n,a,s),u=ji(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ie(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Pi(t,e,0,r,bi(t,n,i.hostVars,ui),i)}function Mi(t,e,n){const r=Vt(e,t),i=Ti(n),o=t[10],s=Gi(t,vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ui(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Fi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function qi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?_i(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=jr(t);null!==n;n=Ar(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];_i(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&Hi(r)}}function Bi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),wi(r,n,n[8])}function Gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Wi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{_i(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function Qi(t,e,n){se(0),e(t,n)}const Yi=(()=>Promise.resolve(null))();function Xi(t){return t[7]||(t[7]=[])}function Ji(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function to(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const eo=new on("INJECTOR",-1);class no{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new on("Set Injector scope."),io={},oo={},so=[];let uo=void 0;function ao(){return void 0===uo&&(uo=new no),uo}function co(t,e=null,n=null,r){return new lo(t,n,e||ao(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(eo,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=P.Default){this.assertNotDestroyed();const r=In(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&I(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?ao():this.parent).get(t,e=n&P.Optional&&e===bn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[_n]&&i.unshift(e[_n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{In(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const u=r.providers;if(null!=u&&!s){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=yo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(yo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=I(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=S(t);if(null!==r)return r.factory;if(t instanceof on)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r=void 0;if(yo(t)){const e=_(t);return bt(e)||ho(e)}if(go(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Sn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ho(e);r=()=>new e(...xn(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&On in t}function yo(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new no,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Sn(eo)}),t.__NG_ELEMENT_ID__=-1,t})();function bo(t,e){me(Ut(t)[1],Yt())}function wo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=_o(t.inputs),e.declaredInputs=_o(t.declaredInputs),e.outputs=_o(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Oo(t,o),s&&Eo(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===wo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function _o(t){return t===B?{}:t===G?[]:t}function Oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Io=null;function To(){if(!Io){const t=H.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class So{constructor(t){this.wrapped=t}static wrap(t){return new So(t)}static unwrap(t){return So.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof So}}function xo(t){return!!jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&To()in t)}function jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=$t();return Ao(i,ne(),e)&&(Kt(),function(t,e,n,r,i,o){const s=Vt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),ko}function Po(t,e,n,r,i,o,s,u){const a=$t(),c=Kt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=mi(e,t,4,s||null,zt(c,u));ki(e,n,l,zt(c,a)),me(e,l);const h=l.tViews=Si(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Jt(h,!1);const f=a[11].createComment("");zr(c,a,f,h),Er(f,a),Gi(a,a[l]=qi(f,a,f,h)),vt(h)&&Ci(c,a,h),null!=s&&Ii(a,h,u)}function No(t,e=P.Default){const n=$t();return null===n?Sn(t,e):Be(Yt(),n,_(t),e)}function Ro(t,e,n){const r=$t();return Ao(r,ne(),e)&&Ai(Kt(),ve(),r,t,e,r[11],n,!1),Ro}function Do(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Vo(t,e,n,r){const i=$t(),o=Kt(),s=ht+t,u=i[11],a=i[s]=Nr(u,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=mi(e,t,2,i,zt(u,o));return ki(e,n,a,zt(u,s)),null!==a.attrs&&to(a,a.attrs,!1),null!==a.mergedAttrs&&to(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Jt(c,!0);const l=c.mergedAttrs;null!==l&&Te(u,a,l);const h=c.classes;null!==h&&Qr(u,a,h);const f=c.styles;null!==f&&Kr(u,a,f),64!=(64&c.flags)&&zr(o,i,a,c),0===Gt.lFrame.elementDepthCount&&Er(a,i),Gt.lFrame.elementDepthCount++,vt(c)&&(Ci(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ii(i,c)}function Lo(){let t=Yt();Zt()?Gt.lFrame.isParent=!1:(t=t.parent,Jt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(me(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,$t(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Vo(t,e,n,r),Lo()}function Uo(){return $t()}function Fo(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}function zo(t,e,n=!1,r){const i=$t(),o=Kt(),s=Yt();return function(t,e,n,r,i,o,s=!1,u){const a=vt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Xi(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=u?u(f):B,p=d.target||f,g=l.length,y=u?t=>u(Rt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=Bo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),zo}function Ho(t,e,n){try{return!1!==e(n)}catch(r){return Ji(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Wi(s);let u=Ho(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Ho(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Go(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Wo=[];function $o(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?hi(o):di(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Ko(t[u],e)&&(a=!0,t[u+1]=r?gi(n):fi(n)),u=r?hi(n):di(n)}a&&(t[n+1]=r?fi(o):gi(o))}function Ko(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function Qo(t,e,n){return Xo(t,e,n,!1),Qo}function Yo(t,e){return Xo(t,e,null,!0),Yo}function Xo(t,e,n,r){const i=$t(),o=Kt(),s=function(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zo(n=Jo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Jo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==di(r))return t[hi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Jo(null,t,e,n[1],r),n=Zo(n,e.attrs,r),function(t,e,n,r){t[hi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zo(r,t[o].hostAttrs,n);return Zo(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=hi(s),a=di(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=hi(t[u+1]);t[r+1]=li(e,u),0!==e&&(t[e+1]=pi(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=li(u,0),0!==u&&(t[u+1]=pi(t[u+1],r)),u=r;else t[r+1]=li(a,0),0===u?u=r:t[a+1]=pi(t[a+1],r),a=r;l&&(t[r+1]=fi(t[r+1])),$o(t,c,r,!0),$o(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[r+1]=gi(n[r+1]))}(e,c,t,r,o),s=li(u,a),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ui&&Ao(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];es(1==(1&c)?ts(a,e,n,i,di(c),s):void 0)||(es(o)||function(t){return 2==(2&t)}(c)&&(o=ts(a,null,n,i,u,s)),function(t,e,n,r,i){const o=Pt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Tr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(ge(),n),i,o))}(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=v(Vn(t)))),t}(e,n),r,s)}function Jo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Zo(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ts(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===ui&&(l=c?Wo:void 0);let h=c?dn(l,r):a===r?l:void 0;if(o&&!es(h)&&(h=dn(e,r)),es(h)&&(u=h,s))return u;const f=t[i+1];i=s?hi(f):di(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=dn(t,r))}return u}function es(t){return void 0!==t}function ns(t,e=""){const n=$t(),r=Kt(),i=t+ht,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zr(r,n,s,o),Jt(o,!1)}function rs(t){return is("",t,""),rs}function is(t,e,n){const r=$t(),i=function(t,e,n,r){return Ao(t,ne(),n)?e+_t(n)+r:ui}(r,t,e,n);return i!==ui&&function(t,e,n){const r=Dt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),is}function os(t,e,n){const r=$t();return Ao(r,ne(),e)&&Ai(Kt(),ve(),r,t,e,r[11],n,!0),os}const ss=void 0;var us=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let as={};function cs(t,e,n){"string"!=typeof e&&(n=e,e=t[ps.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),as[e]=t,n&&(as[e][ps.ExtraData]=n)}function ls(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ds(e);if(n)return n;const r=e.split("-")[0];if(n=ds(r),n)return n;if("en"===r)return us;throw new Error(`Missing locale data for the locale "${t}".`)}function hs(t){return ls(t)[ps.CurrencyCode]||null}function fs(t){return ls(t)[ps.PluralCase]}function ds(t){return t in as||(as[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),as[t]}var ps=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const gs="en-US";let ys=gs;function vs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ys=t.toLowerCase().replace(/_/g,"-"))}function ms(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)ms(t[o],e,n,r,i);else{const o=Kt(),s=$t();let u=yo(t)?t:_(t.provide),a=fo(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(yo(t)||!t.multi){const r=new Ie(a,i,No),d=_s(u,e,i?l:l+f,h);-1===d?(qe(Le(c,s),o,u),bs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=_s(u,e,l+f,h),p=_s(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){qe(Le(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ie(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,ws(o,i,r&&!n),o}(i?Es:Os,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),bs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else bs(o,t,d>-1?d:p,ws(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function bs(t,e,n,r){const i=yo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ws(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _s(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Os(t,e,n,r){return Cs(this.multi,[])}function Es(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Cs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Cs(i,o);return o}function Cs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Is(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Kt();if(r.firstCreatePass){const i=mt(t);ms(n,r.data,r.blueprint,i,!0),ms(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ts{}class Ss{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let xs=(()=>{class t{}return t.NULL=new Ss,t})();function js(...t){}function As(t,e){return new Ps(Vt(t,e))}const ks=function(){return As(Yt(),$t())};let Ps=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ks,t})();class Ns{}let Rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ds(),t})();const Ds=function(){const t=$t(),e=Mt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Vs=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ls{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ms=new Ls("11.0.3");class Us{constructor(){}supports(t){return xo(t)}create(t){return new qs(t)}}const Fs=(t,e)=>e;class qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Gs(n,r,i)?e:n,s=Gs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[To()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new zs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Hs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ws{constructor(){}supports(t){return t instanceof Map||jo(t)}create(){return new $s}}class $s{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||jo(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ks(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ks{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Us])}),t})(),Ys=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Ws])}),t})();function Xs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Xs(e[1],e,n,r)}const s=n.type;if(8&s)Xs(t,e,n.child,r);else if(32&s){const t=Sr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=xr(t);Xs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Js{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Xs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vr(this._lView[1],this._lView)}onDestroy(t){xi(this._lView[1],this._lView,null,t)}markForCheck(){Wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{$i(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Zs extends Js{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){ee(!0);try{Ki(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const tu=nu;let eu=(()=>{class t{}return t.__NG_ELEMENT_ID__=tu,t.__ChangeDetectorRef__=!0,t})();function nu(t=!1){return function(t,e,n){if(!n&&yt(t)){const n=Mt(t.index,e);return new Js(n,n)}return 47&t.type?new Js(e[16],e):null}(Yt(),$t(),t)}const ru=[new Ws],iu=new Qs([new Us]),ou=new Ys(ru),su=function(){return lu(Yt(),$t())};let uu=(()=>{class t{}return t.__NG_ELEMENT_ID__=su,t})();const au=uu,cu=class extends au{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),wi(e,n,t),new Js(n)}};function lu(t,e){return 4&t.type?new cu(e,t,As(t,e)):null}class hu{}class fu{}const du=function(){return bu(Yt(),$t())};let pu=(()=>{class t{}return t.__NG_ELEMENT_ID__=du,t})();const gu=pu,yu=class extends gu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(ke(t)){const e=Ne(t,this._hostLView),n=Pe(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(hu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new yu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Br(i,o),u=n[11],a=qr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(this),ln(mu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);n&&(hn(mu(this._lContainer),e),Vr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);return n&&null!=hn(mu(this._lContainer),e)?new Js(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function vu(t){return t[8]}function mu(t){return t[8]||(t[8]=[])}function bu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Mr(n,qr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=qi(r,e,i,t),Gi(e,n)}return new yu(n,t,e)}const wu={};class _u extends xs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Cu(e,this.ngModule)}}function Ou(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Eu=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cr});class Cu extends Ts{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ou(this.componentDef.inputs)}get outputs(){return Ou(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,wu,i);return o!==wu||r===wu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ns,Nt),s=i.get(Vs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Cr,clean:Yi,playerHandler:null,flags:0},f=Si(0,null,null,1,0,null,null,null,null,null),d=vi(null,f,h,l,null,null,o,u,s,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=mi(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(to(u,a,!0),null!==t&&(Te(i,t,a),null!==u.classes&&Qr(i,t,u.classes),null!==u.styles&&Kr(i,t,u.styles)));const c=r.createRenderer(t,e),l=vi(n,Ti(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(qe(Le(u,n),s,e.type),Ri(s,u),Vi(u,n.length,1)),Gi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Te(u,c,["ng-version",Ms.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ni(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(u,c,t),e&&e.length>0&&Qr(u,c,e.join(" "))}if(g=Lt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,bi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);Er(i,e);const o=Vt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const u=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(u.index),Pi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Ni(e,s)),s}(t,this.componentDef,d,h,[bo]),wi(f,d,null)}finally{pe()}return new Iu(this.componentType,p,As(g,d),d,g)}}class Iu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Zs(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Tu=new Map;class Su extends hu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _u(this);const n=lt(t),r=t[Y]||null;r&&vs(r),this._bootstrapComponents=Ir(n.bootstrap),this._r3Injector=co(t,e,[{provide:hu,useValue:this},{provide:xs,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=P.Default){return t===mo||t===hu||t===eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xu extends fu{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,Tu.get(i),n),Tu.set(i,n));const o=Ir(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Su(this.moduleType,t)}}function ju(t,e){const n=Kt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=R(No);try{const t=De(!1),e=o();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,$t(),i,e),e}finally{R(s)}}function Au(t,e,n){const r=t+ht,i=$t(),o=function(t,e){return t[e]}(i,r);return function(t,e){return So.isWrapped(e)&&(e=So.unwrap(e),t[Gt.lFrame.bindingIndex]=ui),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ui?void 0:n}(t,s+1)}(i,function(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n))}const ku=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Pu(){return this._results[To()]()}class Nu{constructor(){this.dirty=!0,this._results=[],this.changes=new ku,this.length=0;const t=To(),e=Nu.prototype;e[t]||(e[t]=Pu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=an(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class Du{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Du(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Wu(t,e).matches&&this.queries[e].setDirty()}}class Vu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Lu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Lu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Mu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Mu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Uu(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===uu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ps||r===pu||r===uu&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Uu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?As(t,e):4&t.type?lu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ps?As(e,t):n===uu?lu(e,t):n===pu?bu(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function qu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Fu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function zu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=qu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&zu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];zu(n[1],n,i,r)}}}}}return r}function Hu(t){const e=$t(),n=Kt(),r=oe();se(r+1);const i=Wu(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?zu(n,e,r,[]):qu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Bu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Lu),t.queries.track(new Mu(e,n))}(t,new Vu(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new Nu;xi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Du),e[19].queries.push(new Ru(n))}(t,e)}(Kt(),$t(),e,n,r,0,Yt(),t)}function Gu(){return t=$t(),e=oe(),t[19].queries[e].queryList;var t,e}function Wu(t,e){return t.queries.getByIndex(e)}function $u(t=P.Default){const e=nu(!0);if(null!=e||t&P.Optional)return e;Et("ChangeDetectorRef")}const Ku=new on("Application Initializer");let Qu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=js,this.reject=js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ku,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Yu=new on("AppId"),Xu={provide:Yu,useFactory:function(){return`${Ju()}${Ju()}${Ju()}`},deps:[]};function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zu=new on("Platform Initializer"),ta=new on("Platform ID"),ea=new on("appBootstrapListener");let na=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ra=new on("LocaleId"),ia=new on("DefaultCurrencyCode");class oa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const sa=function(t){return new xu(t)},ua=sa,aa=function(t){return Promise.resolve(sa(t))},ca=function(t){const e=sa(t),n=Ir(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Cu(n)),t},[]);return new oa(e,n)},la=ca,ha=function(t){return Promise.resolve(ca(t))};let fa=(()=>{class t{constructor(){this.compileModuleSync=ua,this.compileModuleAsync=aa,this.compileModuleAndAllComponentsSync=la,this.compileModuleAndAllComponentsAsync=ha}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const da=(()=>Promise.resolve(0))();function pa(t){"undefined"==typeof Zone?da.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ga{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ma(t),va(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ma(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return ba(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),wa(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return ba(t),e.invoke(r,i,o,s,u)}finally{wa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ma(t),va(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ya,js,js);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ya={};function va(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ma(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ba(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wa(t){t._nesting--,va(t)}class _a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Oa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ga.assertNotInAngularZone(),pa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(ga))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Ea=(()=>{class t{constructor(){this._applications=new Map,Sa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Sa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ca{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ia(t){Sa=t}let Ta,Sa=new Ca;const xa=new on("AllowMultipleToken");class ja{constructor(t,e){this.name=t,this.token=e}}function Aa(t,e,n=[]){const r="Platform: "+e,i=new on(r);return(e=[])=>{let o=ka();if(!o||o.injector.get(xa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(Ta&&!Ta.destroyed&&!Ta.injector.get(xa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ta=t.get(Pa);const e=t.get(Zu,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=ka();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ka(){return Ta&&!Ta.destroyed?Ta:null}let Pa=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _a:("zone.js"===t?void 0:t)||new ga({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ga,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Or,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Da(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Qu);return t.runInitializers(),t.donePromise.then(()=>(vs(i.injector.get(ra,gs)||gs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Na({},e);return function(t,e,n){const r=new xu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ra);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(mo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Na(t,e){return Array.isArray(e)?e.reduce(Na,t):Object.assign(Object.assign({},t),e)}let Ra=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ga.assertNotInAngularZone(),pa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ts?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(hu),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Oa,null);return o&&i.injector.get(Ea).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Da(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ea,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Da(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(ga),Sn(na),Sn(mo),Sn(Or),Sn(xs),Sn(Qu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Da(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Va{}class La{}const Ma={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ua=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ma}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Fa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Fa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Sn(fa),Sn(La,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Fa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const qa=function(t){return null},za=Aa(null,"core",[{provide:ta,useValue:"unknown"},{provide:Pa,deps:[mo]},{provide:Ea,deps:[]},{provide:na,deps:[]}]),Ha=[{provide:Ra,useClass:Ra,deps:[ga,na,mo,Or,xs,Qu]},{provide:Eu,deps:[ga],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Qu,useClass:Qu,deps:[[new yn,Ku]]},{provide:fa,useClass:fa,deps:[]},Xu,{provide:Qs,useFactory:function(){return iu},deps:[]},{provide:Ys,useFactory:function(){return ou},deps:[]},{provide:ra,useFactory:function(t){return vs(t=t||"undefined"!=typeof $localize&&$localize.locale||gs),t},deps:[[new gn(ra),new yn,new mn]]},{provide:ia,useValue:"USD"}];let Ba=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(Sn(Ra))},providers:Ha}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.3");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Pb(a.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(y){a={error:y}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBSFH2oXA6fMYsY-lbM9-ghXNevFjIB5aA",authDomain:"angulartodo-336d3.firebaseapp.com",databaseURL:"https://angulartodo-336d3-default-rtdb.firebaseio.com",projectId:"angulartodo-336d3",storageBucket:"angulartodo-336d3.appspot.com",messagingSenderId:"351560926339",appId:"1:351560926339:web:cfa825b4928791e31747b6"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(a))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(v),Object(r.Pb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class S{}let x=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class D{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const L=new V,M=new D;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return L;if(Object(r.pb)(e))return M;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),F=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:x}]}),t})();function q(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new H(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}),t})();class H{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=B(this.window.history)||B(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function B(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class G extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new G,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$||($=document.querySelector("base"),$)?$.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let W,$=null;const K=new r.q("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[K,u,r.r],multi:!0}];class Y{static init(){Object(r.W)(new Y)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(X),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function ot(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J),r.Pb(et),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ot(n)):this.eventManager.addEventListener(t,e,ot(n))}}class at extends ut{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends ut{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends Z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gt=(()=>{class t extends Z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){G.makeCurrent(),Y.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],vt=Object(r.R)(r.V,"browser",yt),mt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:lt,multi:!0,deps:[u,r.z,r.B]},{provide:X,useClass:gt,multi:!0,deps:[u]},[],{provide:st,useClass:st,deps:[J,et,r.c]},{provide:r.E,useExisting:st},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:J,useClass:J,deps:[X,r.z]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:K,useExisting:r.c},Q]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:mt,imports:[F,r.f]}),t})();"undefined"!=typeof window&&window;var wt=n("HDdC"),_t=n("DH7j"),Ot=n("lJxs"),Et=n("XoHu"),Ct=n("Cfvw");function It(t,e){return new wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(Ct.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Tt=new r.q("NgValueAccessor"),St={provide:Tt,useExisting:Object(r.T)(()=>xt),multi:!0};let xt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([St])]}),t})();const jt={provide:Tt,useExisting:Object(r.T)(()=>kt),multi:!0},At=new r.q("CompositionEventMode");let kt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(At,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([jt])]}),t})();function Pt(t){return null==t||0===t.length}function Nt(t){return null!=t&&"number"==typeof t.length}const Rt=new r.q("NgValidators"),Dt=new r.q("NgAsyncValidators"),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lt{static min(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Pt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Pt(t.value)||Vt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Pt(e.value)||!Nt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Nt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Lt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Pt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Mt);return 0==e.length?null:function(t){return Ft(qt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Mt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return It(e,null);if(Object(Et.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return It(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return It(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(Ot.a)(t=>e(...t)))}return It(t,null)}(qt(t,e).map(Ut)).pipe(Object(Ot.a)(Ft))}}}function Mt(t){return null!=t}function Ut(t){const e=Object(r.qb)(t)?Object(Ct.a)(t):t;return Object(r.pb)(e),e}function Ft(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qt(t,e){return e.map(e=>e(t))}function zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ht(t){return null!=t?Lt.compose(zt(t)):null}function Bt(t){return null!=t?Lt.composeAsync(zt(t)):null}function Gt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wt(t){return t._rawValidators}function $t(t){return t._rawAsyncValidators}let Kt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Qt=(()=>{class t extends Kt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Yt(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Yt=r.Nb(Qt);class Xt extends Kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jt{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Zt=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Xt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),te=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Qt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const ee={provide:Tt,useExisting:Object(r.T)(()=>ne),multi:!0};let ne=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ee])]}),t})();const re={provide:Tt,useExisting:Object(r.T)(()=>oe),multi:!0};let ie=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),oe=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Xt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(ie),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([re])]}),t})();const se={provide:Tt,useExisting:Object(r.T)(()=>ue),multi:!0};let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([se])]}),t})();const ae={provide:Tt,useExisting:Object(r.T)(()=>le),multi:!0};function ce(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let le=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ce(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ae])]}),t})(),he=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ce(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(le,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const fe={provide:Tt,useExisting:Object(r.T)(()=>pe),multi:!0};function de(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let pe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([fe])]}),t})(),ge=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(de(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(de(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(pe,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function ye(t,e){me(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&we(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&we(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ve(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function me(t,e,n){const r=Wt(t);null!==e.validator?t.setValidators(Gt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=$t(t);if(null!==e.asyncValidator?t.setAsyncValidators(Gt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ve(e._rawValidators,n),ve(e._rawAsyncValidators,n)}}function be(t,e,n){if(null!==t){if(null!==e.validator){const n=Wt(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=$t(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};ve(e._rawValidators,t),ve(e._rawAsyncValidators,t)}}function we(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _e(t,e){me(t,e,!1)}function Oe(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Ee=[xt,ue,ne,le,pe,oe];function Ce(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===kt?n=t:(e=t,Ee.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function Ie(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Te(t,e,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const Se="VALID",xe="INVALID",je="PENDING",Ae="DISABLED";function ke(t){return(De(t)?t.validators:t)||null}function Pe(t){return Array.isArray(t)?Ht(t):t||null}function Ne(t,e){return(De(e)?e.asyncValidators:t)||null}function Re(t){return Array.isArray(t)?Bt(t):t||null}function De(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ve{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Pe(this._rawValidators),this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Se}get invalid(){return this.status===xe}get pending(){return this.status==je}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Pe(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Re(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=je,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Se,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Se&&this.status!==je||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:Se}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=je,this._hasOwnPendingAsyncValidator=!0;const e=Ut(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Me?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ue&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(je)?je:this._anyControlsHaveStatus(xe)?xe:Se}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){De(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Le extends Ve{constructor(t=null,e,n){super(ke(e),Ne(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ie(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ie(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Me extends Ve{constructor(t,e,n){super(ke(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Le?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ue extends Ve{constructor(t,e,n){super(ke(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Le?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const qe=new r.q("NgModelWithFormControlWarning"),ze={provide:Xt,useExisting:Object(r.T)(()=>He)};let He=(()=>{class t extends Xt{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=Ce(0,n)}set isDisabled(t){}ngOnChanges(e){this._isControlChanged(e)&&(ye(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Oe(e,this.viewModel)&&(Te(0,t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Rt,10),r.Ib(Dt,10),r.Ib(Tt,10),r.Ib(qe,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.xb([ze]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})();const Be={provide:Qt,useExisting:Object(r.T)(()=>Ge)};let Ge=(()=>{class t extends Qt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ye(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ie(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);_e(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);_e(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),be(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&ye(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){me(this.form,this,!1),this._oldForm&&be(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Rt,10),r.Ib(Dt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Be]),r.vb,r.wb]}),t})();const We={provide:Xt,useExisting:Object(r.T)(()=>$e)};let $e=(()=>{class t extends Xt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ce(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),Oe(e,this.viewModel)&&(Te(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Qt,13),r.Ib(Rt,10),r.Ib(Dt,10),r.Ib(Tt,10),r.Ib(qe,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([We]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})();const Ke={provide:Rt,useExisting:Object(r.T)(()=>Qe),multi:!0};let Qe=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Lt.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Ke])]}),t})(),Ye=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Xe=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Me(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Le(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ue(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Le||t instanceof Me||t instanceof Ue?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Je=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:qe,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Xe,ie],imports:[Ye]}),t})();var Ze=n("LRne"),tn=n("XNiG"),en=n("9ppp");class nn extends tn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new en.a;return this._value}next(t){super.next(this._value=t)}}var rn=n("z+Ro"),on=n("7o/Q");class sn extends on.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class un extends on.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var an=n("SeVD");function cn(t,e,n,r,i=new un(t,n,r)){if(!i.closed)return e instanceof wt.a?e.subscribe(i):Object(an.a)(e)(i)}var ln=n("yCtX");const hn={};class fn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new dn(t,this.resultSelector))}}class dn extends sn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(hn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(cn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===hn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const pn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var gn=n("EY2u");function yn(t){return new wt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ct.a)(n):Object(gn.b)()).subscribe(e)})}var vn=n("bHdf");function mn(){return Object(vn.a)(1)}function bn(t,e){return function(n){return n.lift(new wn(t,e))}}class wn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _n(t,this.predicate,this.thisArg))}}class _n extends on.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const On=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function En(t){return function(e){return 0===t?Object(gn.b)():e.lift(new Cn(t))}}class Cn{constructor(t){if(this.total=t,this.total<0)throw new On}call(t,e){return e.subscribe(new In(t,this.total))}}class In extends on.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Tn(t=jn){return e=>e.lift(new Sn(t))}class Sn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new xn(t,this.errorFactory))}}class xn extends on.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function jn(){return new pn}function An(t=null){return e=>e.lift(new kn(t))}class kn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Pn(t,this.defaultValue))}}class Pn extends on.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Nn=n("SpAZ"),Rn=n("zx2A");function Dn(t,e){return"function"==typeof e?n=>n.pipe(Dn((n,r)=>Object(Ct.a)(t(n,r)).pipe(Object(Ot.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Vn(t))}class Vn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ln(t,this.project))}}class Ln extends Rn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Rn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Rn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Mn(t){return e=>0===t?Object(gn.b)():e.lift(new Un(t))}class Un{constructor(t){if(this.total=t,this.total<0)throw new On}call(t,e){return e.subscribe(new Fn(t,this.total))}}class Fn extends on.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function qn(...t){return mn()(Object(Ze.a)(...t))}function zn(...t){const e=t[t.length-1];return Object(rn.a)(e)?(t.pop(),n=>qn(t,n,e)):e=>qn(t,e)}function Hn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Bn(t,e,n))}}class Bn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Gn(t,this.accumulator,this.seed,this.hasSeed))}}class Gn extends on.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Wn(t){return function(e){const n=new $n(t),r=e.lift(n);return n.caught=r}}class $n{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kn(t,this.selector,this.caught))}}class Kn extends Rn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Rn.a(this);this.add(r);const i=Object(Rn.c)(n,r);i!==r&&this.add(i)}}}var Qn=n("5+tZ");function Yn(t,e){return Object(Qn.a)(t,e,1)}function Xn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bn((e,n)=>t(e,n,r)):Nn.a,Mn(1),n?An(e):Tn(()=>new pn))}var Jn=n("vkgz"),Zn=n("quSY");class tr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new er(t,this.callback))}}class er extends on.a{constructor(t,e){super(t),this.add(new Zn.a(e))}}class nr{constructor(t,e){this.id=t,this.url=e}}class rr extends nr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ir extends nr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class or extends nr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sr extends nr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ur extends nr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends nr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends nr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lr extends nr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends nr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const br="primary";class wr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _r(t){return new wr(t)}function Or(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Er(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ir(t[i],e[i]))return!1;return!0}function Ir(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Tr(t){return Array.prototype.concat.apply([],t)}function Sr(t){return t.length>0?t[t.length-1]:null}function xr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Ct.a)(Promise.resolve(t)):Object(Ze.a)(t)}function Ar(t,e,n){return n?function(t,e){return Cr(t,e)}(t.queryParams,e.queryParams)&&kr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ir(t[n],e[n]))}(t.queryParams,e.queryParams)&&Pr(t.root,e.root)}function kr(t,e){if(!Lr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!kr(t.children[n],e.children[n]))return!1}return!0}function Pr(t,e){return Nr(t,e,e.segments)}function Nr(t,e,n){if(t.segments.length>n.length)return!!Lr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Lr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Pr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Lr(t.segments,r)&&!!t.children.primary&&Nr(t.children.primary,e,i)}}class Rr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return qr.serialize(this)}}class Dr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zr(this)}}class Vr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Qr(this)}}function Lr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Mr(t,e){let n=[];return xr(t.children,(t,r)=>{r===br&&(n=n.concat(e(t,r)))}),xr(t.children,(t,r)=>{r!==br&&(n=n.concat(e(t,r)))}),n}class Ur{}class Fr{parse(t){const e=new ti(t);return new Rr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Hr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gr(e)}=${Gr(t)}`).join("&"):`${Gr(e)}=${Gr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const qr=new Fr;function zr(t){return t.segments.map(t=>Qr(t)).join("/")}function Hr(t,e){if(!t.hasChildren())return zr(t);if(e){const e=t.children.primary?Hr(t.children.primary,!1):"",n=[];return xr(t.children,(t,e)=>{e!==br&&n.push(`${e}:${Hr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Mr(t,(e,n)=>n===br?[Hr(t.children.primary,!1)]:[`${n}:${Hr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${zr(t)}/${e[0]}`:`${zr(t)}/(${e.join("//")})`}}function Br(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gr(t){return Br(t).replace(/%3B/gi,";")}function Wr(t){return Br(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $r(t){return decodeURIComponent(t)}function Kr(t){return $r(t.replace(/\+/g,"%20"))}function Qr(t){return`${Wr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Wr(t)}=${Wr(e[t])}`).join("")}`;var e}const Yr=/^[^\/()?;=#]+/;function Xr(t){const e=t.match(Yr);return e?e[0]:""}const Jr=/^[^=?&#]+/,Zr=/^[^?&#]+/;class ti{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dr([],{}):new Dr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dr(t,e)),n}parseSegment(){const t=Xr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Vr($r(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Xr(this.remaining);t&&(n=t,this.capture(n))}t[$r(e)]=$r(n)}parseQueryParam(t){const e=function(t){const e=t.match(Jr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Zr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Kr(e),i=Kr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Xr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=br);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Dr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ei{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ni(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ni(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ri(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ri(t,this._root).map(t=>t.value)}}function ni(t,e){if(t===e.value)return e;for(const n of e.children){const e=ni(t,n);if(e)return e}return null}function ri(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ri(t,n);if(r.length)return r.unshift(e),r}return[]}class ii{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class si extends ei{constructor(t,e){super(t),this.snapshot=e,fi(this,t)}toString(){return this.snapshot.toString()}}function ui(t,e){const n=function(t,e){const n=new li([],{},{},"",{},br,e,null,t.root,-1,{});return new hi("",new ii(n,[]))}(t,e),r=new nn([new Vr("",{})]),i=new nn({}),o=new nn({}),s=new nn({}),u=new nn(""),a=new ai(r,i,s,u,o,br,e,n.root);return a.snapshot=n.root,new si(new ii(a,[]),n)}class ai{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ot.a)(t=>_r(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ot.a)(t=>_r(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ci(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class li{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hi extends ei{constructor(t,e){super(e),this.url=t,fi(this,e)}toString(){return di(this._root)}}function fi(t,e){e.value._routerState=t,e.children.forEach(e=>fi(t,e))}function di(t){const e=t.children.length>0?` { ${t.children.map(di).join(", ")} } `:"";return`${t.value}${e}`}function pi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gi(t,e){return Cr(t.params,e.params)&&function(t,e){return Lr(t,e)&&t.every((t,n)=>Cr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||gi(t.parent,e.parent))}function yi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return yi(t,e,r);return yi(t,e)})}(t,e,n);return new ii(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return vi(e,t),t}{const n=new ai(new nn((r=e.value).url),new nn(r.params),new nn(r.queryParams),new nn(r.fragment),new nn(r.data),r.outlet,r.component,r),i=e.children.map(e=>yi(t,e));return new ii(n,i)}}var r}function vi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)vi(t.children[n],e.children[n])}function mi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bi(t){return"object"==typeof t&&null!=t&&t.outlets}function wi(t,e,n,r,i){let o={};return r&&xr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Rr(n.root===t?e:_i(n.root,t,e),o,i)}function _i(t,e,n){const r={};return xr(t.children,(t,i)=>{r[i]=t===e?n:_i(t,e,n)}),new Dr(t.segments,r)}class Oi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&mi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(bi);if(r&&r!==Sr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ei{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ci(t,e,n){if(t||(t=new Dr([],{})),0===t.segments.length&&t.hasChildren())return Ii(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(bi(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!ji(u,a,e))return o;r+=2}else{if(!ji(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Dr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Dr(t.segments.slice(r.pathIndex),t.children),Ii(e,0,i)}return r.match&&0===i.length?new Dr(t.segments,{}):r.match&&!t.hasChildren()?Ti(t,e,n):r.match?Ii(t,0,i):Ti(t,e,n)}function Ii(t,e,n){if(0===n.length)return new Dr(t.segments,{});{const r=function(t){return bi(t[0])?t[0].outlets:{[br]:t}}(n),i={};return xr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ci(t.children[r],e,n))}),xr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Dr(t.segments,i)}}function Ti(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(bi(o)){const t=Si(o.outlets);return new Dr(r,t)}if(0===i&&mi(n[0])){r.push(new Vr(t.segments[e].path,n[0])),i++;continue}const s=bi(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&mi(u)?(r.push(new Vr(s,xi(u))),i+=2):(r.push(new Vr(s,{})),i++)}return new Dr(r,{})}function Si(t){const e={};return xr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ti(new Dr([],{}),0,t))}),e}function xi(t){const e={};return xr(t,(t,n)=>e[n]=""+t),e}function ji(t,e,n){return t==n.path&&Cr(e,n.parameters)}class Ai{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),pi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=oi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),xr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=oi(t),i=t.value.component?n.children:e;xr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=oi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new vr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new gr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(pi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ki(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ki(t){pi(t.value),t.children.forEach(ki)}class Pi{constructor(t,e){this.routes=t,this.module=e}}function Ni(t){return"function"==typeof t}function Ri(t){return t instanceof Rr}const Di=Symbol("INITIAL_VALUE");function Vi(){return Dn(t=>function(...t){let e=void 0,n=void 0;return Object(rn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(ln.a)(t,n).lift(new fn(e))}(...t.map(t=>t.pipe(Mn(1),zn(Di)))).pipe(Hn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Di)return t;if(r===Di&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ri(r))return r}return t},t)},Di),bn(t=>t!==Di),Object(Ot.a)(t=>Ri(t)?t:!0===t),Mn(1)))}let Li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[xo]},encapsulation:2}),t})();function Mi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ui(r,Fi(e,r))}}function Ui(t,e){t.children&&Mi(t.children,e)}function Fi(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function qi(t){const e=t.children&&t.children.map(qi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==br&&(n.component=Li),n}function zi(t){return t.outlet||br}class Hi{constructor(t){this.segmentGroup=t||null}}class Bi{constructor(t){this.urlTree=t}}function Gi(t){return new wt.a(e=>e.error(new Hi(t)))}function Wi(t){return new wt.a(e=>e.error(new Bi(t)))}function $i(t){return new wt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ki{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,br).pipe(Object(Ot.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wn(t=>{if(t instanceof Bi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Hi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,br).pipe(Object(Ot.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Wn(t=>{if(t instanceof Hi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Dr([],{[br]:t}):t;return new Rr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ot.a)(t=>new Dr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ze.a)({});const n=[],r=[],i={};return xr(t,(t,o)=>{const s=e(o,t).pipe(Object(Ot.a)(t=>i[o]=t));o===br?n.push(s):r.push(s)}),Ze.a.apply(null,n.concat(r)).pipe(mn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bn((e,n)=>t(e,n,r)):Nn.a,En(1),n?An(e):Tn(()=>new pn))}(),Object(Ot.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=zi(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const u=n=>Object(Ct.a)(n).pipe(Yn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Wn(t=>{if(t instanceof Hi)return Object(Ze.a)(null);throw t}))),Xn(t=>null!==t),Wn(t=>{if(t instanceof pn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ze.a)(new Dr([],{}));throw new Hi(e)}throw t})),a=Array.from(s.entries()).map(([t,e])=>{const n=u(e);return t===i?n:n.pipe(Object(Ot.a)(()=>null),Wn(()=>Object(Ze.a)(null)))});return Object(Ct.a)(a).pipe(t=>t.lift(new fn(void 0)),Xn(),Object(Ot.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return zi(r)!==o&&""!==r.path?Gi(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Gi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wi(i):this.lineralizeSegments(n,i).pipe(Object(Qn.a)(n=>{const i=new Dr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=Qi(e,r,i);if(!s)return Gi(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Wi(l):this.lineralizeSegments(r,l).pipe(Object(Qn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ot.a)(t=>(n._loadedConfig=t,new Dr(r,{})))):Object(Ze.a)(new Dr(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Qi(e,n,r);if(!i)return Gi(e);const u=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Qn.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Xi(t,e,n)&&zi(n)!==br)}(t,n,r)?{segmentGroup:Yi(new Dr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&zi(r)!==br&&(n[zi(r)]=new Dr([],{}));return n}(r,new Dr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Xi(t,e,n))}(t,n,r)?{segmentGroup:Yi(new Dr(t.segments,function(t,e,n,r){const i={};for(const o of n)Xi(t,e,o)&&!r[zi(o)]&&(i[zi(o)]=new Dr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,u,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ot.a)(t=>new Dr(o,t))):0===r.length&&0===s.length?Object(Ze.a)(new Dr(o,{})):this.expandSegment(n,i,r,s,br,!0).pipe(Object(Ot.a)(t=>new Dr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ze.a)(new Pi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ze.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Qn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ot.a)(t=>(e._loadedConfig=t,t))):function(t){return new wt.a(e=>e.error(Or(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ze.a)(new Pi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ni(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ni(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return jr(o)});return Object(Ze.a)(i).pipe(Vi(),Object(Jn.a)(t=>{if(!Ri(t))return;const e=Or(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ot.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ze.a)(n);if(r.numberOfChildren>1||!r.children.primary)return $i(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Rr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return xr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return xr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Dr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Qi(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Er)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yi(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Dr(t.segments.concat(e.segments),e.children)}return t}function Xi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Ji{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zi{constructor(t,e){this.component=t,this.route=e}}function to(t,e,n){const r=t._root;return no(r,e?e._root:null,n,[r.value])}function eo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function no(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=oi(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Lr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gi(t,e)||!Cr(t.queryParams,e.queryParams);case"paramsChange":default:return!gi(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Ji(r)):(o.data=s.data,o._resolvedData=s._resolvedData),no(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Zi(u.outlet.component,s))}else s&&ro(e,u,i),i.canActivateChecks.push(new Ji(r)),no(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),xr(o,(t,e)=>ro(t,n.getContext(e),i)),i}function ro(t,e,n){const r=oi(t),i=t.value;xr(r,(t,r)=>{ro(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Zi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function io(t,e){return null!==t&&e&&e(new yr(t)),Object(Ze.a)(!0)}function oo(t,e){return null!==t&&e&&e(new pr(t)),Object(Ze.a)(!0)}function so(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>yn(()=>{const i=eo(r,e,n);let o;if(function(t){return t&&Ni(t.canActivate)}(i))o=jr(i.canActivate(e,t));else{if(!Ni(i))throw new Error("Invalid CanActivate guard");o=jr(i(e,t))}return o.pipe(Xn())}));return Object(Ze.a)(i).pipe(Vi())}function uo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>yn(()=>{const i=e.guards.map(i=>{const o=eo(i,e.node,n);let s;if(function(t){return t&&Ni(t.canActivateChild)}(o))s=jr(o.canActivateChild(r,t));else{if(!Ni(o))throw new Error("Invalid CanActivateChild guard");s=jr(o(r,t))}return s.pipe(Xn())});return Object(Ze.a)(i).pipe(Vi())}));return Object(Ze.a)(i).pipe(Vi())}class ao{}class co{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=fo(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,br),n=new li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},br,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ii(n,e),i=new hi(this.url,r);return this.inheritParamsAndData(i._root),Object(Ze.a)(i)}catch(t){return new wt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ci(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Mr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===br?-1:e.value.outlet===br?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof ao))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ao}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ao;if((t.outlet||br)!==r)throw new ao;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Sr(n).parameters:{};i=new li(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(t),r,t.component,t,lo(e),ho(e)+n.length,yo(t))}else{const u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ao;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Er)(n,t,e);if(!r)throw new ao;const i={};xr(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new li(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(t),r,t.component,t,lo(e),ho(e)+o.length,yo(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=fo(e,o,s,u,this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return[new ii(i,t)]}if(0===u.length&&0===c.length)return[new ii(i,[])];const l=this.processSegment(u,a,c,br);return[new ii(i,l)]}}function lo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ho(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fo(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>po(t,e,n)&&zi(n)!==br)}(t,n,r)){const i=new Dr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&zi(o)!==br){const n=new Dr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[zi(o)]=n}return i}(t,e,r,new Dr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>po(t,e,n))}(t,n,r)){const o=new Dr(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(po(t,n,u)&&!i[zi(u)]){const n=new Dr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[zi(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Dr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function po(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function go(t){return t.data||{}}function yo(t){return t.resolve||{}}function vo(t){return function(e){return e.pipe(Dn(e=>{const n=t(e);return n?Object(Ct.a)(n).pipe(Object(Ot.a)(()=>e)):Object(Ct.a)([e])}))}}class mo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bo=new r.q("ROUTES");class wo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ot.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Pi(Tr(r.injector.get(bo)).map(qi),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Ct.a)(this.loader.load(t)):jr(t()).pipe(Object(Qn.a)(t=>t instanceof r.v?Object(Ze.a)(t):Object(Ct.a)(this.compiler.compileModuleAsync(t))))}}class _o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Oo,this.attachRef=null}}class Oo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _o,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Eo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Co(t){throw t}function Io(t,e,n){return e.parse("/")}function To(t,e){return Object(Ze.a)(null)}let So=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new tn.a,this.errorHandler=Co,this.malformedUriErrorHandler=Io,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:To,afterPreactivation:To},this.urlHandlingStrategy=new Eo,this.routeReuseStrategy=new mo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(a),this.currentUrlTree=new Rr(new Dr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wo(s,u,t=>this.triggerEvent(new fr(t)),t=>this.triggerEvent(new dr(t))),this.routerState=ui(this.currentUrlTree,this.rootComponentType),this.transitions=new nn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(bn(t=>0!==t.id),Object(Ot.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Dn(t=>{let n=!1,r=!1;return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ze.a)(t).pipe(Dn(t=>{const n=this.transitions.getValue();return e.next(new rr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?gn.a:[t]}),Dn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Dn(t=>function(t,e,n,r,i){return new Ki(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ot.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Jn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Qn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new co(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ot.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Jn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Jn.a)(t=>{const n=new ur(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new rr(n,this.serializeUrl(r),i,o);e.next(u);const a=ui(r,this.rootComponentType).snapshot;return Object(Ze.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gn.a}),vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Jn.a)(t=>{const e=new ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ot.a)(t=>Object.assign(Object.assign({},t),{guards:to(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Qn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ze.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ct.a)(t).pipe(Object(Qn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ze.a)(!0);const s=o.map(o=>{const s=eo(o,e,i);let u;if(function(t){return t&&Ni(t.canDeactivate)}(s))u=jr(s.canDeactivate(t,e,n,r));else{if(!Ni(s))throw new Error("Invalid CanDeactivate guard");u=jr(s(t,e,n,r))}return u.pipe(Xn())});return Object(Ze.a)(s).pipe(Vi())}(t.component,t.route,n,e,r)),Xn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Qn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ct.a)(e).pipe(Yn(e=>Object(Ct.a)([oo(e.route.parent,r),io(e.route,r),uo(t,e.path,n),so(t,e.route,n)]).pipe(mn(),Xn(t=>!0!==t,!0))),Xn(t=>!0!==t,!0))}(r,o,t,e):Object(Ze.a)(n)),Object(Ot.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Jn.a)(t=>{if(Ri(t.guardsResult)){const e=Or(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Jn.a)(t=>{const e=new cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),bn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new or(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vo(t=>{if(t.guards.canActivateChecks.length)return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{const e=new lr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Dn(t=>{let n=!1;return Object(Ze.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Qn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ze.a)(t);let o=0;return Object(Ct.a)(n).pipe(Yn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ze.a)({});const o={};return Object(Ct.a)(i).pipe(Object(Qn.a)(i=>function(t,e,n,r){const i=eo(t,e,r);return jr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Jn.a)(t=>{o[i]=t}))),En(1),Object(Qn.a)(()=>Object.keys(o).length===i.length?Object(Ze.a)(o):gn.a))}(t._resolve,t,e,r).pipe(Object(Ot.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ci(t,n).resolve),null)))}(t.route,e,r,i)),Object(Jn.a)(()=>o++),En(1),Object(Qn.a)(e=>o===n.length?Object(Ze.a)(t):gn.a))}))}),Object(Jn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new or(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Jn.a)(t=>{const e=new hr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ot.a)(t=>{const e=function(t,e,n){const r=yi(t,e._root,n?n._root:void 0);return new si(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Jn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Ot.a)(t=>(new Ai(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(Jn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new or(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new tr(i))),Wn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ri(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new or(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new sr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(hf){t.reject(hf)}}var i;return gn.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Mi(t),this.config=t.map(qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return wi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Oi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return xr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Oi(n,e,r)}(n);if(o.toRoot())return wi(e.root,new Dr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Ei(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ei(t,t===e.root,0)}const r=mi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ei(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Ii(s.segmentGroup,s.index,o.commands):Ci(s.segmentGroup,s.index,o.commands);return wi(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ri(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ri(t))return Ar(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ar(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Ur),r.Pb(Oo),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),xo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||br,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new jo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Oo),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class jo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ai?this.route:t===Oo?this.childContexts:this.parent.get(t,e)}}class Ao{}class ko{preload(t,e){return Object(Ze.a)(null)}}let Po=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new wo(e,n,e=>t.triggerEvent(new fr(e)),e=>t.triggerEvent(new dr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(bn(t=>t instanceof ir),Yn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ct.a)(n).pipe(Object(vn.a)(),Object(Ot.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Qn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(So),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Ao))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),No=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ir&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new mr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(So),r.Pb(z),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Ro=new r.q("ROUTER_CONFIGURATION"),Do=new r.q("ROUTER_FORROOT_GUARD"),Vo=[O,{provide:Ur,useClass:Fr},{provide:So,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new So(null,t,e,n,r,i,o,Tr(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Ur,Oo,O,r.r,r.w,r.i,bo,Ro,[class{},new r.A],[class{},new r.A]]},Oo,{provide:ai,useFactory:function(t){return t.routerState.root},deps:[So]},{provide:r.w,useClass:r.J},Po,ko,class{preload(t,e){return e().pipe(Wn(()=>Object(Ze.a)(null)))}},{provide:Ro,useValue:{enableTracing:!1}}];function Lo(){return new r.y("Router",So)}let Mo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Vo,zo(e),{provide:Do,useFactory:qo,deps:[[So,new r.A,new r.I]]},{provide:Ro,useValue:n||{}},{provide:v,useFactory:Fo,deps:[a,[new r.p(b),new r.A],Ro]},{provide:No,useFactory:Uo,deps:[So,z,Ro]},{provide:Ao,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ko},{provide:r.y,multi:!0,useFactory:Lo},[Ho,{provide:r.d,multi:!0,useFactory:Bo,deps:[Ho]},{provide:Wo,useFactory:Go,deps:[Ho]},{provide:r.b,multi:!0,useExisting:Wo}]]}}static forChild(e){return{ngModule:t,providers:[zo(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Do,8),r.Pb(So,8))}}),t})();function Uo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new No(t,e,n)}function Fo(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function qo(t){return"guarded"}function zo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:bo,multi:!0,useValue:t}]}let Ho=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new tn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(So),r=this.injector.get(Ro);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ze.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ro),n=this.injector.get(Po),i=this.injector.get(No),o=this.injector.get(So),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Bo(t){return t.appInitializer.bind(t)}function Go(t){return t.bootstrapListener.bind(t)}const Wo=new r.q("Router Initializer");var $o=n("VRyK"),Ko=n("pxpQ"),Qo=n("qgXg"),Yo=n("Ylt2");class Xo extends tn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Jo(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new en.a;if(this.isStopped||this.hasError?o=Zn.a.EMPTY:(this.observers.push(t),o=new Yo.a(this,t)),r&&t.add(t=new Ko.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Qo.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Jo{constructor(t,e){this.time=t,this.value=e}}function Zo(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new Xo(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function ts(t,e){return e?Dn(()=>t,e):Dn(()=>t)}var es=n("tf+s"),ns=n("spgP");const rs=new r.q("angularfire2.auth.use-emulator"),is=new r.q("angularfire2.auth.settings"),os=new r.q("angularfire2.auth.tenant-id"),ss=new r.q("angularfire2.auth.langugage-code"),us=new r.q("angularfire2.auth.use-device-language"),as=new r.q("angularfire.auth.persistence");let cs=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new ns.d(i),f=Object(ns.h)(h),d=new tn.a,p=Object(Ze.a)(void 0).pipe(Object(Ko.b)(h.outsideAngular),Dn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ot.a)(()=>Object(ns.g)(t,i,e)),Object(Ot.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ns.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),Zo({bufferSize:1,refCount:!1}));if(q(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ze.a)(null);else{p.pipe(Xn()).subscribe();const t=p.pipe(Dn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Zo({bufferSize:1,refCount:!1})),e=t=>new wt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Dn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Dn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ts(n),Object(es.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular)),this.user=t.pipe(ts(r),Object(es.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular)),this.idToken=this.user.pipe(Dn(t=>t?Object(Ct.a)(t.getIdToken()):Object(Ze.a)(null))),this.idTokenResult=this.user.pipe(Dn(t=>t?Object(Ct.a)(t.getIdTokenResult()):Object(Ze.a)(null))),this.credential=Object($o.a)(t,d,this.authState.pipe(bn(t=>!t))).pipe(Object(Ot.a)(t=>(null==t?void 0:t.user)?t:null),Object(es.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular))}return Object(ns.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ns.c),r.Pb(ns.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(rs,8),r.Pb(is,8),r.Pb(os,8),r.Pb(ss,8),r.Pb(us,8),r.Pb(as,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ns.c),Object(r.Pb)(ns.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(rs,8),Object(r.Pb)(is,8),Object(r.Pb)(os,8),Object(r.Pb)(ss,8),Object(r.Pb)(us,8),Object(r.Pb)(as,8))},token:t,providedIn:"any"}),t})();Object(ns.e)(cs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ls=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[cs]}),t})(),hs=(()=>{class t{constructor(t,e){this.firebaseAuth=t,this.router=e}getUser(){return this.firebaseAuth.user}signUp(t,e){return this.firebaseAuth.createUserWithEmailAndPassword(t,e).then(({user:t})=>{localStorage.setItem("user",JSON.stringify(t)),this.router.navigateByUrl("todo")})}logIn(t,e){return this.firebaseAuth.signInWithEmailAndPassword(t,e).then(({user:t})=>{localStorage.setItem("user",JSON.stringify(t)),this.router.navigateByUrl("todo")})}logOut(){this.firebaseAuth.signOut().then(()=>{this.router.navigateByUrl("login"),localStorage.removeItem("user")}).catch(t=>{console.log(t.message)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cs),r.Pb(So))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fs(t,e){1&t&&(r.Lb(0,"div",5),r.ec(1," Email is required. "),r.Kb())}function ds(t,e){1&t&&(r.Lb(0,"div",5),r.ec(1," Email is wrong. "),r.Kb())}function ps(t,e){1&t&&(r.Lb(0,"div",5),r.ec(1," Password must be at least 6 characters long. "),r.Kb())}function gs(t,e){1&t&&(r.Lb(0,"div",5),r.ec(1," Password is required. "),r.Kb())}function ys(t,e){if(1&t&&(r.Lb(0,"div",5),r.ec(1),r.Kb()),2&t){const t=r.Ub();r.yb(1),r.fc(t.error)}}let vs=(()=>{class t{constructor(t){this.authService=t,this.email=new Le("",[Lt.required,Lt.email]),this.password=new Le("",[Lt.required,Lt.minLength(6)])}signUp(){this.authService.signUp(this.email.value,this.password.value).catch(t=>this.error=t.message)}logIn(){this.authService.logIn(this.email.value,this.password.value).catch(t=>this.error=t.message)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(hs))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-auth"]],decls:16,vars:9,consts:[[1,"container"],["type","email","placeholder","Email","required","",3,"formControl"],["class","error",4,"ngIf"],["type","password","placeholder","Password","required","",3,"formControl"],["type","submit",3,"disabled","click"],[1,"error"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"label"),r.ec(2," Email: "),r.Jb(3,"input",1),r.dc(4,fs,2,0,"div",2),r.dc(5,ds,2,0,"div",2),r.Kb(),r.Lb(6,"label"),r.ec(7," Password: "),r.Jb(8,"input",3),r.dc(9,ps,2,0,"div",2),r.dc(10,gs,2,0,"div",2),r.Kb(),r.Lb(11,"button",4),r.Sb("click",function(){return e.logIn()}),r.ec(12,"Log In"),r.Kb(),r.Lb(13,"button",4),r.Sb("click",function(){return e.signUp()}),r.ec(14,"Sign Up"),r.Kb(),r.dc(15,ys,2,1,"div",2),r.Kb()),2&t&&(r.yb(3),r.Xb("formControl",e.email),r.yb(1),r.Xb("ngIf",(null==e.email.errors?null:e.email.errors.required)&&e.email.touched),r.yb(1),r.Xb("ngIf",(null==e.email.errors?null:e.email.errors.email)&&e.email.touched),r.yb(3),r.Xb("formControl",e.password),r.yb(1),r.Xb("ngIf",null==e.password.errors?null:e.password.errors.minlength),r.yb(1),r.Xb("ngIf",(null==e.password.errors?null:e.password.errors.required)&&e.password.touched),r.yb(1),r.Xb("disabled",!e.email||!e.password),r.yb(2),r.Xb("disabled",!e.email||!e.password),r.yb(2),r.Xb("ngIf",e.error))},directives:[kt,Qe,Zt,He,P],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:40px;height:300px;width:250px;border-radius:12px;background-color:#fff}.container[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}button[_ngcontent-%COMP%]{border:none;height:45px;border-radius:5px;background-color:#112c52;color:#fff;font-size:16px}.error[_ngcontent-%COMP%]{color:red;font-weight:700;padding-top:5px}input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;width:100%;font-size:16px}"]}),t})(),ms=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"p"),r.ec(1,"Page not found!"),r.Kb())},styles:[""]}),t})();var bs=n("D0XW");function ws(){return t=>t.lift(new _s)}class _s{call(t,e){return e.subscribe(new Os(t))}}class Os extends on.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Es{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Cs(t,this.compare,this.keySelector))}}class Cs extends on.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Is=n("Jgta"),Ts=n("os0x"),Ss=n("zIRd"),xs=n("q/0M"),js=n("qOnz"),As=function(t,e){return(As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ks(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ps,Ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rs=Rs||{},Ds=Ns||self;function Vs(){}function Ls(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ms(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Us="closure_uid_"+(1e9*Math.random()>>>0),Fs=0;function qs(t,e,n){return t.call.apply(t.bind,arguments)}function zs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Hs(t,e,n){return(Hs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qs:zs).apply(null,arguments)}function Bs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Gs(){return Date.now()}function Ws(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function $s(){this.j=this.j,this.i=this.i}$s.prototype.j=!1,$s.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Us)&&t[Us]||(t[Us]=++Fs)}(this)},$s.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ks=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Qs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ys(t){return Array.prototype.concat.apply([],arguments)}function Xs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Js(t){return/^[\s\xa0]*$/.test(t)}var Zs,tu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function eu(t,e){return-1!=t.indexOf(e)}function nu(t,e){return t<e?-1:t>e?1:0}t:{var ru=Ds.navigator;if(ru){var iu=ru.userAgent;if(iu){Zs=iu;break t}}Zs=""}function ou(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function su(t){var e={};for(var n in t)e[n]=t[n];return e}var uu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function au(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<uu.length;o++)n=uu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cu(t){return cu[" "](t),t}cu[" "]=Vs;var lu,hu,fu=eu(Zs,"Opera"),du=eu(Zs,"Trident")||eu(Zs,"MSIE"),pu=eu(Zs,"Edge"),gu=pu||du,yu=eu(Zs,"Gecko")&&!(eu(Zs.toLowerCase(),"webkit")&&!eu(Zs,"Edge"))&&!(eu(Zs,"Trident")||eu(Zs,"MSIE"))&&!eu(Zs,"Edge"),vu=eu(Zs.toLowerCase(),"webkit")&&!eu(Zs,"Edge");function mu(){var t=Ds.document;return t?t.documentMode:void 0}t:{var bu="",wu=(hu=Zs,yu?/rv:([^\);]+)(\)|;)/.exec(hu):pu?/Edge\/([\d\.]+)/.exec(hu):du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hu):vu?/WebKit\/(\S+)/.exec(hu):fu?/(?:Version)[ \/]?(\S+)/.exec(hu):void 0);if(wu&&(bu=wu?wu[1]:""),du){var _u=mu();if(null!=_u&&_u>parseFloat(bu)){lu=String(_u);break t}}lu=bu}var Ou={};function Eu(t){return function(t,e){var n=Ou;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tu(String(lu)).split("."),r=tu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=nu(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||nu(0==s[2].length,0==u[2].length)||nu(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Cu=Ds.document&&du&&(mu()||parseInt(lu,10))||void 0,Iu=!du||9<=Number(Cu),Tu=du&&!Eu("9"),Su=function(){if(!Ds.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ds.addEventListener("test",Vs,e),Ds.removeEventListener("test",Vs,e)}catch(n){}return t}();function xu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ju(t,e){if(xu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(yu){t:{try{cu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Au[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xu.prototype.b=function(){this.defaultPrevented=!0},Ws(ju,xu);var Au={2:"touch",3:"pen",4:"mouse"};ju.prototype.b=function(){ju.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Tu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ku="closure_listenable_"+(1e6*Math.random()|0),Pu=0;function Nu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Pu,this.Y=this.Z=!1}function Ru(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Du(t){this.src=t,this.a={},this.b=0}function Vu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ks(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ru(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Lu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Du.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Lu(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Nu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Mu="closure_lm_"+(1e6*Math.random()|0),Uu={};function Fu(t,e,n,r,i){if(r&&r.once)return zu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fu(t,e[o],n,r,i);return null}return n=Yu(n),t&&t[ku]?t.va(e,n,Ms(r)?!!r.capture:!!r,i):qu(t,e,n,!1,r,i)}function qu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ms(i)?!!i.capture:!!i;if(s&&!Iu)return null;var u=Ku(t);if(u||(t[Mu]=u=new Du(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=$u,e=Iu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Su||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Gu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function zu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)zu(t,e[o],n,r,i);return null}return n=Yu(n),t&&t[ku]?t.wa(e,n,Ms(r)?!!r.capture:!!r,i):qu(t,e,n,!0,r,i)}function Hu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Hu(t,e[o],n,r,i);else r=Ms(r)?!!r.capture:!!r,n=Yu(n),t&&t[ku]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Lu(o=t.a[e],n,r,i))&&(Ru(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ku(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Lu(e,n,r,i)),(n=-1<t?e[t]:null)&&Bu(n))}function Bu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ku])Vu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Gu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ku(e))?(Vu(n,t),0==n.b&&(n.src=null,e[Mu]=null)):Ru(t)}}}function Gu(t){return t in Uu?Uu[t]:Uu[t]="on"+t}function Wu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Bu(t),n.call(r,e)}function $u(t,e){if(t.Y)return!0;if(!Iu){if(!e)t:{e=["window","event"];for(var n=Ds,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Wu(t,e=new ju(e,this))}return Wu(t,new ju(e,this))}function Ku(t){return(t=t[Mu])instanceof Du?t:null}var Qu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(t){return"function"==typeof t?t:(t[Qu]||(t[Qu]=function(e){return t.handleEvent(e)}),t[Qu])}function Xu(){$s.call(this),this.c=new Du(this),this.J=this,this.C=null}function Ju(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xu(e,t);else if(e instanceof xu)e.target=e.target||t;else{var i=e;au(e=new xu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Zu(s,r,!0,e)&&i}if(i=Zu(s=e.a=t,r,!0,e)&&i,i=Zu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Zu(s=e.a=n[o],r,!1,e)&&i}function Zu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Vu(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Ws(Xu,$s),Xu.prototype[ku]=!0,(Ps=Xu.prototype).addEventListener=function(t,e,n,r){Fu(this,t,e,n,r)},Ps.removeEventListener=function(t,e,n,r){Hu(this,t,e,n,r)},Ps.G=function(){if(Xu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ru(n[r]);delete e.a[t],e.b--}}this.C=null},Ps.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ps.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ta=Ds.JSON.stringify;function ea(){this.b=this.a=null}var na,ra=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new oa},function(t){t.reset()});function ia(){var t=ca,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function oa(){this.next=this.b=this.a=null}function sa(t){Ds.setTimeout(function(){throw t},0)}function ua(t,e){na||function(){var t=Ds.Promise.resolve(void 0);na=function(){t.then(la)}}(),aa||(na(),aa=!0),ca.add(t,e)}ea.prototype.add=function(t,e){var n=ra.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},oa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},oa.prototype.reset=function(){this.next=this.b=this.a=null};var aa=!1,ca=new ea;function la(){for(var t;t=ia();){try{t.a.call(t.b)}catch(n){sa(n)}var e=ra;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}aa=!1}function ha(t,e){Xu.call(this),this.b=t||1,this.a=e||Ds,this.f=Hs(this.Za,this),this.g=Gs()}function fa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function da(t,e,n){if("function"==typeof t)n&&(t=Hs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Hs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ds.setTimeout(t,e||0)}function pa(t){t.a=da(function(){t.a=null,t.c&&(t.c=!1,pa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ws(ha,Xu),(Ps=ha.prototype).aa=!1,Ps.M=null,Ps.Za=function(){if(this.aa){var t=Gs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ju(this,"tick"),this.aa&&(fa(this),this.start()))}},Ps.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Gs())},Ps.G=function(){ha.X.G.call(this),fa(this),delete this.a};var ga=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}As(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:pa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ds.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}($s);function ya(t){$s.call(this),this.b=t,this.a={}}Ws(ya,$s);var va=[];function ma(t,e,n,r){Array.isArray(n)||(n&&(va[0]=n.toString()),n=va);for(var i=0;i<n.length;i++){var o=Fu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ba(t){ou(t.a,function(t,e){this.a.hasOwnProperty(e)&&Bu(t)},t),t.a={}}function wa(){this.a=!0}function _a(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ta(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}ya.prototype.G=function(){ya.X.G.call(this),ba(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wa.prototype.info=function(){};var Oa={},Ea=null;function Ca(){return Ea=Ea||new Xu}function Ia(t){xu.call(this,Oa.Fa,t)}function Ta(t){var e=Ca();Ju(e,new Ia(e,t))}function Sa(t,e){xu.call(this,Oa.STAT_EVENT,t),this.stat=e}function xa(t){var e=Ca();Ju(e,new Sa(e,t))}function ja(t){xu.call(this,Oa.Ga,t)}function Aa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ds.setTimeout(function(){t()},e)}Oa.Fa="serverreachability",Ws(Ia,xu),Oa.STAT_EVENT="statevent",Ws(Sa,xu),Oa.Ga="timingevent",Ws(ja,xu);var ka={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Pa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Na(){}function Ra(){}Na.prototype.a=null;var Da,Va={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function La(){xu.call(this,"d")}function Ma(){xu.call(this,"c")}function Ua(){}function Fa(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ya(this),this.P=qa,this.R=new ha(t=gu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ws(La,xu),Ws(Ma,xu),Ws(Ua,Na),Da=new Ua;var qa=45e3,za={},Ha={};function Ba(t,e,n){t.H=1,t.i=fc(sc(e)),t.j=n,t.I=!0,Ga(t,null)}function Ga(t,e){t.u=Gs(),Ka(t),t.l=sc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ic(n.b,"t",r),t.D=0,t.a=bl(t.g,t.g.C?e:null),0<t.O&&(t.F=new ga(Hs(t.Ca,t,t.a),t.O)),ma(t.J,t.a,"readystatechange",t.Xa),e=t.B?su(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ta(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Wa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=$a(t,n);if(i==Ha){4==e&&(t.h=4,xa(14),r=!1),_a(t.c,t.f,null,"[Incomplete Response]");break}if(i==za){t.h=4,xa(15),_a(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}_a(t.c,t.f,i,null),Za(t,i)}4==e&&0==n.length&&(t.h=1,xa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hl(e),e.F=!0,xa(11))):(_a(t.c,t.f,n,"[Invalid Chunked Response]"),Ja(t),Xa(t))}function $a(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ha:(n=Number(e.substring(n,r)),isNaN(n)?za:(r+=1)+n>e.length?Ha:(e=e.substr(r,n),t.D=r+n,e))}function Ka(t){t.T=Gs()+t.P,Qa(t,t.P)}function Qa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Aa(Hs(t.Va,t),e)}function Ya(t){t.o&&(Ds.clearTimeout(t.o),t.o=null)}function Xa(t){0==t.g.v||t.A||pl(t.g,t)}function Ja(t){Ya(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,fa(t.R),ba(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Za(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Pc(n.b,t)))if(n.I=t.N,!t.C&&Pc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(aw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;dl(n),nl(n)}ll(n),xa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Aa(Hs(n.Sa,n),6e3));if(1>=kc(n.b)&&n.ea){try{n.ea()}catch(aw){}n.ea=void 0}}else yl(n,11)}else if((t.C||n.a==t)&&dl(n),!Js(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(eu(l,"spdy")||eu(l,"quic")||eu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Nc(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,hc(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Gs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=ml(a,a.C?a.ga:null,a.fa),d.C){Rc(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(Ya(p),Ka(p)),a.a=d}else cl(a);0<n.g.length&&ol(n)}else"stop"!=i[0]&&"close"!=i[0]||yl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?yl(n,7):el(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ta(4)}catch(aw){}}function tc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ls(t)||"string"==typeof t)Qs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ls(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ls(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ec(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ec)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];rc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)rc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function rc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ps=Fa.prototype).setTimeout=function(t){this.P=t},Ps.Xa=function(t){t=t.target;var e=this.F;e&&3==Xc(t)?e.f():this.Ca(t)},Ps.Ca=function(t){try{if(t==this.a)t:{var e=Xc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!gu&&!this.a.$())){this.A||4!=e||7==n||Ta(8==n||0>=r?3:2),Ya(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Js(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,xa(12),Ja(this),Xa(this);break t}_a(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Za(this,a)}this.I?(Wa(this,e,o),gu&&this.b&&3==e&&(ma(this.J,this.R,"tick",this.Wa),this.R.start())):(_a(this.c,this.f,o,null),Za(this,o)),4==e&&Ja(this),this.b&&!this.A&&(4==e?pl(this.g,this):(this.b=!1,Ka(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xa(12)):(this.h=0,xa(13)),Ja(this),Xa(this)}}}catch(c){}},Ps.Wa=function(){if(this.a){var t=Xc(this.a),e=this.a.$();this.D<e.length&&(Ya(this),Wa(this,t,e),this.b&&4!=t&&Ka(this))}},Ps.cancel=function(){this.A=!0,Ja(this)},Ps.Va=function(){this.o=null;var t=Gs();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ta(3),xa(17)),Ja(this),this.h=2,Xa(this)):Qa(this,this.T-t)},(Ps=ec.prototype).K=function(){nc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ps.L=function(){return nc(this),this.a.concat()},Ps.get=function(t,e){return rc(this.b,t)?this.b[t]:e},Ps.set=function(t,e){rc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ps.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ic=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof oc){this.a=void 0!==e?e:t.a,uc(this,t.f),this.j=t.j,ac(this,t.c),cc(this,t.h),this.g=t.g,e=t.b;var n=new _c;n.c=e.c,e.a&&(n.a=new ec(e.a),n.b=e.b),lc(this,n),this.i=t.i}else t&&(n=String(t).match(ic))?(this.a=!!e,uc(this,n[1]||"",!0),this.j=dc(n[2]||""),ac(this,n[3]||"",!0),cc(this,n[4]),this.g=dc(n[5]||"",!0),lc(this,n[6]||"",!0),this.i=dc(n[7]||"")):(this.a=!!e,this.b=new _c(null,this.a))}function sc(t){return new oc(t)}function uc(t,e,n){t.f=n?dc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ac(t,e,n){t.c=n?dc(e,!0):e}function cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function lc(t,e,n){e instanceof _c?(t.b=e,function(t,e){e&&!t.f&&(Oc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ec(this,e),Ic(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=pc(e,bc)),t.b=new _c(e,t.a))}function hc(t,e,n){t.b.set(e,n)}function fc(t){return hc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Gs()).toString(36)),t}function dc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(pc(e,yc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(pc(e,yc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(pc(n,"/"==n.charAt(0)?mc:vc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",pc(n,wc)),t.join("")};var yc=/[#\/\?@]/g,vc=/[#\?:]/g,mc=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;function _c(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Oc(t){t.a||(t.a=new ec,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ec(t,e){Oc(t),e=Tc(t,e),rc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,rc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nc(t)))}function Cc(t,e){return Oc(t),e=Tc(t,e),rc(t.a.b,e)}function Ic(t,e,n){Ec(t,e),0<n.length&&(t.c=null,t.a.set(Tc(t,e),Xs(n)),t.b+=n.length)}function Tc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ps=_c.prototype).add=function(t,e){Oc(this),this.c=null,t=Tc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ps.forEach=function(t,e){Oc(this),this.a.forEach(function(n,r){Qs(n,function(n){t.call(e,n,r,this)},this)},this)},Ps.L=function(){Oc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ps.K=function(t){Oc(this);var e=[];if("string"==typeof t)Cc(this,t)&&(e=Ys(e,this.a.get(Tc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ys(e,t[n])}return e},Ps.set=function(t,e){return Oc(this),this.c=null,Cc(this,t=Tc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ps.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ps.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Sc=function(){return function(t,e){this.b=t,this.a=e}}();function xc(t){this.g=t||jc,t=Ds.PerformanceNavigationTiming?0<(t=Ds.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ds.ia&&Ds.ia.ya&&Ds.ia.ya()&&Ds.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var jc=10;function Ac(t){return!!t.b||!!t.a&&t.a.size>=t.f}function kc(t){return t.b?1:t.a?t.a.size:0}function Pc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Nc(t,e){t.a?t.a.add(e):t.b=e}function Rc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Dc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ks(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xs(t.c)}function Vc(){}function Lc(){this.a=new Vc}function Mc(t,e,n){var r=n||"";try{tc(t,function(t,n){var i=t;Ms(t)&&(i=ta(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xc.prototype.cancel=function(){var t,e;if(this.c=Dc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ks(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Vc.prototype.stringify=function(t){return Ds.JSON.stringify(t,void 0)},Vc.prototype.parse=function(t){return Ds.JSON.parse(t,void 0)};var Fc=Ds.JSON.parse;function qc(t){Xu.call(this),this.headers=new ec,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zc,this.D=this.F=!1}Ws(qc,Xu);var zc="",Hc=/^https?$/i,Bc=["POST","PUT"];function Gc(t){return"content-type"==t.toLowerCase()}function Wc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,$c(t),Qc(t)}function $c(t){t.u||(t.u=!0,Ju(t,"complete"),Ju(t,"error"))}function Kc(t){if(t.b&&void 0!==Rs&&(!t.s[1]||4!=Xc(t)||2!=t.W()))if(t.l&&4==Xc(t))da(t.za,0,t);else if(Ju(t,"readystatechange"),4==Xc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ic)[1]||null;if(!o&&Ds.self&&Ds.self.location){var s=Ds.self.location.protocol;o=s.substr(0,s.length-1)}i=!Hc.test(o?o.toLowerCase():"")}e=i}if(e)Ju(t,"complete"),Ju(t,"success");else{t.h=6;try{var u=2<Xc(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",$c(t)}}finally{Qc(t)}}}function Qc(t,e){if(t.a){Yc(t);var n=t.a,r=t.s[0]?Vs:null;t.a=null,t.s=null,e||Ju(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ds.clearTimeout(t.m),t.m=null)}function Xc(t){return t.a?t.a.readyState:0}function Jc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ou(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hc(t,e,n))}function Zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tl(t){this.pa=0,this.g=[],this.c=new wa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Zc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Zc("baseRetryDelayMs",5e3,t),this.Ra=Zc("retryDelaySeedMs",1e4,t),this.Ma=Zc("forwardChannelMaxRetries",2,t),this.ma=Zc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xc(t&&t.concurrentRequestLimit),this.ka=new Lc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function el(t){if(rl(t),3==t.v){var e=t.R++,n=sc(t.B);hc(n,"SID",t.J),hc(n,"RID",e),hc(n,"TYPE","terminate"),ul(t,n),(e=new Fa(t,t.c,e,void 0)).H=2,e.i=fc(sc(n)),n=!1,Ds.navigator&&Ds.navigator.sendBeacon&&(n=Ds.navigator.sendBeacon(e.i.toString(),"")),!n&&Ds.Image&&((new Image).src=e.i,n=!0),n||(e.a=bl(e.g,null),e.a.ba(e.i)),e.u=Gs(),Ka(e)}vl(t)}function nl(t){t.a&&(hl(t),t.a.cancel(),t.a=null)}function rl(t){nl(t),t.j&&(Ds.clearTimeout(t.j),t.j=null),dl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ds.clearTimeout(t.h),t.h=null)}function il(t,e){t.g.push(new Sc(t.Oa++,e)),3==t.v&&ol(t)}function ol(t){Ac(t.b)||t.h||(t.h=!0,ua(t.Ba,t),t.u=0)}function sl(t,e){var n;n=e?e.f:t.R++;var r=sc(t.B);hc(r,"SID",t.J),hc(r,"RID",n),hc(r,"AID",t.P),ul(t,r),t.i&&t.l&&Jc(r,t.i,t.l),n=new Fa(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=al(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Nc(t.b,n),Ba(n,r,e)}function ul(t,e){t.f&&tc({},function(t,n){hc(e,n,t)})}function al(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Hs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Mc(l,s,"req"+c+"_")}catch(Jl){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function cl(t){t.a||t.j||(t.T=1,ua(t.Aa,t),t.o=0)}function ll(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Aa(Hs(t.Aa,t),gl(t,t.o)),t.o++,0))}function hl(t){null!=t.s&&(Ds.clearTimeout(t.s),t.s=null)}function fl(t){t.a=new Fa(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=sc(t.la);hc(e,"RID","rpc"),hc(e,"SID",t.J),hc(e,"CI",t.H?"0":"1"),hc(e,"AID",t.P),ul(t,e),hc(e,"TYPE","xmlhttp"),t.i&&t.l&&Jc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=fc(sc(e)),n.j=null,n.I=!0,Ga(n,t)}function dl(t){null!=t.m&&(Ds.clearTimeout(t.m),t.m=null)}function pl(t,e){var n=null;if(t.a==e){dl(t),hl(t),t.a=null;var r=2}else{if(!Pc(t.b,e))return;n=e.s,Rc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Gs()-e.u;var i=t.u;Ju(r=Ca(),new ja(r,n,e,i)),ol(t)}else cl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(kc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Aa(Hs(t.Ba,t,e),gl(t,t.u)),t.u++,0)))}(t,e)||2==r&&ll(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:yl(t,5);break;case 4:yl(t,10);break;case 3:yl(t,6);break;default:yl(t,2)}}function gl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function yl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Hs(t.Ya,t);n||(n=new oc("//www.google.com/images/cleardot.gif"),Ds.location&&"http"==Ds.location.protocol||uc(n,"https"),fc(n)),function(t,e){var n=new wa;if(Ds.Image){var r=new Image;r.onload=Bs(Uc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bs(Uc,n,r,"TestLoadImage: error",!1,e),r.onabort=Bs(Uc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bs(Uc,n,r,"TestLoadImage: timeout",!1,e),Ds.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xa(2);t.v=0,t.f&&t.f.ra(e),vl(t),rl(t)}function vl(t){t.v=0,t.I=-1,t.f&&(0==Dc(t.b).length&&0==t.g.length||(t.b.c.length=0,Xs(t.g),t.g.length=0),t.f.qa())}function ml(t,e,n){var r=function(t){return t instanceof oc?sc(t):new oc(t,void 0)}(n);if(""!=r.c)e&&ac(r,e+"."+r.c),cc(r,r.h);else{var i=Ds.location;r=function(t,e,n,r){var i=new oc(null,void 0);return t&&uc(i,t),e&&ac(i,e),n&&cc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ou(t.V,function(t,e){hc(r,e,t)}),n=t.na,(e=t.A)&&n&&hc(r,e,n),hc(r,"VER",t.ha),ul(t,r),r}function bl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qc(t.Na)).F=t.C,e}function wl(){}function _l(){if(du&&!(10<=Number(Cu)))throw Error("Environmental error: no available transport.")}function Ol(t,e){Xu.call(this),this.a=new tl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Js(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Js(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Il(this)}function El(t){La.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Cl(){Ma.call(this),this.status=1}function Il(t){this.a=t}(Ps=qc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Da),this.a.onreadystatechange=Hs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Wc(this,o)}t=n||"";var i=new ec(this.headers);r&&tc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Gc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ds.FormData&&t instanceof Ds.FormData,!(0<=Ks(Bc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yc(this),0<this.o&&((this.D=function(t){return du&&Eu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Hs(this.xa,this)):this.m=da(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Wc(this,o)}},Ps.xa=function(){void 0!==Rs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ju(this,"timeout"),this.abort(8))},Ps.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ju(this,"complete"),Ju(this,"abort"),Qc(this))},Ps.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qc(this,!0)),qc.X.G.call(this)},Ps.za=function(){this.j||(this.A||this.l||this.g?Kc(this):this.Ua())},Ps.Ua=function(){Kc(this)},Ps.W=function(){try{return 2<Xc(this)?this.a.status:-1}catch(hu){return-1}},Ps.$=function(){try{return this.a?this.a.responseText:""}catch(hu){return""}},Ps.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fc(e)}},Ps.ua=function(){return this.h},Ps.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ps=tl.prototype).ha=8,Ps.v=1,Ps.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Fa(this,this.c,t,void 0),r=this.l;if(this.O&&(r?au(r=su(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=al(this,n,e),hc(i=sc(this.B),"RID",t),hc(i,"CVER",22),this.A&&hc(i,"X-HTTP-Session-Id",this.A),ul(this,i),this.i&&r&&Jc(i,this.i,r),Nc(this.b,n),this.Ia&&hc(i,"TYPE","init"),this.da?(hc(i,"$req",e),hc(i,"SID","null"),n.U=!0,Ba(n,i,null)):Ba(n,i,e),this.v=2}}else 3==this.v&&(t?sl(this,t):0==this.g.length||Ac(this.b)||sl(this))},Ps.Aa=function(){if(this.j=null,fl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Aa(Hs(this.Ta,this),t)}},Ps.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xa(10),nl(this),fl(this))},Ps.Sa=function(){null!=this.m&&(this.m=null,nl(this),ll(this),xa(19))},Ps.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xa(2)):(this.c.info("Failed to ping google.com"),xa(1))},(Ps=wl.prototype).ta=function(){},Ps.sa=function(){},Ps.ra=function(){},Ps.qa=function(){},Ps.Ja=function(){},_l.prototype.a=function(t,e){return new Ol(t,e)},Ws(Ol,Xu),Ol.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ml(t,null,t.fa),ol(t)},Ol.prototype.close=function(){el(this.a)},Ol.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,il(this.a,e)}else this.l?((e={}).__data__=ta(t),il(this.a,e)):il(this.a,t)},Ol.prototype.G=function(){this.a.f=null,delete this.f,el(this.a),delete this.a,Ol.X.G.call(this)},Ws(El,La),Ws(Cl,Ma),Ws(Il,wl),Il.prototype.ta=function(){Ju(this.a,"a")},Il.prototype.sa=function(t){Ju(this.a,new El(t))},Il.prototype.ra=function(t){Ju(this.a,new Cl(t))},Il.prototype.qa=function(){Ju(this.a,"b")},_l.prototype.createWebChannel=_l.prototype.a,Ol.prototype.send=Ol.prototype.h,Ol.prototype.open=Ol.prototype.g,Ol.prototype.close=Ol.prototype.close,ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Pa.COMPLETE="complete",Ra.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",Xu.prototype.listen=Xu.prototype.va,qc.prototype.listenOnce=qc.prototype.wa,qc.prototype.getLastError=qc.prototype.Qa,qc.prototype.getLastErrorCode=qc.prototype.ua,qc.prototype.getStatus=qc.prototype.W,qc.prototype.getResponseJson=qc.prototype.Pa,qc.prototype.getResponseText=qc.prototype.$,qc.prototype.send=qc.prototype.ba;var Tl=ka,Sl=Pa,xl=Oa,jl=Ra,Al=qc,kl=n("/6Yf"),Pl=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Nl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Rl=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Rl.UNAUTHENTICATED=new Rl(null),Rl.l=new Rl("google-credentials-uid"),Rl._=new Rl("first-party-uid");var Dl=new xs.b("@firebase/firestore");function Vl(){return Dl.logLevel}function Ll(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=xs.a.DEBUG){var r=e.map(Fl);Dl.debug.apply(Dl,Object(Ts.g)(["Firestore (8.1.1): "+t],r))}}function Ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=xs.a.ERROR){var r=e.map(Fl);Dl.error.apply(Dl,Object(Ts.g)(["Firestore (8.1.1): "+t],r))}}function Ul(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl.logLevel<=xs.a.WARN){var r=e.map(Fl);Dl.warn.apply(Dl,Object(Ts.g)(["Firestore (8.1.1): "+t],r))}}function Fl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function ql(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Ml(e),new Error(e)}function zl(t,e){t||ql()}function Hl(t,e){return t}var Bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ts.c)(e,t),e}(Error),Wl=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},$l=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Rl.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Kl=function(){function t(t){var e=this;this.P=null,this.currentUser=Rl.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(Ll("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zl("string"==typeof n.accessToken),new Wl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return zl(null===t||"string"==typeof t),new Rl(t)},t}(),Ql=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Rl._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Yl=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Ql(this.v,this.S))},t.prototype.A=function(t){t(Rl._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Xl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jl=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Xl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Zl(t,e){return t<e?-1:t>e?1:0}function th(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function eh(t){return t+"\0"}var nh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Zl(this.nanoseconds,t.nanoseconds):Zl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rh=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new nh(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),ih=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ql(),void 0===n?n=t.length-e:n>t.length-e&&ql(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(ih),sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return sh.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Gl(Bl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Gl(Bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Gl(Bl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(ih),ah=function(){function t(t){this.path=t}return t.st=function(e){return new t(oh.Y(e))},t.it=function(e){return new t(oh.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oh.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return oh.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new oh(e.slice()))},t}();function ch(t){return null==t}function lh(t){return 0===t&&1/t==-1/0}function hh(t){return"number"==typeof t&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function dh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new fh(t,e,n,r,i,o,s)}function ph(t){var e=Hl(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+lf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fp(e.startAt)),e.endAt&&(n+="|ub:",n+=fp(e.endAt)),e.ut=n}return e.ut}function gh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!sf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pp(t.startAt,e.startAt)&&pp(t.endAt,e.endAt)}function yh(t){return ah.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var vh=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Zl(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();vh.lt=new vh("");var mh,bh,wh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rh.min()),void 0===o&&(o=rh.min()),void 0===s&&(s=vh.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),_h=function(t){this.count=t};function Oh(t){switch(t){case Bl.OK:return ql();case Bl.CANCELLED:case Bl.UNKNOWN:case Bl.DEADLINE_EXCEEDED:case Bl.RESOURCE_EXHAUSTED:case Bl.INTERNAL:case Bl.UNAVAILABLE:case Bl.UNAUTHENTICATED:return!1;case Bl.INVALID_ARGUMENT:case Bl.NOT_FOUND:case Bl.ALREADY_EXISTS:case Bl.PERMISSION_DENIED:case Bl.FAILED_PRECONDITION:case Bl.ABORTED:case Bl.OUT_OF_RANGE:case Bl.UNIMPLEMENTED:case Bl.DATA_LOSS:return!0;default:return ql()}}function Eh(t){if(void 0===t)return Ml("GRPC error has no .code"),Bl.UNKNOWN;switch(t){case mh.OK:return Bl.OK;case mh.CANCELLED:return Bl.CANCELLED;case mh.UNKNOWN:return Bl.UNKNOWN;case mh.DEADLINE_EXCEEDED:return Bl.DEADLINE_EXCEEDED;case mh.RESOURCE_EXHAUSTED:return Bl.RESOURCE_EXHAUSTED;case mh.INTERNAL:return Bl.INTERNAL;case mh.UNAVAILABLE:return Bl.UNAVAILABLE;case mh.UNAUTHENTICATED:return Bl.UNAUTHENTICATED;case mh.INVALID_ARGUMENT:return Bl.INVALID_ARGUMENT;case mh.NOT_FOUND:return Bl.NOT_FOUND;case mh.ALREADY_EXISTS:return Bl.ALREADY_EXISTS;case mh.PERMISSION_DENIED:return Bl.PERMISSION_DENIED;case mh.FAILED_PRECONDITION:return Bl.FAILED_PRECONDITION;case mh.ABORTED:return Bl.ABORTED;case mh.OUT_OF_RANGE:return Bl.OUT_OF_RANGE;case mh.UNIMPLEMENTED:return Bl.UNIMPLEMENTED;case mh.DATA_LOSS:return Bl.DATA_LOSS;default:return ql()}}(bh=mh||(mh={}))[bh.OK=0]="OK",bh[bh.CANCELLED=1]="CANCELLED",bh[bh.UNKNOWN=2]="UNKNOWN",bh[bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bh[bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bh[bh.NOT_FOUND=5]="NOT_FOUND",bh[bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",bh[bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",bh[bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",bh[bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bh[bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bh[bh.ABORTED=10]="ABORTED",bh[bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",bh[bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",bh[bh.INTERNAL=13]="INTERNAL",bh[bh.UNAVAILABLE=14]="UNAVAILABLE",bh[bh.DATA_LOSS=15]="DATA_LOSS";var Ch=function(){function t(t,e){this.$=t,this.root=e||Th.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Th.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Th.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Ih(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Ih(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Ih(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Ih(this.root,t,this.$,!0)},t}(),Ih=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Th=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw ql();if(this.right.Mt())throw ql();var t=this.left.Qt();if(t!==this.right.Qt())throw ql();return t+(this.Mt()?0:1)},t}();Th.EMPTY=null,Th.RED=!0,Th.It=!1,Th.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ql()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ql()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ql()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ql()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ql()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Th(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Sh=function(){function t(t){this.$=t,this.data=new Ch(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new xh(this.data.yt())},t.prototype.Vt=function(t){return new xh(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),xh=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),jh=new Ch(ah.$);function Ah(){return jh}function kh(){return Ah()}var Ph=new Ch(ah.$);function Nh(){return Ph}var Rh=new Ch(ah.$),Dh=new Sh(ah.$);function Vh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Dh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lh=new Sh(Zl);function Mh(){return Lh}var Uh=function(){function t(t){this.$=t?function(e,n){return t(e,n)||ah.$(e.key,n.key)}:function(t,e){return ah.$(t.key,e.key)},this.Ht=Nh(),this.Jt=new Ch(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Fh=function(){function t(){this.Xt=new Ch(ah.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):ql():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),qh=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=u}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Uh.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Xd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),zh=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Hh.he(e,n)),new t(rh.min(),r,Mh(),Ah(),Vh())},t}(),Hh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(vh.lt,n,Vh(),Vh(),Vh())},t}(),Bh=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Gh=function(t,e){this.targetId=t,this.Te=e},Wh=function(t,e,n,r){void 0===n&&(n=vh.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},$h=function(){function t(){this.Ie=0,this.me=Yh(),this.Ae=vh.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Vh(),e=Vh(),n=Vh();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ql()}}),new Hh(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Yh()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Kh=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Ah(),this.Me=Qh(),this.ke=new Sh(Zl)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Ld?this.Le(r,t.Ee):t.Ee instanceof Md&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:ql()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(yh(i))if(0===n){var o=new ah(i.path);this.Be(e,o,new Md(o,rh.min()))}else zl(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&yh(o.target)){var s=new ah(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new Md(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Vh();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new zh(t,n,this.ke,this.Oe,r);return this.Oe=Ah(),this.Me=Qh(),this.ke=new Sh(Zl),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new $h,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Sh(Zl),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Ll("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new $h),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Qh(){return new Ch(ah.$)}function Yh(){return new Ch(ah.$)}function Xh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ef(t){var e=t.mapValue.fields.__previous_value__;return tf(e)?ef(e):e}function nf(t){var e=ff(t.mapValue.fields.__local_write_time__.timestampValue);return new nh(e.seconds,e.nanos)}var rf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function of(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tf(t)?4:10:ql()}function sf(t,e){var n=of(t);if(n!==of(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nf(t).isEqual(nf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ff(t.timestampValue),r=ff(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return pf(t.bytesValue).isEqual(pf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return df(t.geoPointValue.latitude)===df(e.geoPointValue.latitude)&&df(t.geoPointValue.longitude)===df(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return df(t.integerValue)===df(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=df(t.doubleValue),r=df(e.doubleValue);return n===r?lh(n)===lh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return th(t.arrayValue.values||[],e.arrayValue.values||[],sf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xh(n)!==Xh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sf(n[i],r[i])))return!1;return!0}(t,e);default:return ql()}}function uf(t,e){return void 0!==(t.values||[]).find(function(t){return sf(t,e)})}function af(t,e){var n=of(t),r=of(e);if(n!==r)return Zl(n,r);switch(n){case 0:return 0;case 1:return Zl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=df(t.integerValue||t.doubleValue),r=df(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return cf(t.timestampValue,e.timestampValue);case 4:return cf(nf(t),nf(e));case 5:return Zl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=pf(t),r=pf(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zl(n[i],r[i]);if(0!==o)return o}return Zl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zl(df(t.latitude),df(e.latitude));return 0!==n?n:Zl(df(t.longitude),df(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=af(n[i],r[i]);if(o)return o}return Zl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Zl(r[s],o[s]);if(0!==u)return u;var a=af(n[r[s]],i[o[s]]);if(0!==a)return a}return Zl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ql()}}function cf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zl(t,e);var n=ff(t),r=ff(e),i=Zl(n.seconds,r.seconds);return 0!==i?i:Zl(n.nanos,r.nanos)}function lf(t){return hf(t)}function hf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ff(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pf(t.bytesValue).toBase64():"referenceValue"in t?ah.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=hf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+hf(t.fields[o])}return e+"}"}(t.mapValue):ql();var e}function ff(t){if(zl(!!t),"string"==typeof t){var e=0,n=rf.exec(t);if(zl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:df(t.seconds),nanos:df(t.nanos)}}function df(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function pf(t){return"string"==typeof t?vh.fromBase64String(t):vh.fromUint8Array(t)}function gf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function yf(t){return!!t&&"integerValue"in t}function vf(t){return!!t&&"arrayValue"in t}function mf(t){return!!t&&"nullValue"in t}function bf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}var _f={asc:"ASCENDING",desc:"DESCENDING"},Of={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef=function(t,e){this.t=t,this.tn=e};function Cf(t){return{integerValue:""+t}}function If(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function Tf(t,e){return hh(e)?Cf(e):If(t,e)}function Sf(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xf(t,e){return t.tn?e.toBase64():e.toUint8Array()}function jf(t,e){return Sf(t,e.M())}function Af(t){return zl(!!t),rh.N(function(t){var e=ff(t);return new nh(e.seconds,e.nanos)}(t))}function kf(t,e){return function(t){return new oh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Pf(t){var e=oh.Y(t);return zl(ed(e)),e}function Nf(t,e){return kf(t.t,e.path)}function Rf(t,e){var n=Pf(e);if(n.get(1)!==t.t.projectId)throw new Gl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Gl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ah(Mf(n))}function Df(t,e){return kf(t.t,e)}function Vf(t){var e=Pf(t);return 4===e.length?oh.X():Mf(e)}function Lf(t){return new oh(["projects",t.t.projectId,"databases",t.t.database]).J()}function Mf(t){return zl(t.length>4&&"documents"===t.get(4)),t.B(5)}function Uf(t,e,n){return{name:Nf(t,e),fields:n.proto.mapValue.fields}}function Ff(t,e){var n;if(e instanceof Id)n={update:Uf(t,e.key,e.value)};else if(e instanceof kd)n={delete:Nf(t,e.key)};else if(e instanceof Td)n={update:Uf(t,e.key,e.data),updateMask:td(e.en)};else if(e instanceof xd)n={transform:{document:Nf(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof sd)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof ud)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof cd)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof hd)return{fieldPath:e.field.J(),increment:n.nn};throw ql()}(0,t)})}};else{if(!(e instanceof Pd))return ql();n={verify:Nf(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:jf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ql()}(t,e.rn)),n}function qf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vd.updateTime(Af(t.updateTime)):void 0!==t.exists?vd.exists(t.exists):vd.on()}(e.currentDocument):vd.on();if(e.update){var r=Rf(t,e.update.name),i=new Nd({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new pd((t.fieldPaths||[]).map(function(t){return uh.nt(t)}))}(e.updateMask);return new Td(r,i,o,n)}return new Id(r,i,n)}if(e.delete){var s=Rf(t,e.delete);return new kd(s,n)}if(e.transform){var u=Rf(t,e.transform.document),a=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(zl("REQUEST_TIME"===e.setToServerValue),n=new sd):"appendMissingElements"in e?n=new ud(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new cd(e.removeAllFromArray.values||[]):"increment"in e?n=new hd(t,e.increment):ql();var r=uh.nt(e.fieldPath);return new gd(r,n)}(t,e)});return zl(!0===n.exists),new xd(u,a)}if(e.verify){var c=Rf(t,e.verify);return new Pd(c,n)}return ql()}function zf(t,e){return{documents:[Df(t,e.path)]}}function Hf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Df(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Df(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(bf(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(mf(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bf(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(mf(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Qf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yf(t.field),direction:Kf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||ch(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Wf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Wf(e.endAt)),n}function Bf(t){var e=Vf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Gf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new gp(Xf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return ch(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=$f(n.startAt));var l=null;return n.endAt&&(l=$f(n.endAt)),qd(e,i,u,s,a,"F",c,l)}function Gf(t){return t?void 0!==t.unaryFilter?[Zf(t)]:void 0!==t.fieldFilter?[Jf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Gf(t)}).reduce(function(t,e){return t.concat(e)}):ql():[]}function Wf(t){return{before:t.before,values:t.position}}function $f(t){return new hp(t.values||[],!!t.before)}function Kf(t){return _f[t]}function Qf(t){return Of[t]}function Yf(t){return{fieldPath:t.J()}}function Xf(t){return uh.nt(t.fieldPath)}function Jf(t){return np.create(Xf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ql()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xf(t.unaryFilter.field);return np.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xf(t.unaryFilter.field);return np.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xf(t.unaryFilter.field);return np.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xf(t.unaryFilter.field);return np.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ql()}}function td(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function ed(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var nd=function(){this.cn=void 0};function rd(t,e,n){return t instanceof sd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ud?ad(t,e):t instanceof cd?ld(t,e):function(t,e){var n=od(t,e),r=fd(n)+fd(t.nn);return yf(n)&&yf(t.nn)?Cf(r):If(t.serializer,r)}(t,e)}function id(t,e,n){return t instanceof ud?ad(t,e):t instanceof cd?ld(t,e):n}function od(t,e){return t instanceof hd?yf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e}(nd),ud=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ts.c)(e,t),e}(nd);function ad(t,e){for(var n=dd(e),r=function(t){n.some(function(e){return sf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ts.c)(e,t),e}(nd);function ld(t,e){for(var n=dd(e),r=function(t){n=n.filter(function(e){return!sf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var hd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Ts.c)(e,t),e}(nd);function fd(t){return df(t.integerValue||t.doubleValue)}function dd(t){return vf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var pd=function(){function t(t){this.fields=t,t.sort(uh.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return th(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gd=function(t,e){this.field=t,this.transform=e},yd=function(t,e){this.version=t,this.transformResults=e},vd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function md(t,e){return void 0!==t.updateTime?e instanceof Ld&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ld}var bd=function(){};function wd(t,e,n){return t instanceof Id?function(t,e,n){return new Ld(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Td?function(t,e,n){if(!md(t.rn,e))return new Ud(t.key,n.version);var r=Sd(t,e);return new Ld(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof xd?function(t,e,n){if(zl(null!=n.transformResults),!md(t.rn,e))return new Ud(t.key,n.version);var r=jd(0,e),i=function(t,e,n){var r=[];zl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Ld&&(u=e.field(o.field)),r.push(id(s,u,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Ad(t,r.data(),i);return new Ld(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Md(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function _d(t,e,n,r){return t instanceof Id?function(t,e){if(!md(t.rn,e))return e;var n=Cd(e);return new Ld(t.key,n,t.value,{an:!0})}(t,e):t instanceof Td?function(t,e){if(!md(t.rn,e))return e;var n=Cd(e),r=Sd(t,e);return new Ld(t.key,n,r,{an:!0})}(t,e):t instanceof xd?function(t,e,n,r){if(!md(t.rn,e))return e;var i=jd(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof Ld&&(c=n.field(u.field)),null===c&&r instanceof Ld&&(c=r.field(u.field)),i.push(rd(a,c,e))}return i}(t.fieldTransforms,n,e,r),s=Ad(t,i.data(),o);return new Ld(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return md(t.rn,e)?new Md(t.key,rh.min()):e}(t,e)}function Od(t,e){return t instanceof xd?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Ld?e.field(o.field):void 0,u=od(o.transform,s||null);null!=u&&(n=null==n?(new Rd).set(o.field,u):n.set(o.field,u))}return n?n.hn():null}(t,e):null}function Ed(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||th(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ud&&e instanceof ud||t instanceof cd&&e instanceof cd?th(t.elements,e.elements,sf):t instanceof hd&&e instanceof hd?sf(t.nn,e.nn):t instanceof sd&&e instanceof sd}(t.transform,e.transform)}(t,e)}))}function Cd(t){return t instanceof Ld?t.version:rh.min()}var Id=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Ts.c)(e,t),e}(bd),Td=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Ts.c)(e,t),e}(bd);function Sd(t,e){return function(t,e){var n=new Rd(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof Ld?e.data():Nd.empty())}var xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=vd.exists(!0),r}return Object(Ts.c)(e,t),e}(bd);function jd(t,e){return e}function Ad(t,e,n){for(var r=new Rd(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Ts.c)(e,t),e}(bd),Pd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Ts.c)(e,t),e}(bd),Nd=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!wf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return sf(this.proto,t.proto)},t}(),Rd=function(){function t(t){void 0===t&&(t=Nd.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===of(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(uh.X(),this._n);return null!=t?new Nd(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=wf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Dd(t){var e=[];return Jh(t.fields||{},function(t,n){var r=new uh([t]);if(wf(n)){var i=Dd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new pd(e)}var Vd=function(t,e){this.key=t,this.version=e},Ld=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ts.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Vd),Md=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ts.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vd),Ud=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vd),Fd=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.In=null,this.mn=null};function qd(t,e,n,r,i,o,s,u){return new Fd(t,e,n,r,i,o,s,u)}function zd(t){return new Fd(t)}function Hd(t){return!ch(t.limit)&&"F"===t.limitType}function Bd(t){return!ch(t.limit)&&"L"===t.limitType}function Gd(t){return t.Tn.length>0?t.Tn[0].field:null}function Wd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function $d(t){return null!==t.collectionGroup}function Kd(t){var e=Hl(t);if(null===e.In){e.In=[];var n=Wd(e),r=Gd(e);if(null!==n&&null===r)n.tt()||e.In.push(new gp(n)),e.In.push(new gp(uh.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var u=s[o];e.In.push(u),u.field.tt()&&(i=!0)}if(!i){var a=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new gp(uh.et(),a))}}}return e.In}function Qd(t){var e=Hl(t);if(!e.mn)if("F"===e.limitType)e.mn=dh(e.path,e.collectionGroup,Kd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kd(e);r<i.length;r++){var o=i[r];n.push(new gp(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new hp(e.endAt.position,!e.endAt.before):null,u=e.startAt?new hp(e.startAt.position,!e.startAt.before):null;e.mn=dh(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.mn}function Yd(t,e,n){return new Fd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return gh(Qd(t),Qd(e))&&t.limitType===e.limitType}function Jd(t){return ph(Qd(t))+"|lt:"+t.limitType}function Zd(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+lf(e.value);var e}).join(", ")+"]"),ch(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fp(t.startAt)),t.endAt&&(e+=", endAt: "+fp(t.endAt)),"Target("+e+")"}(Qd(t))+"; limitType="+t.limitType+")"}function tp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):ah.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!dp(t.startAt,Kd(t),e)||t.endAt&&dp(t.endAt,Kd(t),e))}(t,e)}function ep(t){return function(e,n){for(var r=!1,i=0,o=Kd(t);i<o.length;i++){var s=o[i],u=yp(s,e,n);if(0!==u)return u;r=r||s.field.tt()}return 0}}var np=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ts.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new rp(t,n,r):"array-contains"===n?new up(t,r):"in"===n?new ap(t,r):"not-in"===n?new cp(t,r):"array-contains-any"===n?new lp(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new ip(t,n):new op(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(af(e,this.value)):null!==e&&of(this.value)===of(e)&&this.Pn(af(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ql()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ah.it(r.referenceValue),i}return Object(Ts.c)(e,t),e.prototype.matches=function(t){var e=ah.$(t.key,this.key);return this.Pn(e)},e}(np),ip=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=sp(0,n),r}return Object(Ts.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(np),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=sp(0,n),r}return Object(Ts.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(np);function sp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ah.it(t.referenceValue)})}var up=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ts.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vf(e)&&uf(e.arrayValue,this.value)},e}(np),ap=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ts.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&uf(this.value.arrayValue,e)},e}(np),cp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ts.c)(e,t),e.prototype.matches=function(t){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!uf(this.value.arrayValue,e)},e}(np),lp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ts.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return uf(e.value.arrayValue,t)})},e}(np),hp=function(t,e){this.position=t,this.before=e};function fp(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return lf(t)}).join(",")}function dp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?ah.$(ah.it(s.referenceValue),n.key):af(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function pp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!sf(t.position[n],e.position[n]))return!1;return!0}var gp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function yp(t,e,n){var r=t.field.tt()?ah.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?af(r,i):ql()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ql()}}function vp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mp=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=wd(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=_d(i,e,e,this.gn))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=_d(a,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&th(this.mutations,t.mutations,function(t,e){return Ed(t,e)})&&th(this.baseMutations,t.baseMutations,function(t,e){return Ed(t,e)})},t}(),bp=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){zl(e.mutations.length===r.length);for(var i=Rh,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wp=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Jh(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.W=function(){return Zh(this.Nn)},t}(),_p=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&ql(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Op=function(){function t(){this.Qn=new wp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:rh.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?_p.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Ep=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Cp(t){return new Ef(t,!0)}function Ip(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Tp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sp=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),xp=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=kh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=Ah();return i.forEach(function(t,e){e||(e=new Md(t,rh.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return ah.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):$d(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new ah(e)).next(function(t){var e=Nh();return t instanceof Ld&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=Nh();return this.os.As(t,i).next(function(s){return _p.forEach(s,function(s){var u=function(t,e){return new Fd(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return o.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=r.get(c),h=_d(a,l,l,o.gn);r=h instanceof Ld?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){tp(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Vh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Td&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ld&&(c=c.Tt(t,e))}),c})},t}(),jp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Vh(),i=Vh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ap=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Ap.Ds=-1;var kp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Ll("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Pp=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(js.g)())&&Ml("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ll("SimpleDb","Removing database:",t),Mp(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(js.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ll("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Rp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gl(Bl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Rp(t,n))},i.onupgradeneeded=function(t){Ll("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ll("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ts.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Ts.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Ts.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Xs(t)];case 2:return u.db=h.sent(),e=Vp.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),_p.reject(t)}).Ln(),a={},s.catch(function(){}),[4,e.ei];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Ll("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Np=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Mp(this.ni.delete())},t}(),Rp=function(t){function e(e,n){var r=this;return(r=t.call(this,Bl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ts.c)(e,t),e}(Gl);function Dp(t){return"IndexedDbTransactionError"===t.name}var Vp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Ep,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Rp(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Fp(e.target.error);n.ci.reject(new Rp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Rp(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Ll("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Lp(e)},t}(),Lp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ll("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ll("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Mp(n)},t.prototype.add=function(t){return Ll("SimpleDb","ADD",this.store.name,t,t),Mp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Mp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ll("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ll("SimpleDb","DELETE",this.store.name,t),Mp(this.store.delete(t))},t.prototype.count=function(){return Ll("SimpleDb","COUNT",this.store.name),Mp(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){Ll("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new _p(function(n,r){e.onerror=function(t){var e=Fp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new _p(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Np(i),s=e(i.primaryKey,i.value,o);if(s instanceof _p){var u=s.catch(function(t){return o.done(),_p.reject(t)});n.push(u)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return _p.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Mp(t){return new _p(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Fp(t.target.error);n(e)}})}var Up=!1;function Fp(t){var e=Pp.js(Object(js.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Up||(Up=!0,setTimeout(function(){throw r},0)),r}}return t}function qp(){return"undefined"!=typeof window?window:null}function zp(){return"undefined"!=typeof document?document:null}var Hp=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Ep,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Gl(Bl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Bp=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new kp(this,"async_queue_retry"),this.Di=function(){var e=zp();e&&Ll("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Ts.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ts.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Dp(t=n.sent()))throw t;return Ll("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,Ml("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Hp.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&ql()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Ts.b)(this,void 0,void 0,function(){var t;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Gp(t,e){if(Ml("AsyncQueue",e+": "+t),Dp(t))return new Gl(Bl.UNAVAILABLE,e+": "+t);throw t}function Wp(t,e){var n=t[1],r=e[1],i=Zl(t[0],e[0]);return 0===i?Zl(n,r):i}var $p=function(){function t(t){this.Ki=t,this.buffer=new Sh(Wp),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Kp={zi:!1,Hi:0,Ji:0,Yi:0},Qp=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Qp.nr=10,Qp.sr=1e3,Qp.ir=new Qp(41943040,Qp.nr,Qp.sr),Qp.rr=new Qp(-1,0,0);var Yp=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Ll("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Ts.b)(e,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Dp(e=n.sent())?(Ll("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ey(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Xp=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return _p.resolve(Ap.Ds);var r=new $p(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Ll("LruGarbageCollector","Garbage collection skipped; disabled"),_p.resolve(Kp)):this.Pr(t).next(function(r){return r<n.params.Xi?(Ll("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Kp):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(Ll("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,s=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.Ar(t,n)}).next(function(t){return a=Date.now(),Vl()<=xs.a.DEBUG&&Ll("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),_p.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}();function Jp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tg(e)),e=Zp(t.get(n),e);return tg(e)}function Zp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tg(t){return t+"\x01\x01"}function eg(t){var e=t.length;if(zl(e>=2),2===e)return zl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oh.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ql(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ql()}o=s+2}return new oh(r)}var ng=function(t){this.yr=t};function rg(t,e){if(e.document)return function(t,e,n){var r=Rf(t,e.name),i=Af(e.updateTime),o=new Nd({mapValue:{fields:e.fields}});return new Ld(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ah.ct(e.noDocument.path),r=ag(e.noDocument.readTime);return new Md(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ah.ct(e.unknownDocument.path),o=ag(e.unknownDocument.version);return new Ud(i,o)}return ql()}function ig(t,e,n){var r=og(n),i=e.key.path.q().H();if(e instanceof Ld){var o=function(t,e){return{name:Nf(t,e.key),fields:e.En().mapValue.fields,updateTime:Sf(t,e.version.M())}}(t.yr,e);return new Dg(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Md){var s=e.key.path.H(),u=ug(e.version),a=e.hasCommittedMutations;return new Dg(null,new Ng(s,u),null,a,r,i)}if(e instanceof Ud){var c=e.key.path.H(),l=ug(e.version);return new Dg(new Rg(c,l),null,null,!0,r,i)}return ql()}function og(t){var e=t.M();return[e.seconds,e.nanoseconds]}function sg(t){var e=new nh(t[0],t[1]);return rh.N(e)}function ug(t){var e=t.M();return new xg(e.seconds,e.nanoseconds)}function ag(t){var e=new nh(t.seconds,t.nanoseconds);return rh.N(e)}function cg(t,e){var n=(e.baseMutations||[]).map(function(e){return qf(t.yr,e)}),r=e.mutations.map(function(e){return qf(t.yr,e)}),i=nh.fromMillis(e.localWriteTimeMs);return new mp(e.batchId,i,n,r)}function lg(t){var e,n,r=ag(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ag(t.lastLimboFreeSnapshotVersion):rh.min();return void 0!==t.query.documents?(zl(1===(n=t.query).documents.length),e=Qd(zd(Vf(n.documents[0])))):e=function(t){return Qd(Bf(t))}(t.query),new wh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,vh.fromBase64String(t.resumeToken))}function hg(t,e){var n,r=ug(e.ft),i=ug(e.lastLimboFreeSnapshotVersion);n=yh(e.target)?zf(t.yr,e.target):Hf(t.yr,e.target);var o=e.resumeToken.toBase64();return new Lg(e.targetId,ph(e.target),r,o,e.sequenceNumber,i,n)}function fg(t){var e=Bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yd(e,e.limit,"L"):e}var dg=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return zl(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yg(t)._i({index:kg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,o=vg(t),s=yg(t);return s.add({}).next(function(u){zl("number"==typeof u);for(var a=new mp(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ff(t.yr,e)}),i=n.mutations.map(function(e){return Ff(t.yr,e)});return new kg(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,a),l=[],h=new Sh(function(t,e){return Zl(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Pg.key(i.userId,p.key.path,u);h=h.add(p.key.path.q()),l.push(s.put(c)),l.push(o.put(g,Pg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Dr(t,e))}),t.es(function(){i.pr[u]=a.keys()}),_p.qn(l).next(function(){return a})})},t.prototype.Cr=function(t,e){var n=this;return yg(t).get(e).next(function(t){return t?(zl(t.userId===n.userId),cg(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?_p.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yg(t)._i({index:kg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(zl(e.batchId>=r),o=cg(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yg(t)._i({index:kg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yg(t).ui(kg.userMutationsIndex,n).next(function(t){return t.map(function(t){return cg(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=Pg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vg(t)._i({range:i},function(r,i,s){var u=r[0],a=r[2],c=eg(r[1]);if(u===n.userId&&e.path.isEqual(c))return yg(t).get(a).next(function(t){if(!t)throw ql();zl(t.userId===n.userId),o.push(cg(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new Sh(Zl),i=[];return e.forEach(function(e){var o=Pg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=vg(t)._i({range:s},function(t,i,o){var s=t[0],u=t[2],a=eg(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),_p.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Sh(Zl);return vg(t)._i({range:s},function(t,e,o){var s=t[0],a=t[2],c=eg(t[1]);s===n.userId&&r.j(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.kr(t,u)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(yg(t).get(e).next(function(t){if(null===t)throw ql();zl(t.userId===n.userId),r.push(cg(n.serializer,t))}))}),_p.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return gg(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),_p.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return _p.resolve();var r=IDBKeyRange.lowerBound(Pg.prefixForUser(e.userId)),i=[];return vg(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=eg(t[1]);i.push(o)}else r.done()}).next(function(){zl(0===i.length)})})},t.prototype.Qr=function(t,e){return pg(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return mg(t).get(this.userId).next(function(t){return t||new Ag(e.userId,-1,"")})},t}();function pg(t,e,n){var r=Pg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return vg(t)._i({range:o,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function gg(t,e,n){var r=t.store(kg.store),i=t.store(Pg.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r._i({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){zl(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Pg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return _p.qn(o).next(function(){return c})}function yg(t){return iy.Ys(t,kg.store)}function vg(t){return iy.Ys(t,Pg.store)}function mg(t){return iy.Ys(t,Ag.store)}var bg=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Og(t).put(Eg(e),n)},t.prototype.Hn=function(t,e){var n=Og(t),r=Eg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Og(t).get(Eg(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return Og(t).get(Eg(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:Cg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=kh();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=kh(),i=new Ch(ah.$);return this.zr(t,e,function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Cg(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return _p.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Og(t)._i({range:r},function(t,e,r){for(var s=ah.ct(t);o&&ah.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=Nh(),o=e.path.length+1,s={};if(n.isEqual(rh.min())){var u=e.path.H();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.H(),c=og(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Dg.collectionReadTimeIndex}return Og(t)._i(s,function(t,n,s){if(t.length===o){var u=rg(r.serializer,n);e.path.j(u.key.path)?u instanceof Ld&&tp(e,u)&&(i=i.Tt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new wg(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return _g(t).get(Vg.key).next(function(t){return zl(!!t),t})},t.prototype.Wr=function(t,e){return _g(t).put(Vg.key,e)},t.prototype.jr=function(t){if(t){var e=rg(this.serializer,t);return e instanceof Md&&e.version.isEqual(rh.min())?null:e}return null},t}(),wg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new wp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ts.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Sh(function(t,e){return Zl(t.J(),e.J())});return this.Qn.forEach(function(o,s){var u=e.so.get(o);if(s.zn){var a=ig(e.no.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=Cg(a);r+=c-u,n.push(e.no.jn(t,o,a))}else if(r-=u,e.Zr){var l=ig(e.no.serializer,new Md(o,rh.min()),e.Wn(o));n.push(e.no.jn(t,o,l))}else n.push(e.no.Hn(t,o))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),_p.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(Op);function _g(t){return iy.Ys(t,Vg.store)}function Og(t){return iy.Ys(t,Dg.store)}function Eg(t){return t.path.H()}function Cg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ql();e=t.noDocument}return JSON.stringify(e).length}var Ig=function(){function t(){this.io=new Tg}return t.prototype.Dr=function(t,e){return this.io.add(e),_p.resolve()},t.prototype.As=function(t,e){return _p.resolve(this.io.getEntries(e))},t}(),Tg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Sh(oh.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Sh(oh.$)).H()},t}(),Sg=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;zl(n<r&&n>=0&&r<=11);var o=new Vp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(jg.store)}(t),function(t){t.createObjectStore(Ag.store,{keyPath:Ag.keyPath}),t.createObjectStore(kg.store,{keyPath:kg.keyPath,autoIncrement:!0}).createIndex(kg.userMutationsIndex,kg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pg.store)}(t),qg(t),function(t){t.createObjectStore(Dg.store)}(t));var s=_p.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Mg.store),t.deleteObjectStore(Lg.store),t.deleteObjectStore(Ug.store)}(t),qg(t)),s=s.next(function(){return function(t){var e=t.store(Ug.store),n=new Ug(0,0,rh.min().M(),0);return e.put(Ug.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(kg.store).ui().next(function(n){t.deleteObjectStore(kg.store),t.createObjectStore(kg.store,{keyPath:kg.keyPath,autoIncrement:!0}).createIndex(kg.userMutationsIndex,kg.userMutationsKeyPath,{unique:!0});var r=e.store(kg.store),i=n.map(function(t){return r.put(t)});return _p.qn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(zg.store,{keyPath:zg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Vg.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Dg.store);e.createIndex(Dg.readTimeIndex,Dg.readTimeIndexPath,{unique:!1}),e.createIndex(Dg.collectionReadTimeIndex,Dg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Hg.store,{keyPath:Hg.keyPath})}(t),function(t){t.createObjectStore(Bg.store,{keyPath:Bg.keyPath})}(t)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Dg.store)._i(function(t,n){e+=Cg(n)}).next(function(){var n=new Vg(e);return t.store(Vg.store).put(Vg.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ag.store),r=t.store(kg.store);return n.ui().next(function(n){return _p.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(kg.userMutationsIndex,i).next(function(r){return _p.forEach(r,function(r){zl(r.userId===n.userId);var i=cg(e.serializer,r);return gg(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Mg.store),n=t.store(Dg.store);return t.store(Ug.store).get(Ug.key).next(function(t){var r=[];return n._i(function(n,i){var o=new oh(n),s=function(t){return[0,Jp(t)]}(o);r.push(e.get(s).next(function(n){return n?_p.resolve():function(n){return e.put(new Mg(0,Jp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return _p.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Fg.store,{keyPath:Fg.keyPath});var n=e.store(Fg.store),r=new Tg,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Jp(i)})}};return e.store(Dg.store)._i({li:!0},function(t,e){var n=new oh(t);return i(n.q())}).next(function(){return e.store(Pg.store)._i({li:!0},function(t,e){var n=eg(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Lg.store);return n._i(function(t,r){var i=lg(r),o=hg(e.serializer,i);return n.put(o)})},t}(),xg=function(t,e){this.seconds=t,this.nanoseconds=e},jg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};jg.store="owner",jg.key="owner";var Ag=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ag.store="mutationQueues",Ag.keyPath="userId";var kg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kg.store="mutations",kg.keyPath="batchId",kg.userMutationsIndex="userMutationsIndex",kg.userMutationsKeyPath=["userId","batchId"];var Pg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Jp(e)]},t.key=function(t,e,n){return[t,Jp(e),n]},t}();Pg.store="documentMutations",Pg.PLACEHOLDER=new Pg;var Ng=function(t,e){this.path=t,this.readTime=e},Rg=function(t,e){this.path=t,this.version=e},Dg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Dg.store="remoteDocuments",Dg.readTimeIndex="readTimeIndex",Dg.readTimeIndexPath="readTime",Dg.collectionReadTimeIndex="collectionReadTimeIndex",Dg.collectionReadTimeIndexPath=["parentPath","readTime"];var Vg=function(t){this.byteSize=t};Vg.store="remoteDocumentGlobal",Vg.key="remoteDocumentGlobalKey";var Lg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Lg.store="targets",Lg.keyPath="targetId",Lg.queryTargetsIndexName="queryTargetsIndex",Lg.queryTargetsKeyPath=["canonicalId","targetId"];var Mg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Mg.store="targetDocuments",Mg.keyPath=["targetId","path"],Mg.documentTargetsIndex="documentTargetsIndex",Mg.documentTargetsKeyPath=["path","targetId"];var Ug=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ug.key="targetGlobalKey",Ug.store="targetGlobal";var Fg=function(t,e){this.collectionId=t,this.parent=e};function qg(t){t.createObjectStore(Mg.store,{keyPath:Mg.keyPath}).createIndex(Mg.documentTargetsIndex,Mg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lg.store,{keyPath:Lg.keyPath}).createIndex(Lg.queryTargetsIndexName,Lg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ug.store)}Fg.store="collectionParents",Fg.keyPath=["collectionId","parent"];var zg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zg.store="clientMetadata",zg.keyPath="clientId";var Hg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Hg.store="bundles",Hg.keyPath="bundleId";var Bg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Bg.store="namedQueries",Bg.keyPath="name";var Gg=Object(Ts.g)(Object(Ts.g)(Object(Ts.g)(Object(Ts.g)([Ag.store,kg.store,Pg.store,Dg.store,Lg.store,jg.store,Ug.store,Mg.store],[zg.store]),[Vg.store]),[Fg.store]),[Hg.store,Bg.store]),Wg=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return $g(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ag(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return $g(t).put({bundleId:(n=e).id,createTime:ug(Af(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Kg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:fg(e.bundledQuery),readTime:ag(e.readTime)};var e})},t.prototype.uo=function(t,e){return Kg(t).put(function(t){return{name:t.name,readTime:ug(Af(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function $g(t){return iy.Ys(t,Hg.store)}function Kg(t){return iy.Ys(t,Bg.store)}var Qg=function(){function t(){this.ao=new Tg}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var o={collectionId:r,parent:Jp(i)};return Yg(t).put(o)}return _p.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[eh(e),""],!1,!0);return Yg(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(eg(o.parent))}return n})},t}();function Yg(t){return iy.Ys(t,Fg.store)}var Xg=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Jg=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new Xg(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return rh.N(new nh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return Zg(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return zl(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return Zg(t)._i(function(s,u){var a=lg(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Vo(t,a)))}).next(function(){return _p.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Zg(t)._i(function(t,n){var r=lg(n);e(r)})},t.prototype.wo=function(t){return ty(t).get(Ug.key).next(function(t){return zl(null!==t),t})},t.prototype.Eo=function(t,e){return ty(t).put(Ug.key,e)},t.prototype.Ro=function(t,e){return Zg(t).put(hg(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=ph(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zg(t)._i({range:r,index:Lg.queryTargetsIndexName},function(t,n,r){var o=lg(n);gh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],o=ey(t);return e.forEach(function(e){var s=Jp(e.path);i.push(o.put(new Mg(n,s))),i.push(r.Vr.Do(t,n,e))}),_p.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=ey(t);return _p.forEach(e,function(e){var o=Jp(e.path);return _p.qn([i.delete([n,o]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=ey(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ey(t),i=Vh();return r._i({range:n,li:!0},function(t,e,n){var r=eg(t[1]),o=new ah(r);i=i.add(o)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=Jp(e.path),r=IDBKeyRange.bound([n],[eh(n)],!1,!0),i=0;return ey(t)._i({index:Mg.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Zg(t).get(e).next(function(t){return t?lg(t):null})},t}();function Zg(t){return iy.Ys(t,Lg.store)}function ty(t){return iy.Ys(t,Ug.store)}function ey(t){return iy.Ys(t,Mg.store)}var ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ry=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Ts.c)(e,t),e}(Sp),iy=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=u,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Gl(Bl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new uy(this,i),this.Ko=n+"main",this.serializer=new ng(a),this.Wo=new Pp(this.Ko,11,new Sg(this.serializer)),this.jo=new Jg(this.Vr,this.serializer),this.os=new Qg,this.ss=function(t,e){return new bg(t,e)}(this.serializer,this.os),this.Go=new Wg(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&Ml("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof ry)return Pp.Ys(t.Lr,e);throw ql()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gl(Bl.FAILED_PRECONDITION,ny);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new Ap(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return sy(e).put(new zg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(Dp(e))return Ll("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ll("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return oy(t).get(jg.key).next(function(t){return _p.resolve(e.oc(t))})},t.prototype.cc=function(t){return sy(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Ts.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,zg.store);return n.ui().next(function(t){var e=i.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return _p.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));o.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?_p.resolve(!0):oy(t).get(jg.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Gl(Bl.FAILED_PRECONDITION,ny);return!1}}return!(!e.networkEnabled||!e.inForeground)||sy(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ll("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(Ts.b)(this,void 0,void 0,function(){var t=this;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[jg.store,zg.store],function(e){var n=new ry(e,Ap.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return sy(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return dg.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ll("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Gg,function(o){return r=new ry(o,i.ko?i.ko.next():Ap.Ds),"readwrite-primary"===e?i.nc(r).next(function(t){return!!t||i.sc(r)}).next(function(e){if(!e)throw Ml("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.Qo(!1)}),new Gl(Bl.FAILED_PRECONDITION,Tp);return n(r)}).next(function(t){return i.rc(r).next(function(){return t})}):i.yc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.yc=function(t){var e=this;return oy(t).get(jg.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gl(Bl.FAILED_PRECONDITION,ny)})},t.prototype.rc=function(t){var e=new jg(this.clientId,this.allowTabSynchronization,Date.now());return oy(t).put(jg.key,e)},t.Gs=function(){return Pp.Gs()},t.prototype.ic=function(t){var e=this,n=oy(t);return n.get(jg.key).next(function(t){return e.oc(t)?(Ll("IndexedDbPersistence","Releasing primary lease."),n.delete(jg.key)):_p.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ml("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Ll("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ml("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Ml("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function oy(t){return iy.Ys(t,jg.store)}function sy(t){return iy.Ys(t,zg.store)}var uy=function(){function t(t,e){this.db=t,this.cr=new Xp(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return ay(t,n)},t.prototype.No=function(t,e,n){return ay(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return ay(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return mg(t).fi(function(r){return pg(t,r,e).next(function(t){return t&&(n=!0),_p.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,function(s,u){if(u<=e){var a=n.bc(t,s).next(function(e){if(!e)return o++,r.Jn(t,s).next(function(){return r.Hn(s),ey(t).delete([0,Jp(s.path)])})});i.push(a)}}).next(function(){return _p.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return ay(t,e)},t.prototype.vc=function(t,e){var n,r=ey(t),i=Ap.Ds;return r._i({index:Mg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ap.Ds&&e(new ah(eg(n)),i),i=s,n=o):i=Ap.Ds}).next(function(){i!==Ap.Ds&&e(new ah(eg(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function ay(t,e){return ey(t).put(function(t,e){return new Mg(0,Jp(t.path),e)}(e,t.Fo))}function cy(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ly=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new Ch(Zl),this.Nc=new wp(function(t){return ph(t)},gh),this.xc=rh.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new xp(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}();function hy(t,e,n,r){return new ly(t,e,n,r)}function fy(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:return n=Hl(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.Mr(t).next(function(s){return o=s,r=n.persistence.mc(e),i=new xp(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],s=Vh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i._s(t,s).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return o=s.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}})})}function dy(t,e){var n=Hl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=_p.resolve();return o.forEach(function(t){s=s.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,s=n.Sn.get(t);zl(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),s.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function py(t){var e=Hl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function gy(t,e){var n=Hl(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var s=[];e.re.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.jo.Co(t,e.de,o).next(function(){return n.jo.So(t,e._e,o)}));var a=e.resumeToken;if(a.ht()>0){var c=u.wt(a,r).dt(t.Fo);i=i.Tt(o,c),function(t,e,n){return zl(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(u,c,e)&&s.push(n.jo.yo(t,c))}}});var u=Ah();if(e.ce.forEach(function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))}),s.push(function(t,e,n,r,i){var o=Vh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var i=Ah();return n.forEach(function(n,o){var s=t.get(n),u=r;o instanceof Md&&o.version.isEqual(rh.min())?(e.Hn(n,u),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,u),i=i.Tt(n,o)):Ll("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),i})}(t,o,e.ce,r).next(function(t){u=t})),!r.isEqual(rh.min())){var a=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,r)});s.push(a)}return _p.qn(s).next(function(){return o.apply(t)}).next(function(){return n.Oc.fs(t,u)})}).then(function(t){return n.Cc=i,t})}function yy(t,e){var n=Hl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function vy(t,e){var n=Hl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?_p.resolve(r=i):n.jo.fo(t).next(function(i){return r=new wh(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function my(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:r=Hl(t),i=r.Cc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Vr.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Dp(s=u.sent()))throw s;return Ll("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}})})}function by(t,e,n){var r=Hl(t),i=rh.min(),o=Vh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Hl(t),i=r.Nc.get(n);return void 0!==i?_p.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Qd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Dc.ws(t,e,n?i:rh.min(),n?o:Vh())}).next(function(t){return{documents:t,Bc:o}})})}function wy(t,e){var n=Hl(t),r=Hl(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function _y(t){var e=Hl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Hl(t),i=Ah(),o=og(n),s=Og(e),u=IDBKeyRange.lowerBound(o,!0);return s._i({index:Dg.readTimeIndex,range:u},function(t,e){var n=rg(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{qc:i,readTime:sg(o)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc;return e.xc=t.readTime,n})}function Oy(t){return Object(Ts.b)(this,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){return[2,(e=Hl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Og(t),n=rh.min();return e._i({index:Dg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=sg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function Ey(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){if(t.code!==Bl.FAILED_PRECONDITION||t.message!==Tp)throw t;return Ll("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Cy=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new kp(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Bl.RESOURCE_EXHAUSTED?(Ml(e.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Bl.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new Gl(Bl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Ts.b)(t,void 0,void 0,function(){return Object(Ts.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return Ll("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(Ll("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Iy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(Ts.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ql()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(zl(void 0===e||"string"==typeof e),vh.fromBase64String(e||"")):(zl(void 0===e||e instanceof Uint8Array),vh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(t){var e=void 0===t.code?Bl.UNKNOWN:Eh(t.code);return new Gl(e,t.message||"")}(s);n=new Wh(r,i,o,u||null)}else if("documentChange"in e){var a=e.documentChange,c=Rf(t,a.document.name),l=Af(a.document.updateTime),h=new Nd({mapValue:{fields:a.document.fields}}),f=new Ld(c,l,h,{});n=new Bh(a.targetIds||[],a.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Rf(t,d.document),g=d.readTime?Af(d.readTime):rh.min(),y=new Md(p,g);n=new Bh([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var v=e.documentRemove,m=Rf(t,v.document);n=new Bh([],v.removedTargetIds||[],m,null)}else{if(!("filter"in e))return ql();var b=e.filter,w=new _h(b.count||0);n=new Gh(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return rh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rh.min():e.readTime?Af(e.readTime):rh.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Lf(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=yh(r)?{documents:zf(t,r)}:{query:Hf(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=xf(t,e.resumeToken):e.ft.F(rh.min())>0&&(n.readTime=Sf(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ql()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Lf(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Cy),Ty=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s._u=!1,s}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(zl(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(zl(void 0!==e),t.map(function(t){return function(t,e){var n=Af(t.updateTime?t.updateTime:e);n.isEqual(rh.min())&&(n=Af(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new yd(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Af(t.commitTime);return this.listener.wu(n,e)}return zl(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Lf(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ff(e.serializer,t)})};this.Zc(n)},e}(Cy),Sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Ts.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new Gl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===Bl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===Bl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),xy=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Ml(e),this.Vu=!1):Ll("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),jy=function(t,e,n,r,i){var o=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu(function(t){n.Ri(function(){return Object(Ts.b)(o,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return My(this)?(Ll("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ts.b)(this,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){switch(n.label){case 0:return(e=Hl(t)).Mu.add(4),[4,ky(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,Ay(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new xy(n,r)};function Ay(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:if(!My(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ky(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Py(t,e){var n=Hl(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Ly(n)?Vy(n):Zy(n).zc()&&Ry(n,e))}function Ny(t,e){var n=Hl(t),r=Zy(n);n.Ou.delete(e),r.zc()&&Dy(n,e),0===n.Ou.size&&(r.zc()?r.Yc():My(n)&&n.Bu.set("Unknown"))}function Ry(t,e){t.qu.De(e.targetId),Zy(t).hu(e)}function Dy(t,e){t.qu.De(e),Zy(t).lu(e)}function Vy(t){t.qu=new Kh({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Zy(t).start(),t.Bu.pu()}function Ly(t){return My(t)&&!Zy(t).Gc()&&t.Ou.size>0}function My(t){return 0===Hl(t).Mu.size}function Uy(t){t.qu=void 0}function Fy(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){return t.Ou.forEach(function(e,n){Ry(t,e)}),[2]})})}function qy(t,e){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(n){return Uy(t),Ly(t)?(t.Bu.Su(e),Vy(t)):t.Bu.set("Unknown"),[2]})})}function zy(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:if(t.Bu.set("Online"),!(e instanceof Wh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ou.has(o=i[r])?[4,t.xu.Uu(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ou.delete(o),t.qu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ll("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Hy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bh?t.qu.$e(e):e instanceof Gh?t.qu.je(e):t.qu.qe(e),n.isEqual(rh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,py(t.Cu)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(vh.lt,n.ft)),Dy(t,e);var r=new wh(n.target,e,1,n.sequenceNumber);Ry(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ll("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Hy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Hy(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r=this;return Object(Ts.d)(this,function(i){switch(i.label){case 0:if(!Dp(e))throw e;return t.Mu.add(1),[4,ky(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return py(t.Cu)}),t.di.Mi(function(){return Object(Ts.b)(r,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return Ll("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,Ay(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function By(t,e){return e().catch(function(n){return Hy(t,n,e)})}function Gy(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:e=Hl(t),n=tv(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return My(t)&&t.Fu.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,yy(e.Cu,r)];case 3:return null===(i=s.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=tv(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Hy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wy(e)&&$y(e),[2]}})})}function Wy(t){return My(t)&&!tv(t).Gc()&&t.Fu.length>0}function $y(t){tv(t).start()}function Ky(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){return tv(t).Tu(),[2]})})}function Qy(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ts.d)(this,function(i){for(e=tv(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]})})}function Yy(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=bp.from(r,e,n),[4,By(t,function(){return t.xu.Ku(i)})];case 1:return o.sent(),[4,Gy(t)];case 2:return o.sent(),[2]}})})}function Xy(t,e){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(n){switch(n.label){case 0:return e&&tv(t).fu?[4,function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return Oh(r=e.code)&&r!==Bl.ABORTED?(n=t.Fu.shift(),tv(t).Jc(),[4,By(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Gy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wy(t)&&$y(t),[2]}})})}function Jy(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return n=Hl(t),e?(n.Mu.delete(2),[4,Ay(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,ky(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zy(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Hl(t);return r.mu(),new Iy(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Fy.bind(null,t),nu:qy.bind(null,t),au:zy.bind(null,t)}),t.ku.push(function(n){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Ly(t)?Vy(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Uy(t),e.label=3;case 3:return[2]}})})})),t.ju}function tv(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Hl(t);return r.mu(),new Ty(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Ky.bind(null,t),nu:Xy.bind(null,t),Eu:Qy.bind(null,t),wu:Yy.bind(null,t)}),t.ku.push(function(n){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Gy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Ll("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}var ev=function(){this.zu=void 0,this.listeners=[]},nv=function(){this.queries=new wp(function(t){return Jd(t)},Xd),this.onlineState="Unknown",this.Hu=new Set};function rv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ts.d)(this,function(c){switch(c.label){case 0:if(n=Hl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ev),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Ju(r)];case 2:return s.zu=c.sent(),[3,4];case 3:return u=c.sent(),a=Gp(u,"Initialization of query '"+Zd(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&uv(n),[2]}})})}function iv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ts.d)(this,function(u){return n=Hl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function ov(t,e){for(var n=Hl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Xu(s)&&(r=!0);u.zu=s}}r&&uv(n)}function sv(t,e,n){var r=Hl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function uv(t){t.Hu.forEach(function(t){t.next()})}var av=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new qh(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=qh.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),cv=function(){function t(){this.ca=new Sh(lv.ua),this.aa=new Sh(lv.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new lv(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new lv(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new ah(new oh([])),r=new lv(n,t),i=new lv(n,t+1),o=[];return this.aa.Kt([r,i],function(t){e._a(t),o.push(t.key)}),o},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new ah(new oh([])),n=new lv(e,t),r=new lv(e,t+1),i=Vh();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new lv(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),lv=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return ah.$(t.key,e.key)||Zl(t.Ta,e.Ta)},t.ha=function(t,e){return Zl(t.Ta,e.Ta)||ah.$(t.key,e.key)},t}();function hv(t,e){return"firestore_clients_"+t+"_"+e}function fv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function dv(t,e){return"firestore_targets_"+t+"_"+e}var pv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Gl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Ml("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Gl(r.error.code,r.error.message)),i?new t(e,r.state,o):(Ml("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Mh(),s=0;i&&s<r.activeTargetIds.length;++s)i=hh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ml("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),vv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ml("SharedClientState","Failed to parse online state: "+e),null)},t}(),mv=function(){function t(){this.activeTargetIds=Mh()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),bv=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Ch(Zl),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=hv(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new mv),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ts.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Ts.d)(this,function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(hv(this.persistenceKey,r)))&&(o=yv.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(s=this.storage.getItem(this.xa))&&(u=this.Ma(s))&&this.ka(u),a=0,c=this.va;a<c.length;a++)this.Va(c[a]);return this.va=[],this.window.addEventListener("unload",function(){return l.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(dv(this.persistenceKey,t));if(n){var r=gv.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(dv(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ll("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ll("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ll("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ll("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Ml("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Ts.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ts.d)(this,function(u){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(s=function(t){var e=Ap.Ds;if(null!=t)try{var n=JSON.parse(t);zl("number"==typeof n),e=n}catch(t){Ml("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ap.Ds&&this.ps(s);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new pv(this.currentUser,t,e,n),i=fv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=fv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=dv(this.persistenceKey,t),i=new gv(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return yv.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return pv.Ia(new Rl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return gv.Ia(r,e)},t.prototype.Ma=function(t){return vv.Ia(t)},t.prototype.uh=function(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Ll("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.ga.dh(s,u).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Mh();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),wv=function(){function t(){this.wh=new mv,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new mv,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),_v=function(t){this.key=t},Ov=function(t){this.key=t},Ev=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Vh(),this.ee=Vh(),this.Ah=ep(t),this.Rh=new Uh(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Fh,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,s=i,u=!1,a=Hd(this.query)&&i.size===this.query.limit?i.last():null,c=Bd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof Ld?e:null;h&&(h=tp(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.Ah(h,a)>0||c&&n.Ah(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Hd(this.query)||Bd(this.query))for(;s.size>this.query.limit;){var l=Hd(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:s,yh:r,ph:u,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ql()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var s=e?this.Sh():[],u=0===this.mh.size&&this.le?1:0,a=u!==this.Ih;return this.Ih=u,0!==o.length||a?{snapshot:new qh(this.query,t.Rh,i,o,t.ee,0===u,a,!1),Dh:s}:{Dh:s}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Fh,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Vh(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new Ov(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new _v(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Vh();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return qh.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Cv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Iv=function(t){this.key=t,this.Fh=!1},Tv=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new wp(function(t){return Jd(t)},Xd),this.qh=new Map,this.Uh=[],this.Qh=new Ch(ah.$),this.Kh=new Map,this.Wh=new cv,this.jh={},this.Gh=new Map,this.zh=Xg._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Sv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:return n=nm(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,vy(n.Cu,Qd(e))];case 2:return o=u.sent(),s=n.kh.Wa(o.targetId),[4,xv(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Jh&&Py(n.Oh,o),u.label=4;case 4:return[2,r]}})})}function xv(t,e,n,r){return Object(Ts.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Ts.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Ts.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:return(i=e.view.gh(n)).ph?[4,by(t.Cu,e.query,!1).then(function(t){return e.view.gh(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Jh,o),[2,(qv(t,e.targetId,s.Dh),s.snapshot)]}})})}(t,e,n,r)},[4,by(t.Cu,e,!0)];case 1:return i=l.sent(),o=new Ev(e,i.Bc),s=o.gh(i.documents),u=Hh.he(n,r&&"Offline"!==t.onlineState),a=o.Zn(s,t.Jh,u),qv(t,n,a.Dh),c=new Cv(e,n,o),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),a.snapshot)]}})})}function jv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return n=Hl(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!Xd(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,my(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),Ny(n.Oh,r.targetId),Uv(n,r.targetId)}).catch(Ey)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Uv(n,r.targetId),[4,my(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Av(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:r=rm(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Hl(t),i=nh.now(),o=e.reduce(function(t,e){return t.add(e.key)},Vh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Od(c,n.get(c.key));null!=l&&s.push(new Td(c.key,l,Dd(l.proto.mapValue),vd.exists(!0)))}return r.rs.Sr(t,i,s,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=u.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new Ch(Zl)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Bv(r,i.Qn)];case 3:return u.sent(),[4,Gy(r.Oh)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Gp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function kv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r;return Object(Ts.d)(this,function(i){switch(i.label){case 0:n=Hl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gy(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(zl(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?zl(r.Fh):t.de.size>0&&(zl(r.Fh),r.Fh=!1))}),[4,Bv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ey(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Pv(t,e,n){var r=Hl(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Hl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)}),r&&uv(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function Nv(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Ts.d)(this,function(c){switch(c.label){case 0:return(r=Hl(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(s=(s=new Ch(ah.$)).Tt(o,new Md(o,rh.min())),u=Vh().add(o),a=new zh(rh.min(),new Map,new Sh(Zl),s,u),[4,kv(r,a)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),Hv(r),[3,4];case 2:return[4,my(r.Cu,e,!1).then(function(){return Uv(r,e,n)}).catch(Ey)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Rv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:n=Hl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dy(n.Cu,e)];case 2:return i=o.sent(),Mv(n,r,null),Lv(n,r),n.kh.Qa(r,"acknowledged"),[4,Bv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ey(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Dv(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:r=Hl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Hl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return zl(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=o.sent(),Mv(r,e,n),Lv(r,e),r.kh.Qa(e,"rejected",n),[4,Bv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ey(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Vv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:My((n=Hl(t)).Oh)||Ll("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Hl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return o=u.sent(),s=Gp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Lv(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function Mv(t,e,n){var r=Hl(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Uv(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||Fv(t,e)})}function Fv(t,e){var n=t.Qh.get(e);null!==n&&(Ny(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Hv(t))}function qv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _v?(t.Wh.Do(o.key,e),zv(t,o)):o instanceof Ov?(Ll("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||Fv(t,o.key)):ql()}}function zv(t,e){var n=e.key;t.Qh.get(n)||(Ll("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Hv(t))}function Hv(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Iv(e)),t.Qh=t.Qh.Tt(e,n),Py(t.Oh,new wh(Qd(zd(e.path)),n,2,Ap.Ds))}}function Bv(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:return r=Hl(t),i=[],o=[],s=[],r.Bh.W()?[3,3]:(r.Bh.forEach(function(t,u){s.push(r.Yh(u,e,n).then(function(t){if(t){r.Jh&&r.kh.Ja(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=jp.Vs(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.Lh.au(i),[4,function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Ts.d)(this,function(l){switch(l.label){case 0:n=Hl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return _p.forEach(e,function(e){return _p.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return _p.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Dp(r=l.sent()))throw r;return Ll("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.Cc.get(u),c=a.Et(a.ft),n.Cc=n.Cc.Tt(u,c));return[2]}})})}(r.Cu,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Gv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return(n=Hl(t)).currentUser.isEqual(e)?[3,3]:(Ll("SyncEngine","User change. New user:",e.h()),[4,fy(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new Gl(Bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Bv(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Wv(t,e){var n=Hl(t),r=n.Kh.get(e);if(r&&r.Fh)return Vh().add(r.key);var i=Vh(),o=n.qh.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Bh.get(u[s]);i=i.Gt(a.view.Ph)}return i}function $v(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return[4,by((n=Hl(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&qv(n,e.targetId,i.Dh),i)]}})})}function Kv(t){return Object(Ts.b)(this,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){return[2,_y((e=Hl(t)).Cu).then(function(t){return Bv(e,t)})]})})}function Qv(t,e,n,r){return Object(Ts.b)(this,void 0,void 0,function(){var i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Hl(t),r=Hl(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):_p.resolve(null)})})}((i=Hl(t)).Cu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gy(i.Oh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Mv(i,e,r||null),Lv(i,e),function(t,e){Hl(Hl(t).rs).Br(e)}(i.Cu,e)):ql(),s.label=4;case 4:return[4,Bv(i,o)];case 5:return s.sent(),[3,7];case 6:Ll("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Yv(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ts.d)(this,function(c){switch(c.label){case 0:return nm(n=Hl(t)),rm(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Xv(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,Jy(n.Oh,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Py(n.Oh,s[o]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(u=[],a=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?u.push(e):a=a.then(function(){return Uv(n,e),my(n.Cu,e,!0)}),Ny(n.Oh,e)}),[4,a]);case 4:return c.sent(),[4,Xv(n,u)];case 5:return c.sent(),function(t){var e=Hl(t);e.Kh.forEach(function(t,n){Ny(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new Ch(ah.$)}(n),n.Hh=!1,[4,Jy(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Xv(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Ts.d)(this,function(g){switch(g.label){case 0:n=Hl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.qh.get(u=s[o]))&&0!==c.length?[4,vy(n.Cu,Qd(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,$v(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wy(n.Cu,u)];case 8:return p=g.sent(),[4,vy(n.Cu,p)];case 9:return a=g.sent(),[4,xv(n,Jv(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function Jv(t){return qd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zv(t){var e=Hl(t);return Hl(Hl(e.Cu).persistence).Ic()}function tm(t,e,n,r){return Object(Ts.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ts.d)(this,function(u){switch(u.label){case 0:return(i=Hl(t)).Hh?(Ll("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_y(i.Cu)];case 3:return o=u.sent(),s=zh.ae(e,"current"===n),[4,Bv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,my(i.Cu,e,!0)];case 6:return u.sent(),Uv(i,e,r),[3,8];case 7:ql(),u.label=8;case 8:return[2]}})})}function em(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Ts.d)(this,function(f){switch(f.label){case 0:if(!(r=nm(t)).Hh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.qh.has(s=o[i])?(Ll("SyncEngine","Adding an already active target "+s),[3,5]):[4,wy(r.Cu,s)]:[3,6];case 2:return u=f.sent(),[4,vy(r.Cu,u)];case 3:return a=f.sent(),[4,xv(r,Jv(u),a.targetId,!1)];case 4:f.sent(),Py(r.Oh,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return r.qh.has(t)?[4,my(r.Cu,t,!1).then(function(){Ny(r.Oh,t),Uv(r,t)}).catch(Ey)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function nm(t){var e=Hl(t);return e.Oh.xu.Qu=kv.bind(null,e),e.Oh.xu.Xe=Wv.bind(null,e),e.Oh.xu.Uu=Nv.bind(null,e),e.Lh.au=ov.bind(null,e.Mh),e.Lh.Xh=sv.bind(null,e.Mh),e}function rm(t){var e=Hl(t);return e.Oh.xu.Ku=Rv.bind(null,e),e.Oh.xu.Wu=Dv.bind(null,e),e}var im=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(rh.min())?this.tl(t,e):this.Zh._s(t,r).next(function(o){var s=i.el(e,o);return(Hd(e)||Bd(e))&&i.ph(e.limitType,s,r,n)?i.tl(t,e):(Vl()<=xs.a.DEBUG&&Ll("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zd(e)),i.Zh.ws(t,e,n).next(function(t){return s.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new Sh(ep(t));return e.forEach(function(e,r){r instanceof Ld&&tp(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Vl()<=xs.a.DEBUG&&Ll("IndexFreeQueryEngine","Using full collection scan to execute query:",Zd(e)),this.Zh.ws(t,e,rh.min())},t}(),om=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Sh(lv.ua)}return t.prototype.br=function(t){return _p.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new mp(i,e,n,r);this.rs.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.sl=this.sl.add(new lv(a.key,i)),this.os.Dr(t,a.key.path.q())}return _p.resolve(o)},t.prototype.Cr=function(t,e){return _p.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return _p.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return _p.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return _p.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new lv(e,0),i=new lv(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);o.push(e)}),_p.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Sh(Zl);return e.forEach(function(t){var e=new lv(t,0),i=new lv(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),_p.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;ah.ot(i)||(i=i.child(""));var o=new lv(new ah(i),0),s=new Sh(Zl);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ta)),!0)},o),_p.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;zl(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return _p.forEach(e.mutations,function(i){var o=new lv(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new lv(e,0),r=this.sl.jt(n);return _p.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return _p.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),sm=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Ch(ah.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return _p.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=kh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),_p.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Nh(),i=new ah(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),u=s.value,a=u.zn,c=u.readTime;if(!e.path.j(s.key.path))break;c.F(n)<=0||a instanceof Ld&&tp(e,a)&&(r=r.Tt(a.key,a))}return _p.resolve(r)},t.prototype.al=function(t,e){return _p.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new um(this)},t.prototype.eo=function(t){return _p.resolve(this.size)},t}(),um=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Ts.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),_p.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Op),am=function(){function t(t){this.persistence=t,this.hl=new wp(function(t){return ph(t)},gh),this.lastRemoteSnapshotVersion=rh.min(),this.highestTargetId=0,this.ll=0,this._l=new cv,this.targetCount=0,this.fl=Xg.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),_p.resolve()},t.prototype.To=function(t){return _p.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return _p.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),_p.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),_p.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Xg(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,_p.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),_p.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,_p.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.hl.delete(s),o.push(r.po(t,u.targetId)),i++)}),_p.qn(o).next(function(){return i})},t.prototype.vo=function(t){return _p.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return _p.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),_p.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),_p.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),_p.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return _p.resolve(n)},t.prototype.Qr=function(t,e){return _p.resolve(this._l.Qr(e))},t}(),cm=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return _p.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Af(n.createTime)}),_p.resolve()},t.prototype.co=function(t,e){return _p.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:fg(n.bundledQuery),readTime:Af(n.readTime)}),_p.resolve()},t}(),lm=function(){function t(t,e){var n=this;this.El={},this.ko=new Ap(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new am(this),this.os=new Ig,this.ss=function(t,e){return new sm(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new ng(e),this.Go=new cm(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new om(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Ll("MemoryPersistence","Starting transaction:",t);var i=new hm(this.ko.next());return this.Vr.Il(),n(i).next(function(t){return r.Vr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return _p.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Ts.c)(e,t),e}(Sp),fm=function(){function t(t){this.persistence=t,this.Rl=new cv,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw ql()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),_p.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),_p.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),_p.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return _p.forEach(this.yl,function(r){var i=ah.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return _p.Un([function(){return _p.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),dm=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ts.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,o){var s=new Al;s.listenOnce(Sl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Tl.NO_ERROR:var e=s.getResponseJson();Ll("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Tl.TIMEOUT:Ll("Connection",'RPC "'+t+'" timed out'),o(new Gl(Bl.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:var n=s.getStatus();if(Ll("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Bl).indexOf(e)>=0?e:Bl.UNKNOWN}(r.status);o(new Gl(u,r.message))}else o(new Gl(Bl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gl(Bl.UNAVAILABLE,"Connection failed."));break;default:ql()}}finally{Ll("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _l,i=Ca(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(js.l)()||Object(js.n)()||Object(js.j)()||Object(js.k)()||Object(js.o)()||Object(js.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ll("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new dm({pl:function(t){c?Ll("Connection","Not sending because WebChannel is closed:",t):(a||(Ll("Connection","Opening WebChannel transport."),u.open(),a=!0),Ll("Connection","WebChannel sending:",t),u.send(t))},vl:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,jl.EventType.OPEN,function(){c||Ll("Connection","WebChannel transport opened.")}),h(u,jl.EventType.CLOSE,function(){c||(c=!0,Ll("Connection","WebChannel transport closed"),l.Nl())}),h(u,jl.EventType.ERROR,function(t){c||(c=!0,Ul("Connection","WebChannel transport errored:",t),l.Nl(new Gl(Bl.UNAVAILABLE,"The operation could not be completed")))}),h(u,jl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];zl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ll("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=mh[t];if(void 0!==e)return Eh(e)}(i),s=r.message;void 0===o&&(o=Bl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Gl(o,s)),u.close()}else Ll("Connection","WebChannel received:",n),l.xl(n)}}),h(i,xl.STAT_EVENT,function(t){10===t.stat?Ll("Connection","Detected buffering proxy"):11===t.stat&&Ll("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Ll("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then(function(t){return Ll("RestConnection","Received: ",t),t},function(e){throw Ul("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+pm[t]},t}()),ym=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Ll("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Ll("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),vm=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),mm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return this.serializer=Cp(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return hy(this.persistence,new im,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new lm(fm.gl,this.serializer)},t.prototype.jl=function(t){return new wv},t.prototype.terminate=function(){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ts.c)(e,t),e.prototype.initialize=function(e){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Oy(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,rm(this.Xl.ga)];case 4:return n.sent(),[4,Gy(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return hy(this.persistence,new im,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Yp(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=cy(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Qp.er(this.cacheSizeBytes):Qp.ir;return new iy(this.synchronizeTabs,e,t.clientId,n,t.di,qp(),zp(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new wv},e}(mm),wm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ts.c)(e,t),e.prototype.initialize=function(e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof bv?(this.kh.ga={_h:Qv.bind(null,n),fh:tm.bind(null,n),dh:em.bind(null,n),Ic:Zv.bind(null,n),lh:Kv.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(Ts.b)(r,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,Yv(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=qp();if(!bv.Gs(e))throw new Gl(Bl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cy(t.Fl.t,t.Fl.persistenceKey);return new bv(e,t.di,n,t.clientId,t.Yl)},e}(bm),_m=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n=this;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return Pv(n.ga,t,1)},this.Oh.xu.s_=Gv.bind(null,this.ga),[4,Jy(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new nv},t.prototype.Zl=function(t){var e=Cp(t.Fl.t),n=new gm(t.Fl);return function(t,e,n){return new Sy(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return Pv(s.ga,t,0)},o=ym.Gs()?new ym:new vm,new jy(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Tv(t,e,n,r,i,o);return s&&(u.Hh=!0),u}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Ts.b)(this,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){switch(n.label){case 0:return e=Hl(t),Ll("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,ky(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),Om=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Em=function(t){this.o_=t};function Cm(t,e,n){if(!n)throw new Gl(Bl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Im(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Tm(t,e,n,r){if(!0===e&&!0===r)throw new Gl(Bl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Sm(t){if(!ah.ot(t))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xm(t){if(ah.ot(t))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function jm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ql()}function Am(t,e){if(t instanceof Em&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gl(Bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jm(t);throw new Gl(Bl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function km(t,e){if(e<=0)throw new Gl(Bl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Pm=function(t){this.c_=t},Nm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Pm);function Rm(t,e,n){return new Lb({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.u_=function(t){return new gd(t.path,new sd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Pm),Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ts.c)(e,t),e.prototype.u_=function(t){var e=Rm(this,t,!0),n=this.f_.map(function(t){return Hb(t,e)}),r=new ud(n);return new gd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pm),Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ts.c)(e,t),e.prototype.u_=function(t){var e=Rm(this,t,!0),n=this.f_.map(function(t){return Hb(t,e)}),r=new cd(n);return new gd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pm),Mm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Ts.c)(e,t),e.prototype.u_=function(t){var e=new hd(t.serializer,Tf(t.serializer,this.d_));return new gd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Pm),Um=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gl(Bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gl(Bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return Zl(this.w_,t.w_)||Zl(this.E_,t.E_)},t}(),Fm=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(vh.fromBase64String(e))}catch(e){throw new Gl(Bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(vh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),qm=new Map,zm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gl(Bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gl(Bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Tm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Hm=function(){function t(t,e){this.I_="(lite)",this.m_=new zm({}),this.A_=!1,t instanceof Nl?(this.R_=t,this.P_=new $l):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gl(Bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(t.options.projectId)}(t),this.P_=new Kl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Gl(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Gl(Bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new zm(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new $l;switch(t.type){case"gapi":var e=t.client;return zl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Gl(Bl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=qm.get(t);e&&(Ll("ComponentProvider","Removing Datastore"),qm.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Bm(){if("undefined"==typeof Uint8Array)throw new Gl(Bl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gm(){if("undefined"==typeof atob)throw new Gl(Bl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.fromBase64String=function(t){return Gm(),new e(Fm.fromBase64String(t))},e.fromUint8Array=function(t){return Bm(),new e(Fm.fromUint8Array(t))},e.prototype.toBase64=function(){return Gm(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Bm(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Em),$m=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),of(t)){case 0:return null;case 1:return t.booleanValue;case 2:return df(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(pf(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw ql()}},t.prototype.L_=function(t,e){var n=this,r={};return Jh(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new Um(df(t.latitude),df(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=ef(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(nf(t));default:return null}},t.prototype.N_=function(t){var e=ff(t);return new nh(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=oh.Y(t);zl(ed(n));var r=new Nl(n.get(1),n.get(3)),i=new ah(n.B(5));return r.isEqual(e)||Ml("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Km=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ts.c)(e,t),e.prototype.F_=function(t){return new Wm(new Fm(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return _w.q_(e,this.firestore,null)},e}($m),Qm=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fb(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Ym(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Xm("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Qm);function Xm(t,e){return"string"==typeof e?Qb(t,e):e instanceof Em?e.o_.G_:e.G_}var Jm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new uh(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Bp,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Ts.c)(e,t),e.prototype.D_=function(){return this.H_||mw(this),this.H_.terminate()},e}(Hm);function tb(t,e,n){var r=this,i=new Ep;return t.di.enqueue(function(){return Object(Ts.b)(r,void 0,void 0,function(){var r;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ew(t,n)];case 1:return o.sent(),[4,nw(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Bl.FAILED_PRECONDITION||t.code===Bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function eb(t){if(t.y_||t.V_)throw new Gl(Bl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nb=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).U_=e,u.J_=e,u.metadata=o,u}return Object(Ts.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new rb(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Xm("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Qm),rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(nb),ib=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Iw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new rb(n.U_,n.Q_,r.key,r,new Iw(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Gl(Bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){return{type:"added",doc:new rb(t.U_,t.Q_,e.doc.key,e.doc,new Iw(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new rb(t.U_,t.Q_,e.doc.key,e.doc,new Iw(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ob(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.Z_=e),this.X_},t}();function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ql()}}function sb(t,e){return t instanceof nb&&e instanceof nb?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof ib&&e instanceof ib&&t.U_===e.U_&&kb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ts.c)(e,t),e.prototype.F_=function(t){return new Fm(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new fb(this.firestore,null,e)},e}($m);function ab(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Am(t.firestore,Zm),s=Pb(o);return e instanceof Em&&(e=e.o_),lb(o,("string"==typeof e||e instanceof Jm?qb(s,"updateDoc",t.K_,e,n,r):Fb(s,"updateDoc",t.K_,e)).ef(t.K_,vd.exists(!0)))}function cb(t){for(var e,n,r,i=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var u={includeMetadataChanges:!1},a=0;"object"!=typeof o[a]||Ip(o[a])||(u=o[a],a++);var c,l,h,f={includeMetadataChanges:u.includeMetadataChanges};if(Ip(o[a])){var d=o[a];o[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),o[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof fb)l=Am(t.firestore,Zm),h=zd(t.K_.path),c={next:function(e){o[a]&&o[a](hb(l,t,e))},error:o[a+1],complete:o[a+2]};else{l=Am(t.firestore,Zm),h=t.tf;var p=new ub(l);c={next:function(e){o[a]&&o[a](new ib(l,p,t,e))},error:o[a+1],complete:o[a+2]},Ib(t.tf)}var g=vw(l),y=new Om(c),v=new av(h,y,f);return l.z_.Ri(function(){return Object(Ts.b)(i,void 0,void 0,function(){var t;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t=rv,[4,cw(g)];case 1:return[2,t.apply(void 0,[e.sent(),v])]}})})}),function(){y.r_(),l.z_.Ri(function(){return Object(Ts.b)(i,void 0,void 0,function(){var t;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t=iv,[4,cw(g)];case 1:return[2,t.apply(void 0,[e.sent(),v])]}})})})}}function lb(t,e){return function(t,e){var n=this,r=new Ep;return t.di.Ri(function(){return Object(Ts.b)(n,void 0,void 0,function(){var n;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return n=Av,[4,aw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(vw(t),e)}function hb(t,e,n){var r=n.docs.get(e.K_),i=new ub(t);return new nb(t,i,e.K_,r,new Iw(n.hasPendingWrites,n.fromCache),e.j_)}var fb=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tb(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),db=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),pb=function(){};function gb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Ts.c)(e,t),e.prototype.sf=function(t){var e=Pb(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Eb(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Ob(r,t,l[c]));u={arrayValue:{values:a}}}else u=Ob(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Eb(s,o),u=zb(n,"where",s,"in"===o||"not-in"===o);var h=np.create(i,o,u);return function(t,e){if(e.An()){var n=Wd(t);if(null!==n&&!n.isEqual(e.field))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Gd(t);null!==r&&Cb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gl(Bl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new db(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Fd(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(pb),vb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Ts.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gp(e,n);return function(t,e){if(null===Gd(t)){var n=Wd(t);null!==n&&Cb(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new db(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Fd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(pb),mb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Ts.c)(e,t),e.prototype.sf=function(t){return new db(t.firestore,t.j_,Yd(t.tf,this.hf,this.lf))},e}(pb),bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ts.c)(e,t),e.prototype.sf=function(t){var e=_b(t,this.type,this._f,this.ff);return new db(t.firestore,t.j_,function(t,e){return new Fd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(pb),wb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ts.c)(e,t),e.prototype.sf=function(t){var e=_b(t,this.type,this._f,this.ff);return new db(t.firestore,t.j_,function(t,e){return new Fd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(pb);function _b(t,e,n,r){if(n[0]instanceof Em&&(n[0]=n[0].o_),n[0]instanceof Qm)return function(t,e,n,r,i){if(!r)throw new Gl(Bl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Kd(t);s<u.length;s++){var a=u[s];if(a.field.tt())o.push(gf(e,r.key));else{var c=r.field(a.field);if(tf(c))throw new Gl(Bl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.J();throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new hp(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=Pb(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new Gl(Bl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.tt()){if("string"!=typeof c)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$d(t)&&-1!==c.indexOf("/"))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oh.Y(c));if(!ah.ot(l))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ah(l);u.push(gf(e,h))}else{var f=zb(n,r,c);u.push(f)}}return new hp(u,o)}(t.tf,t.firestore.R_,i,e,n,r)}function Ob(t,e,n){if(n instanceof Em&&(n=n.o_),"string"==typeof n){if(""===n)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$d(e)&&-1!==n.indexOf("/"))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oh.Y(n));if(!ah.ot(r))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gf(t,new ah(r))}if(n instanceof fb)return gf(t,n.K_);throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jm(n)+".")}function Eb(t,e){if(!Array.isArray(t)||0===t.length)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cb(t,e,n){if(!n.isEqual(e))throw new Gl(Bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ib(t){if(Bd(t)&&0===t.Tn.length)throw new Gl(Bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zd(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new fb(this.firestore,null,new ah(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(db);function Sb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Cm("collection","path",e),t instanceof Hm){var i=oh.Y.apply(oh,Object(Ts.g)([e],n));return xm(i),new Tb(t,null,i)}if(!(t instanceof fb||t instanceof Tb))throw new Gl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=oh.Y.apply(oh,Object(Ts.g)([t.path],n)).child(oh.Y(e));return xm(o),new Tb(t.firestore,null,o)}function xb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Jl.D()),Cm("doc","path",e),t instanceof Hm){var i=oh.Y.apply(oh,Object(Ts.g)([e],n));return Sm(i),new fb(t,null,new ah(i))}if(!(t instanceof fb||t instanceof Tb))throw new Gl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(oh.Y.apply(oh,Object(Ts.g)([e],n)));return Sm(o),new fb(t.firestore,t instanceof Tb?t.j_:null,new ah(o))}var jb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ts.c)(e,t),e.prototype.F_=function(t){return new Fm(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new fb(this.firestore,null,e)},e}($m);function Ab(t,e){return(t instanceof fb||t instanceof Tb)&&(e instanceof fb||e instanceof Tb)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function kb(t,e){return t instanceof db&&e instanceof db&&t.firestore===e.firestore&&Xd(t.tf,e.tf)&&t.j_===e.j_}function Pb(t){var e=t.S_(),n=Cp(t.R_);return new Mb(t.R_,!!e.ignoreUndefinedProperties,n)}var Nb=/^__.*__$/,Rb=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Td(t,this.data,this.en,e):new Id(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new xd(t,this.fieldTransforms)),n},t}(),Db=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Td(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new xd(t,this.fieldTransforms)),n},t}();function Vb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ql()}}var Lb=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Yb(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Vb(this.a_)&&Nb.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Mb=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Cp(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Lb({a_:t,methodName:e,l_:n,path:uh.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Ub(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);Wb("Data must be an object, but it was:",s,r);var u,a,c=Bb(r,s);if(o.merge)u=new pd(s.en),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=$b(e,f[h],n);if(!s.contains(d))throw new Gl(Bl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xb(l,d)||l.push(d)}u=new pd(l),a=s.fieldTransforms.filter(function(t){return u.un(t.field)})}else u=null,a=s.fieldTransforms;return new Rb(new Nd(c),u,a)}function Fb(t,e,n,r){var i=t.Rf(1,e,n);Wb("Data must be an object, but it was:",i,r);var o=[],s=new Rd;Jh(r,function(t,r){var u=Qb(e,t,n);r instanceof Em&&(r=r.o_);var a=i.If(u);if(r instanceof Nm)o.push(u);else{var c=Hb(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new pd(o);return new Db(s.hn(),u,i.fieldTransforms)}function qb(t,e,n,r,i,o){var s=t.Rf(1,e,n),u=[$b(e,r,n)],a=[i];if(o.length%2!=0)throw new Gl(Bl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push($b(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Rd,f=u.length-1;f>=0;--f)if(!Xb(l,u[f])){var d=u[f],p=a[f];p instanceof Em&&(p=p.o_);var g=s.If(d);if(p instanceof Nm)l.push(d);else{var y=Hb(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new pd(l);return new Db(h.hn(),v,s.fieldTransforms)}function zb(t,e,n,r){return void 0===r&&(r=!1),Hb(n,t.Rf(r?4:3,e))}function Hb(t,e){if(t instanceof Em&&(t=t.o_),Gb(t))return Wb("Unsupported field value:",e,t),Bb(t,e);if(t instanceof Pm)return function(t,e){if(!Vb(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Hb(o[i],e.mf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Em&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nh.fromDate(t);return{timestampValue:Sf(e.serializer,n)}}if(t instanceof nh){var r=new nh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sf(e.serializer,r)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fm)return{bytesValue:xf(e.serializer,t.T_)};if(t instanceof fb){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:kf(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+jm(t))}(t,e)}function Bb(t,e){var n={};return Zh(t)?e.path&&e.path.length>0&&e.en.push(e.path):Jh(t,function(t,r){var i=Hb(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Gb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nh||t instanceof Um||t instanceof Fm||t instanceof fb||t instanceof Pm)}function Wb(t,e,n){if(!Gb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=jm(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function $b(t,e,n){if(e instanceof Em&&(e=e.o_),e instanceof Jm)return e.G_;if("string"==typeof e)return Qb(t,e);throw Yb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Kb=new RegExp("[~\\*/\\[\\]]");function Qb(t,e,n){if(e.search(Kb)>=0)throw Yb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Jm.bind.apply(Jm,Object(Ts.g)([void 0],e.split("."))))).G_}catch(r){throw Yb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Yb(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Gl(Bl.INVALID_ARGUMENT,(u+=". ")+t+a)}function Xb(t,e){return t.some(function(t){return t.isEqual(e)})}var Jb=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ts.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Gl(Bl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Ts.d)(this,function(a){switch(a.label){case 0:return n=Hl(t),r=Lf(n.serializer)+"/documents",i={documents:e.map(function(t){return Nf(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){zl(!!e.found);var n=Rf(t,e.found.name),r=Af(e.found.updateTime),i=new Nd({mapValue:{fields:e.found.fields}});return new Ld(n,r,i,{})}(t,e):"missing"in e?function(t,e){zl(!!e.missing),zl(!!e.readTime);var n=Rf(t,e.missing),r=Af(e.readTime);return new Md(n,r)}(t,e):ql()}(n.serializer,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());zl(!!e),u.push(e)}),u)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Md||t instanceof Ld?n.bf(t):ql()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new kd(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Ts.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ts.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ah.st(n);e.mutations.push(new Pd(r,e.rn(r)))}),[4,function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ts.d)(this,function(o){switch(o.label){case 0:return n=Hl(t),r=Lf(n.serializer)+"/documents",i={writes:e.map(function(t){return Ff(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof Ld)e=t.version;else{if(!(t instanceof Md))throw ql();e=rh.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gl(Bl.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?vd.updateTime(e):vd.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(rh.min()))throw new Gl(Bl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vd.updateTime(e)}return vd.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Zb=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new kp(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(Ts.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ts.d)(this,function(r){return t=new Jb(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!ch(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Oh(e)}return!1},t}(),tw=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Rl.UNAUTHENTICATED,this.clientId=Jl.D(),this.Of=function(){},this.g=new Ep,this.credentials.A(function(t){Ll("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new Gl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Ep;return this.di.Ni(function(){return Object(Ts.b)(t,void 0,void 0,function(){var t,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Gp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ew(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),Ll("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(Ts.b)(r,void 0,void 0,function(){return Object(Ts.d)(this,function(t){switch(t.label){case 0:return[4,fy(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function nw(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,rw(t)];case 1:return n=i.sent(),Ll("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(Ts.b)(this,void 0,void 0,function(){var n,r;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return(n=Hl(t)).di.Li(),Ll("RemoteStore","RemoteStore received new credentials"),r=My(n),n.Mu.add(3),[4,ky(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,Ay(n)];case 3:return i.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function rw(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Ll("FirestoreClient","Using default OfflineComponentProvider"),[4,ew(t,new mm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function iw(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(Ll("FirestoreClient","Using default OnlineComponentProvider"),[4,nw(t,new _m)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function ow(t){return rw(t).then(function(t){return t.persistence})}function sw(t){return rw(t).then(function(t){return t.Cu})}function uw(t){return iw(t).then(function(t){return t.Oh})}function aw(t){return iw(t).then(function(t){return t.ga})}function cw(t){return Object(Ts.b)(this,void 0,void 0,function(){var e,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return[4,iw(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Sv.bind(null,e.ga),n.Zu=jv.bind(null,e.ga),n)]}})})}function lw(t,e,n,r,i){var o=new Om({next:function(o){e.Ri(function(){return iv(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Gl(Bl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Gl(Bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new av(zd(n.path),o,{includeMetadataChanges:!0,oa:!0});return rv(t,s)}function hw(t,e,n,r,i){var o=new Om({next:function(n){e.Ri(function(){return iv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Gl(Bl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new av(n,o,{includeMetadataChanges:!0,oa:!0});return rv(t,s)}var fw=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=Pb(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=dw(t,this.U_),i=Nw(r.j_,e,n),o=Ub(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,vd.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,s=dw(t,this.U_);return e instanceof Em&&(e=e.o_),o="string"==typeof e||e instanceof Jm?qb(this.Qf,"WriteBatch.update",s.K_,e,n,r):Fb(this.Qf,"WriteBatch.update",s.K_,e),this.qf=this.qf.concat(o.ef(s.K_,vd.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=dw(t,this.U_);return this.qf=this.qf.concat(new kd(e.K_,vd.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Gl(Bl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function dw(t,e){if(t instanceof Em&&(t=t.o_),t.firestore!==e)throw new Gl(Bl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var pw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Ts.c)(e,t),e.prototype.get=function(e){var n=this,r=dw(e,this.U_),i=new ub(this.U_);return t.prototype.get.call(this,e).then(function(t){return new nb(n.U_,i,r.K_,t.W_,new Iw(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=Pb(t)}return t.prototype.get=function(t){var e=this,n=dw(t,this.U_),r=new jb(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return ql();var i=t[0];if(i instanceof Md)return new Qm(e.U_,r,n.K_,null,n.j_);if(i instanceof Ld)return new Qm(e.U_,r,i.key,i,n.j_);throw ql()})},t.prototype.set=function(t,e,n){var r=dw(t,this.U_),i=Nw(r.j_,e,n),o=Ub(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=dw(t,this.U_);return e instanceof Em&&(e=e.o_),o="string"==typeof e||e instanceof Jm?qb(this.Qf,"Transaction.update",s.K_,e,n,r):Fb(this.Qf,"Transaction.update",s.K_,e),this.Wf.update(s.K_,o),this},t.prototype.delete=function(t){var e=dw(t,this.U_);return this.Wf.delete(e.K_),this},t}()),gw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){eb(t);var n=vw(t),r=t.S_(),i=new _m;return tb(n,i,new bm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){eb(t);var e=vw(t),n=t.S_(),r=new _m;return tb(e,r,new wm(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Gl(Bl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ep;return t.z_.Ni(function(){return Object(Ts.b)(e,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ts.b)(this,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return Pp.Gs()?[4,Pp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(cy(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),yw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Nl||(i.Gf=e),i}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ts.b)(e,void 0,void 0,function(){var e,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return[4,ow(t)];case 1:return e=r.sent(),[4,uw(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Hl(t);return e.Mu.delete(0),Ay(e)}(n))]}})})})}(vw(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ts.b)(e,void 0,void 0,function(){var e,n;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return[4,ow(t)];case 1:return e=r.sent(),[4,uw(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Ts.b)(this,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(n){switch(n.label){case 0:return(e=Hl(t)).Mu.add(0),[4,ky(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(vw(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Tm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ep;return t.di.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){var e;return Object(Ts.d)(this,function(r){switch(r.label){case 0:return e=Vv,[4,aw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(vw(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=vw(t),i=Ip(e)?e:{next:e},o=new Om(i);return t.z_.Ri(function(){return Object(Ts.b)(n,void 0,void 0,function(){var t;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Hl(t).Hu.add(e),e.next()},[4,cw(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})}),function(){o.r_(),t.z_.Ri(function(){return Object(Ts.b)(n,void 0,void 0,function(){var t;return Object(Ts.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Hl(t).Hu.delete(e)},[4,cw(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Gl(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kw(this,Sb(this.o_,t))}catch(t){throw Ow(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new _w(this,xb(this.o_,t))}catch(t){throw Ow(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xw(this,function(t,e){if(Cm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new db(t,null,function(t){return new Fd(oh.X(),t)}(e))}(this.o_,t))}catch(t){throw Ow(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ep;return t.di.Ri(function(){return Object(Ts.b)(n,void 0,void 0,function(){var n;return Object(Ts.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return iw(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new Zb(t.di,n,e,r).run(),[2]}})})}),r.promise}(vw(t),function(n){return e(new pw(t,n))})}(this.o_,function(n){return t(new bw(e,n))})},e.prototype.batch=function(){var t=this;return vw(this.o_),new ww(new fw(this.o_,function(e){return lb(t.o_,e)}))},e}(Em);function vw(t){return t.H_||mw(t),t.H_.kf(),t.H_}function mw(t){var e=t.S_(),n=function(t,e,n){return new Pl(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new tw(t.P_,t.z_,n)}var bw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ts.c)(e,t),e.prototype.get=function(t){var e=this,n=Pw(t);return this.o_.get(n).then(function(t){return new Tw(e.U_,t)})},e.prototype.set=function(t,e,n){var r=Pw(t);return n?(Im("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Pw(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Ts.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Pw(t);return this.o_.delete(e),this},e}(Em),ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.set=function(t,e,n){var r=Pw(t);return n?(Im("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Pw(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Ts.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Pw(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Em),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Km(e),r}return Object(Ts.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Gl(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new fb(n.o_,r,new ah(t)))},e.q_=function(t,n,r){return new e(n,new fb(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new kw(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kw(this.firestore,Sb(this.o_,t))}catch(t){throw Ow(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Em&&(t=t.o_),t instanceof fb&&Ab(this.o_,t)},e.prototype.set=function(t,e){e=Im("DocumentReference.set",e);try{return function(t,e,n){var r=Am(t.firestore,Zm),i=Nw(t.j_,e,n);return lb(r,Ub(Pb(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,vd.on()))}(this.o_,t,e)}catch(t){throw Ow(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ab(this.o_,t):ab.apply(void 0,Object(Ts.g)([this.o_,t,e],n))}catch(t){throw Ow(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return lb(Am((t=this.o_).firestore,Zm),[new kd(t.K_,vd.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ew(e),i=Cw(e,function(e){return new Tw(t.firestore,new nb(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return cb(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new ub(n),o=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,sw(r)];case 1:return[4,function(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ts.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Hl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=s.sent())instanceof Ld?n.resolve(r):r instanceof Md?n.resolve(null):n.reject(new Gl(Bl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Gp(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new nb(n,i,t.K_,e,new Iw(e instanceof Ld&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,cw(r)];case 1:return[4,lw(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return hb(n,t,e)})}(this.o_):function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,cw(r)];case 1:return[4,lw(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return hb(n,t,e)})}(this.o_)).then(function(t){return new Tw(e.firestore,new nb(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Em);function Ow(t,e,n){return t.message=t.message.replace(e,n),t}function Ew(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ip(r))return r}return{}}function Cw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ip(t[0])?t[0]:Ip(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Iw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new _w(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return sb(this.o_,t.o_)},e}(Em),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Tw),xw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Ts.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,gb(this.o_,function(t,e,n){var r=e,i=Xm("where",t);return new yb(i,r,n)}(t,n,r)))}catch(t){throw Ow(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,gb(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Xm("orderBy",t);return new vb(r,n)}(t,n)))}catch(t){throw Ow(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,gb(this.o_,function(t){return km("limit",t),new mb("limit",t,"F")}(t)))}catch(t){throw Ow(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,gb(this.o_,function(t){return km("limitToLast",t),new mb("limitToLast",t,"L")}(t)))}catch(t){throw Ow(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Ow(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Ow(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Ow(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Ow(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return kb(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new ub(n),o=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,sw(r)];case 1:return[4,function(t,e,n){return Object(Ts.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Ts.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,by(t,e,!0)];case 1:return r=c.sent(),i=new Ev(e,r.Bc),o=i.gh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return u=c.sent(),a=Gp(u,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new ib(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new ub(n),o=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,cw(r)];case 1:return[4,hw(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new ib(n,i,t,e)})}(this.o_):function(t){var e=this,n=Am(t.firestore,Zm),r=vw(n),i=new ub(n);Ib(t.tf);var o=new Ep;return n.z_.Ri(function(){return Object(Ts.b)(e,void 0,void 0,function(){return Object(Ts.d)(this,function(e){switch(e.label){case 0:return[4,cw(r)];case 1:return[4,hw(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}})})}),o.promise.then(function(e){return new ib(n,i,t,e)})}(this.o_)).then(function(t){return new Aw(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ew(e),i=Cw(e,function(e){return new Aw(t.firestore,e)});return cb(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Em),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sw(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Em),Aw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new xw(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new Sw(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new jw(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new Sw(n.U_,r))})},e.prototype.isEqual=function(t){return sb(this.o_,t.o_)},e}(Em),kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Ts.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new _w(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new _w(this.firestore,void 0===t?xb(this.o_):xb(this.o_,t))}catch(t){throw Ow(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Am(t.firestore,Zm),r=xb(t),i=Nw(t.j_,e);return lb(n,Ub(Pb(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,vd.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new _w(e.firestore,t)})},e.prototype.isEqual=function(t){return Ab(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(xw);function Pw(t){return t instanceof Em&&(t=t.o_),Am(t,fb)}function Nw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rw,Dw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Jm.bind.apply(Jm,Object(Ts.g)([void 0],e))))||this}return Object(Ts.c)(e,t),e.documentId=function(){return new e(uh.et().J())},e.prototype.isEqual=function(t){return t instanceof Em&&(t=t.o_),t instanceof Jm&&this.o_.G_.isEqual(t.G_)},e}(Em),Vw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ts.c)(e,t),e.serverTimestamp=function(){var t=new Dm("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Nm("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vm("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lm("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Mm("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Em),Lw={Firestore:yw,GeoPoint:Um,Timestamp:nh,Blob:Wm,Transaction:bw,WriteBatch:ww,DocumentReference:_w,DocumentSnapshot:Tw,Query:xw,QueryDocumentSnapshot:Sw,QuerySnapshot:Aw,CollectionReference:kw,FieldPath:Dw,FieldValue:Vw,setLogLevel:function(t){Dl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Mw(t,e){return function(t,e=bs.a){return new wt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Uw(t,e){return Mw(t,e).pipe(Object(Ot.a)(t=>({payload:t,type:"query"})))}function Fw(t,e){return Uw(t,e).pipe(zn(void 0),ws(),Object(Ot.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function qw(t,e,n){return Fw(t,n).pipe(Hn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Es(void 0,void 0)),Object(Ot.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function zw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Hw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new kl.a("firestore",function(t){return function(t,e){return new yw(t,new Zm(t,e),new gw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lw)))})(Rw=Ss.a),Rw.registerVersion("@firebase/firestore","2.0.4");class Bw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Fw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ot.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(zn(void 0),ws(),bn(([t,e])=>e.length>0||!t),Object(Ot.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Hn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hw(t);return qw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Uw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ct.a)(this.query.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Gw(this.ref.doc(t),this.afs)}}class Gw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Xw(n,e);return new Bw(r,i,this.afs)}snapshotChanges(){return Mw(this.ref,this.afs.schedulers.outsideAngular).pipe(zn(void 0),ws(),Object(Ot.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ot.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ct.a)(this.ref.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}}class Ww{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Fw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),bn(t=>t.length>0),this.afs.keepUnstableUntilFirst):Fw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Hn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hw(t);return qw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Uw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ct.a)(this.query.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}}const $w=new r.q("angularfire2.enableFirestorePersistence"),Kw=new r.q("angularfire2.firestore.persistenceSettings"),Qw=new r.q("angularfire2.firestore.settings"),Yw=new r.q("angularfire2.firestore.use-emulator");function Xw(t,e=(t=>t)){return{query:e(t),ref:t}}let Jw=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new ns.d(o),this.keepUnstableUntilFirst=Object(ns.h)(this.schedulers);const c=Object(ns.g)(t,o,e);!Is.a.auth&&a&&Object(ns.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(ns.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!q(i)){const e=()=>{try{return Object(Ct.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Ze.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ze.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Xw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Bw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Ww(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Gw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ns.c),r.Pb(ns.b,8),r.Pb($w,8),r.Pb(Qw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Kw,8),r.Pb(Yw,8),r.Pb(rs,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ns.c),Object(r.Pb)(ns.b,8),Object(r.Pb)($w,8),Object(r.Pb)(Qw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Kw,8),Object(r.Pb)(Yw,8),Object(r.Pb)(rs,8))},token:t,providedIn:"any"}),t})(),Zw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:$w,useValue:!0},{provide:Kw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Jw]}),t})(),t_=(()=>{class t{constructor(t){this.firestore=t;const e=JSON.parse(localStorage.getItem("user"));this.firestoreCollection=this.firestore.collection(`users/${e.uid}/todoList`),this.todoList$=this.firestoreCollection.snapshotChanges().pipe(Object(Ot.a)(t=>t.map(t=>{const e=t.payload.doc,n=e.id,r=e.data();return Object.assign(Object.assign({},r),{id:n})})))}getTodoList(){return this.todoList$}complete(t){this.firestoreCollection.doc(t.id).set({completed:!t.completed},{merge:!0})}add(t){this.firestoreCollection.add(t)}delete(t){this.firestoreCollection.doc(t.id).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Jw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),e_=(()=>{class t{constructor(t){this.element=t}ngOnInit(){this.element.nativeElement.style.borderLeft="3px solid "+("high"===this.priority?"red":"medium"===this.priority?"green":"white")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","appTodoPriority",""]],inputs:{priority:["appTodoPriority","priority"]}}),t})();function n_(t,e){1&t&&(r.Lb(0,"div",10),r.Lb(1,"label"),r.ec(2,"Date: "),r.Jb(3,"input",11),r.Kb(),r.Lb(4,"label"),r.ec(5,"Priority: "),r.Lb(6,"select",12),r.Lb(7,"option",13),r.ec(8,"Default"),r.Kb(),r.Lb(9,"option",14),r.ec(10,"High"),r.Kb(),r.Lb(11,"option",15),r.ec(12,"Medium"),r.Kb(),r.Lb(13,"option",16),r.ec(14,"Low"),r.Kb(),r.Kb(),r.Kb(),r.Kb())}function r_(t,e){if(1&t&&(r.Lb(0,"p",22),r.ec(1),r.Kb()),2&t){const t=r.Ub().$implicit;r.yb(1),r.fc(t.date)}}function i_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"li",17),r.Lb(1,"input",18),r.Sb("click",function(){r.Zb(t);const n=e.$implicit;return r.Ub().complete(n)}),r.Kb(),r.Lb(2,"p"),r.ec(3),r.Kb(),r.Lb(4,"div",19),r.dc(5,r_,2,1,"p",20),r.Kb(),r.Lb(6,"button",21),r.Sb("click",function(){r.Zb(t);const n=e.$implicit;return r.Ub().delete(n)}),r.ec(7,"X"),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.Xb("appTodoPriority",t.priority),r.yb(1),r.Xb("checked",t.completed),r.yb(1),r.cc("text-decoration",t.completed?"line-through":""),r.yb(1),r.fc(t.description),r.yb(2),r.Xb("ngIf",t.date)}}function o_(t,e){1&t&&(r.Lb(0,"div"),r.Lb(1,"p"),r.ec(2,"You have no tasks"),r.Kb(),r.Kb())}function s_(t,e){1&t&&(r.Lb(0,"div"),r.Lb(1,"p"),r.ec(2,"You complete all tasks"),r.Kb(),r.Kb())}const u_=[{path:"login",component:vs},{path:"todo",component:(()=>{class t{constructor(t){this.todoService=t,this.todoForm=new Me({description:new Le(""),date:new Le(""),priority:new Le("default")}),this.showAdditional=!1,this.todoList$=this.todoService.getTodoList(),this.allTasksCompleted$=this.todoList$.pipe(Object(Ot.a)(t=>t.every(t=>t.completed)))}toggleAdditional(){this.showAdditional=!this.showAdditional}add(){if(""===this.todoForm.value.description)return;const t=Object.assign(Object.assign({},this.todoForm.value),{completed:!1});this.todoForm.reset(),this.todoService.add(t)}delete(t){this.todoService.delete(t)}complete(t){this.todoService.complete(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(t_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-todo"]],decls:16,vars:11,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"addTodo"],["type","text","formControlName","description","placeholder","Add a task...",1,"task-input"],["type","submit"],[1,"link",3,"click"],["class","additional",4,"ngIf"],[1,"todoList"],[3,"appTodoPriority",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"additional"],["type","date","formControlName","date"],["formControlName","priority"],["value","default"],["value","high"],["value","medium"],["value","low"],[3,"appTodoPriority"],["type","checkbox",3,"checked","click"],[1,"settings-container"],["class","settings",4,"ngIf"],[3,"click"],[1,"settings"]],template:function(t,e){if(1&t&&(r.Lb(0,"div",0),r.Lb(1,"form",1),r.Sb("ngSubmit",function(){return e.add()}),r.Lb(2,"div",2),r.Jb(3,"input",3),r.Lb(4,"button",4),r.ec(5,"Add"),r.Kb(),r.Kb(),r.Lb(6,"p",5),r.Sb("click",function(){return e.toggleAdditional()}),r.ec(7,"Additional"),r.Kb(),r.dc(8,n_,15,0,"div",6),r.Kb(),r.Lb(9,"ul",7),r.dc(10,i_,8,6,"li",8),r.Vb(11,"async"),r.Kb(),r.dc(12,o_,3,0,"div",9),r.Vb(13,"async"),r.dc(14,s_,3,0,"div",9),r.Vb(15,"async"),r.Kb()),2&t){let t=null;r.yb(1),r.Xb("formGroup",e.todoForm),r.yb(7),r.Xb("ngIf",e.showAdditional),r.yb(2),r.Xb("ngForOf",r.Wb(11,5,e.todoList$)),r.yb(2),r.Xb("ngIf",!(null!=(t=r.Wb(13,7,e.todoList$))&&t.length)),r.yb(2),r.Xb("ngIf",r.Wb(15,9,e.allTasksCompleted$))}},directives:[Fe,te,Ge,kt,Zt,$e,P,A,le,he,ge,e_],pipes:[U],styles:[".container[_ngcontent-%COMP%]{width:800px;height:calc(100vh - 190px)}@media (max-width:900px){.container[_ngcontent-%COMP%]{width:400px}}.link[_ngcontent-%COMP%]{color:#11427d;cursor:pointer}.addTodo[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.todoList[_ngcontent-%COMP%]{list-style-type:none;padding:0}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 2px 0 hsla(0,0%,62%,.75)}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px;background-color:unset;border:none;color:#000;box-shadow:none}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f6faff}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px;flex:1}.todoList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{flex:3}.settings-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.settings[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);color:#000;font-size:12px;margin-left:5px}.task-input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;width:80%;min-width:250px;font-size:16px;margin-right:10px}.additional[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.additional[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .additional[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #11427d;height:30px;font-size:16px;margin-right:10px}button[_ngcontent-%COMP%]{border:none;height:45px;width:110px;border-radius:5px;background-color:#112c52;color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}"]}),t})(),canActivate:[(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.getUser().pipe(Mn(1),Object(Ot.a)(t=>!!t||this.router.parseUrl("/login")))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(hs),r.Pb(So))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"",redirectTo:"todo",pathMatch:"full"},{path:"**",component:ms}];let a_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Mo.forRoot(u_)],Mo]}),t})();function c_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"li",1),r.Sb("click",function(){return r.Zb(t),r.Ub().logOut()}),r.ec(1,"Log Out"),r.Kb()}}let l_=(()=>{class t{constructor(t){this.authService=t,this.user$=this.authService.getUser()}logOut(){this.authService.logOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(hs))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:11,vars:3,consts:[["class","logOut",3,"click",4,"ngIf"],[1,"logOut",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"header"),r.Lb(1,"nav"),r.Lb(2,"ul"),r.Lb(3,"li"),r.Lb(4,"h1"),r.ec(5,"Todo app"),r.Kb(),r.Kb(),r.dc(6,c_,2,0,"li",0),r.Vb(7,"async"),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"main"),r.Jb(9,"router-outlet"),r.Kb(),r.Jb(10,"footer")),2&t&&(r.yb(6),r.Xb("ngIf",r.Wb(7,1,e.user$)))},directives:[P,xo],pipes:[U],styles:["header[_ngcontent-%COMP%]{width:100%;height:70px;background-color:#112c52;color:#fff}main[_ngcontent-%COMP%]{width:100%;padding:20px 0;height:calc(100vh - 190px);display:flex;justify-content:center;align-items:center;background-color:#fff;overflow-y:scroll}.logOut[_ngcontent-%COMP%]{cursor:pointer;height:100%;line-height:67px;padding:0 20px}.logOut[_ngcontent-%COMP%]:hover{background-color:#0d223f}footer[_ngcontent-%COMP%]{width:100%;height:80px;background-color:#112c52}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:space-between;align-items:center;margin:0}"]}),t})(),h_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[l_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[bt,a_,Je,ns.a.initializeApp(i),Zw,ls]]}),t})();Object(r.S)(),vt().bootstrapModule(h_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);